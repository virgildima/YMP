{"ast":null,"code":"/*!\n* Scrolloverflow 2.0.6 module for fullPage.js >= 3\n* https://github.com/alvarotrigo/fullPage.js\n*/\n\n/**\n* Customized version of iScroll.js 0.1.3\n* It fixes bugs affecting its integration with fullpage.js\n* @license\n*/\n\n/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */\n(function (window, document, Math) {\n  var rAF = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 1000 / 60);\n  };\n\n  var utils = function () {\n    var me = {};\n    var _elementStyle = document.createElement('div').style;\n\n    var _vendor = function () {\n      var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n          transform,\n          i = 0,\n          l = vendors.length;\n\n      for (; i < l; i++) {\n        transform = vendors[i] + 'ransform';\n        if (transform in _elementStyle) return vendors[i].substr(0, vendors[i].length - 1);\n      }\n\n      return false;\n    }();\n\n    function _prefixStyle(style) {\n      if (_vendor === false) return false;\n      if (_vendor === '') return style;\n      return _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n    }\n\n    me.getTime = Date.now || function getTime() {\n      return new Date().getTime();\n    };\n\n    me.extend = function (target, obj) {\n      for (var i in obj) {\n        target[i] = obj[i];\n      }\n    };\n\n    me.addEvent = function (el, type, fn, capture) {\n      el.addEventListener(type, fn, !!capture);\n    };\n\n    me.removeEvent = function (el, type, fn, capture) {\n      el.removeEventListener(type, fn, !!capture);\n    };\n\n    me.prefixPointerEvent = function (pointerEvent) {\n      return window.MSPointerEvent ? 'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8) : pointerEvent;\n    };\n\n    me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n      var distance = current - start,\n          speed = Math.abs(distance) / time,\n          destination,\n          duration;\n      deceleration = deceleration === undefined ? 0.0006 : deceleration;\n      destination = current + speed * speed / (2 * deceleration) * (distance < 0 ? -1 : 1);\n      duration = speed / deceleration;\n\n      if (destination < lowerMargin) {\n        destination = wrapperSize ? lowerMargin - wrapperSize / 2.5 * (speed / 8) : lowerMargin;\n        distance = Math.abs(destination - current);\n        duration = distance / speed;\n      } else if (destination > 0) {\n        destination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n        distance = Math.abs(current) + destination;\n        duration = distance / speed;\n      }\n\n      return {\n        destination: Math.round(destination),\n        duration: duration\n      };\n    };\n\n    var _transform = _prefixStyle('transform');\n\n    me.extend(me, {\n      hasTransform: _transform !== false,\n      hasPerspective: _prefixStyle('perspective') in _elementStyle,\n      hasTouch: 'ontouchstart' in window,\n      hasPointer: !!(window.PointerEvent || window.MSPointerEvent),\n      // IE10 is prefixed\n      hasTransition: _prefixStyle('transition') in _elementStyle\n    });\n    /*\n    This should find all Android browsers lower than build 535.19 (both stock browser and webview)\n    - galaxy S2 is ok\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S3 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S4 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S5 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n    - galaxy S6 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n    */\n\n    me.isBadAndroid = function () {\n      var appVersion = window.navigator.appVersion; // Android browser is not a chrome browser.\n\n      if (/Android/.test(appVersion) && !/Chrome\\/\\d/.test(appVersion)) {\n        var safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n\n        if (safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n          return parseFloat(safariVersion[1]) < 535.19;\n        } else {\n          return true;\n        }\n      } else {\n        return false;\n      }\n    }();\n\n    me.extend(me.style = {}, {\n      transform: _transform,\n      transitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n      transitionDuration: _prefixStyle('transitionDuration'),\n      transitionDelay: _prefixStyle('transitionDelay'),\n      transformOrigin: _prefixStyle('transformOrigin')\n    });\n\n    me.hasClass = function (e, c) {\n      var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n      return re.test(e.className);\n    };\n\n    me.addClass = function (e, c) {\n      if (me.hasClass(e, c)) {\n        return;\n      }\n\n      var newclass = e.className.split(' ');\n      newclass.push(c);\n      e.className = newclass.join(' ');\n    };\n\n    me.removeClass = function (e, c) {\n      if (!me.hasClass(e, c)) {\n        return;\n      }\n\n      var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n      e.className = e.className.replace(re, ' ');\n    };\n\n    me.offset = function (el) {\n      var left = -el.offsetLeft,\n          top = -el.offsetTop; // jshint -W084\n\n      while (el = el.offsetParent) {\n        left -= el.offsetLeft;\n        top -= el.offsetTop;\n      } // jshint +W084\n\n\n      return {\n        left: left,\n        top: top\n      };\n    };\n\n    me.preventDefaultException = function (el, exceptions) {\n      for (var i in exceptions) {\n        if (exceptions[i].test(el[i])) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    me.extend(me.eventType = {}, {\n      touchstart: 1,\n      touchmove: 1,\n      touchend: 1,\n      mousedown: 2,\n      mousemove: 2,\n      mouseup: 2,\n      pointerdown: 3,\n      pointermove: 3,\n      pointerup: 3,\n      MSPointerDown: 3,\n      MSPointerMove: 3,\n      MSPointerUp: 3\n    });\n    me.extend(me.ease = {}, {\n      quadratic: {\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n        fn: function (k) {\n          return k * (2 - k);\n        }\n      },\n      circular: {\n        style: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\n        // Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n        fn: function (k) {\n          return Math.sqrt(1 - --k * k);\n        }\n      },\n      back: {\n        style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n        fn: function (k) {\n          var b = 4;\n          return (k = k - 1) * k * ((b + 1) * k + b) + 1;\n        }\n      },\n      bounce: {\n        style: '',\n        fn: function (k) {\n          if ((k /= 1) < 1 / 2.75) {\n            return 7.5625 * k * k;\n          } else if (k < 2 / 2.75) {\n            return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n          } else if (k < 2.5 / 2.75) {\n            return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n          } else {\n            return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n          }\n        }\n      },\n      elastic: {\n        style: '',\n        fn: function (k) {\n          var f = 0.22,\n              e = 0.4;\n\n          if (k === 0) {\n            return 0;\n          }\n\n          if (k == 1) {\n            return 1;\n          }\n\n          return e * Math.pow(2, -10 * k) * Math.sin((k - f / 4) * (2 * Math.PI) / f) + 1;\n        }\n      }\n    });\n\n    me.tap = function (e, eventName) {\n      var ev = document.createEvent('Event');\n      ev.initEvent(eventName, true, true);\n      ev.pageX = e.pageX;\n      ev.pageY = e.pageY;\n      e.target.dispatchEvent(ev);\n    };\n\n    me.click = function (e) {\n      var target = e.target,\n          ev;\n\n      if (!/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n        // initMouseEvent is deprecated.\n        ev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\n        ev.initEvent('click', true, true);\n        ev.view = e.view || window;\n        ev.detail = 1;\n        ev.screenX = target.screenX || 0;\n        ev.screenY = target.screenY || 0;\n        ev.clientX = target.clientX || 0;\n        ev.clientY = target.clientY || 0;\n        ev.ctrlKey = !!e.ctrlKey;\n        ev.altKey = !!e.altKey;\n        ev.shiftKey = !!e.shiftKey;\n        ev.metaKey = !!e.metaKey;\n        ev.button = 0;\n        ev.relatedTarget = null;\n        ev._constructed = true;\n        target.dispatchEvent(ev);\n      }\n    };\n\n    return me;\n  }();\n\n  function IScroll(el, options) {\n    this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n    this.scroller = this.wrapper.children[0];\n    this.scrollerStyle = this.scroller.style; // cache style for better performance\n\n    this.options = {\n      resizeScrollbars: true,\n      mouseWheelSpeed: 20,\n      snapThreshold: 0.334,\n      // INSERT POINT: OPTIONS\n      disablePointer: !utils.hasPointer,\n      disableTouch: utils.hasPointer || !utils.hasTouch,\n      disableMouse: utils.hasPointer || utils.hasTouch,\n      startX: 0,\n      startY: 0,\n      scrollY: true,\n      directionLockThreshold: 5,\n      momentum: true,\n      bounce: true,\n      bounceTime: 600,\n      bounceEasing: '',\n      preventDefault: true,\n      preventDefaultException: {\n        tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/\n      },\n      HWCompositing: true,\n      useTransition: true,\n      useTransform: true,\n      bindToWrapper: typeof window.onmousedown === \"undefined\"\n    };\n\n    for (var i in options) {\n      this.options[i] = options[i];\n    } // Normalize options\n\n\n    this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n    this.options.useTransition = utils.hasTransition && this.options.useTransition;\n    this.options.useTransform = utils.hasTransform && this.options.useTransform;\n    this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault; // If you want eventPassthrough I have to lock one of the axes\n\n    this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n    this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX; // With eventPassthrough we also need lockDirection mechanism\n\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n    this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n    this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    } // https://github.com/cubiq/iscroll/issues/1029\n\n\n    if (!this.options.useTransition && !this.options.useTransform) {\n      if (!/relative|absolute/i.test(this.scrollerStyle.position)) {\n        this.scrollerStyle.position = \"relative\";\n      }\n    }\n\n    if (this.options.shrinkScrollbars == 'scale') {\n      this.options.useTransition = false;\n    }\n\n    this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1; // INSERT POINT: NORMALIZATION\n    // Some defaults\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this._events = {}; // INSERT POINT: DEFAULTS\n\n    this._init();\n\n    this.refresh();\n    this.scrollTo(this.options.startX, this.options.startY);\n    this.enable();\n  }\n\n  IScroll.prototype = {\n    version: '5.2.0',\n    _init: function () {\n      this._initEvents();\n\n      if (this.options.scrollbars || this.options.indicators) {\n        this._initIndicators();\n      }\n\n      if (this.options.mouseWheel) {\n        this._initWheel();\n      }\n\n      if (this.options.snap) {\n        this._initSnap();\n      }\n\n      if (this.options.keyBindings) {\n        this._initKeys();\n      } // INSERT POINT: _init\n\n    },\n    destroy: function () {\n      this._initEvents(true);\n\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = null;\n\n      this._execEvent('destroy');\n    },\n    _transitionEnd: function (e) {\n      if (e.target != this.scroller || !this.isInTransition) {\n        return;\n      }\n\n      this._transitionTime();\n\n      if (!this.resetPosition(this.options.bounceTime)) {\n        this.isInTransition = false;\n\n        this._execEvent('scrollEnd');\n      }\n    },\n    _start: function (e) {\n      // React to left mouse button only\n      if (utils.eventType[e.type] != 1) {\n        // for button property\n        // http://unixpapa.com/js/mouse.html\n        var button;\n\n        if (!e.which) {\n          /* IE case */\n          button = e.button < 2 ? 0 : e.button == 4 ? 1 : 2;\n        } else {\n          /* All others */\n          button = e.button;\n        }\n\n        if (button !== 0) {\n          return;\n        }\n      }\n\n      if (!this.enabled || this.initiated && utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n        e.preventDefault();\n      }\n\n      var point = e.touches ? e.touches[0] : e,\n          pos;\n      this.initiated = utils.eventType[e.type];\n      this.moved = false;\n      this.distX = 0;\n      this.distY = 0;\n      this.directionX = 0;\n      this.directionY = 0;\n      this.directionLocked = 0;\n      this.startTime = utils.getTime();\n\n      if (this.options.useTransition && this.isInTransition) {\n        this._transitionTime();\n\n        this.isInTransition = false;\n        pos = this.getComputedPosition();\n\n        this._translate(Math.round(pos.x), Math.round(pos.y));\n\n        this._execEvent('scrollEnd');\n      } else if (!this.options.useTransition && this.isAnimating) {\n        this.isAnimating = false;\n\n        this._execEvent('scrollEnd');\n      }\n\n      this.startX = this.x;\n      this.startY = this.y;\n      this.absStartX = this.x;\n      this.absStartY = this.y;\n      this.pointX = point.pageX;\n      this.pointY = point.pageY;\n\n      this._execEvent('beforeScrollStart');\n    },\n    _move: function (e) {\n      if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault) {\n        // increases performance on Android? TODO: check!\n        e.preventDefault();\n      }\n\n      var point = e.touches ? e.touches[0] : e,\n          deltaX = point.pageX - this.pointX,\n          deltaY = point.pageY - this.pointY,\n          timestamp = utils.getTime(),\n          newX,\n          newY,\n          absDistX,\n          absDistY;\n      this.pointX = point.pageX;\n      this.pointY = point.pageY;\n      this.distX += deltaX;\n      this.distY += deltaY;\n      absDistX = Math.abs(this.distX);\n      absDistY = Math.abs(this.distY); // We need to move at least 10 pixels for the scrolling to initiate\n\n      if (timestamp - this.endTime > 300 && absDistX < 10 && absDistY < 10) {\n        return;\n      } // If you are scrolling in one direction lock the other\n\n\n      if (!this.directionLocked && !this.options.freeScroll) {\n        if (absDistX > absDistY + this.options.directionLockThreshold) {\n          this.directionLocked = 'h'; // lock horizontally\n        } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n          this.directionLocked = 'v'; // lock vertically\n        } else {\n          this.directionLocked = 'n'; // no lock\n        }\n      }\n\n      if (this.directionLocked == 'h') {\n        if (this.options.eventPassthrough == 'vertical') {\n          e.preventDefault();\n        } else if (this.options.eventPassthrough == 'horizontal') {\n          this.initiated = false;\n          return;\n        }\n\n        deltaY = 0;\n      } else if (this.directionLocked == 'v') {\n        if (this.options.eventPassthrough == 'horizontal') {\n          e.preventDefault();\n        } else if (this.options.eventPassthrough == 'vertical') {\n          this.initiated = false;\n          return;\n        }\n\n        deltaX = 0;\n      }\n\n      deltaX = this.hasHorizontalScroll ? deltaX : 0;\n      deltaY = this.hasVerticalScroll ? deltaY : 0;\n      newX = this.x + deltaX;\n      newY = this.y + deltaY; // Slow down if outside of the boundaries\n\n      if (newX > 0 || newX < this.maxScrollX) {\n        newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n      }\n\n      if (newY > 0 || newY < this.maxScrollY) {\n        newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n      }\n\n      this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n      this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n      if (!this.moved) {\n        this._execEvent('scrollStart');\n      }\n\n      this.moved = true;\n\n      this._translate(newX, newY);\n      /* REPLACE START: _move */\n\n\n      if (timestamp - this.startTime > 300) {\n        this.startTime = timestamp;\n        this.startX = this.x;\n        this.startY = this.y;\n      }\n      /* REPLACE END: _move */\n\n    },\n    _end: function (e) {\n      if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n        e.preventDefault();\n      }\n\n      var point = e.changedTouches ? e.changedTouches[0] : e,\n          momentumX,\n          momentumY,\n          duration = utils.getTime() - this.startTime,\n          newX = Math.round(this.x),\n          newY = Math.round(this.y),\n          distanceX = Math.abs(newX - this.startX),\n          distanceY = Math.abs(newY - this.startY),\n          time = 0,\n          easing = '';\n      this.isInTransition = 0;\n      this.initiated = 0;\n      this.endTime = utils.getTime(); // reset if we are outside of the boundaries\n\n      if (this.resetPosition(this.options.bounceTime)) {\n        return;\n      }\n\n      this.scrollTo(newX, newY); // ensures that the last position is rounded\n      // we scrolled less than 10 pixels\n\n      if (!this.moved) {\n        if (this.options.tap) {\n          utils.tap(e, this.options.tap);\n        }\n\n        if (this.options.click) {\n          utils.click(e);\n        }\n\n        this._execEvent('scrollCancel');\n\n        return;\n      }\n\n      if (this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100) {\n        this._execEvent('flick');\n\n        return;\n      } // start momentum animation if needed\n\n\n      if (this.options.momentum && duration < 300) {\n        momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n          destination: newX,\n          duration: 0\n        };\n        momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n          destination: newY,\n          duration: 0\n        };\n        newX = momentumX.destination;\n        newY = momentumY.destination;\n        time = Math.max(momentumX.duration, momentumY.duration);\n        this.isInTransition = 1;\n      }\n\n      if (this.options.snap) {\n        var snap = this._nearestSnap(newX, newY);\n\n        this.currentPage = snap;\n        time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n        newX = snap.x;\n        newY = snap.y;\n        this.directionX = 0;\n        this.directionY = 0;\n        easing = this.options.bounceEasing;\n      } // INSERT POINT: _end\n\n\n      if (newX != this.x || newY != this.y) {\n        // change easing function when scroller goes out of the boundaries\n        if (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n          easing = utils.ease.quadratic;\n        }\n\n        this.scrollTo(newX, newY, time, easing);\n        return;\n      }\n\n      this._execEvent('scrollEnd');\n    },\n    _resize: function () {\n      var that = this;\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = setTimeout(function () {\n        that.refresh();\n      }, this.options.resizePolling);\n    },\n    resetPosition: function (time) {\n      var x = this.x,\n          y = this.y;\n      time = time || 0;\n\n      if (!this.hasHorizontalScroll || this.x > 0) {\n        x = 0;\n      } else if (this.x < this.maxScrollX) {\n        x = this.maxScrollX;\n      }\n\n      if (!this.hasVerticalScroll || this.y > 0) {\n        y = 0;\n      } else if (this.y < this.maxScrollY) {\n        y = this.maxScrollY;\n      }\n\n      if (x == this.x && y == this.y) {\n        return false;\n      }\n\n      this.scrollTo(x, y, time, this.options.bounceEasing);\n      return true;\n    },\n    disable: function () {\n      this.enabled = false;\n    },\n    enable: function () {\n      this.enabled = true;\n    },\n    refresh: function () {\n      var rf = this.wrapper.offsetHeight; // Force reflow\n\n      this.wrapperWidth = this.wrapper.clientWidth;\n      this.wrapperHeight = this.wrapper.clientHeight;\n      /* REPLACE START: refresh */\n\n      this.scrollerWidth = this.scroller.offsetWidth;\n      this.scrollerHeight = this.scroller.offsetHeight;\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      /* REPLACE END: refresh */\n\n      this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n      this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\n      if (!this.hasHorizontalScroll) {\n        this.maxScrollX = 0;\n        this.scrollerWidth = this.wrapperWidth;\n      }\n\n      if (!this.hasVerticalScroll) {\n        this.maxScrollY = 0;\n        this.scrollerHeight = this.wrapperHeight;\n      }\n\n      this.endTime = 0;\n      this.directionX = 0;\n      this.directionY = 0;\n      this.wrapperOffset = utils.offset(this.wrapper);\n\n      this._execEvent('refresh');\n\n      this.resetPosition(); // INSERT POINT: _refresh\n    },\n    on: function (type, fn) {\n      if (!this._events[type]) {\n        this._events[type] = [];\n      }\n\n      this._events[type].push(fn);\n    },\n    off: function (type, fn) {\n      if (!this._events[type]) {\n        return;\n      }\n\n      var index = this._events[type].indexOf(fn);\n\n      if (index > -1) {\n        this._events[type].splice(index, 1);\n      }\n    },\n    _execEvent: function (type) {\n      if (!this._events[type]) {\n        return;\n      }\n\n      var i = 0,\n          l = this._events[type].length;\n\n      if (!l) {\n        return;\n      }\n\n      for (; i < l; i++) {\n        this._events[type][i].apply(this, [].slice.call(arguments, 1));\n      }\n    },\n    scrollBy: function (x, y, time, easing) {\n      x = this.x + x;\n      y = this.y + y;\n      time = time || 0;\n      this.scrollTo(x, y, time, easing);\n    },\n    scrollTo: function (x, y, time, easing) {\n      easing = easing || utils.ease.circular;\n      this.isInTransition = this.options.useTransition && time > 0;\n      var transitionType = this.options.useTransition && easing.style;\n\n      if (!time || transitionType) {\n        if (transitionType) {\n          this._transitionTimingFunction(easing.style);\n\n          this._transitionTime(time);\n        }\n\n        this._translate(x, y);\n      } else {\n        this._animate(x, y, time, easing.fn);\n      }\n    },\n    scrollToElement: function (el, time, offsetX, offsetY, easing) {\n      el = el.nodeType ? el : this.scroller.querySelector(el);\n\n      if (!el) {\n        return;\n      }\n\n      var pos = utils.offset(el);\n      pos.left -= this.wrapperOffset.left;\n      pos.top -= this.wrapperOffset.top; // if offsetX/Y are true we center the element to the screen\n\n      if (offsetX === true) {\n        offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n      }\n\n      if (offsetY === true) {\n        offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n      }\n\n      pos.left -= offsetX || 0;\n      pos.top -= offsetY || 0;\n      pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n      pos.top = pos.top > 0 ? 0 : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n      time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x - pos.left), Math.abs(this.y - pos.top)) : time;\n      this.scrollTo(pos.left, pos.top, time, easing);\n    },\n    _transitionTime: function (time) {\n      if (!this.options.useTransition) {\n        return;\n      }\n\n      time = time || 0;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.scrollerStyle[durationProp] = time + 'ms';\n\n      if (!time && utils.isBadAndroid) {\n        this.scrollerStyle[durationProp] = '0.0001ms'; // remove 0.0001ms\n\n        var self = this;\n        rAF(function () {\n          if (self.scrollerStyle[durationProp] === '0.0001ms') {\n            self.scrollerStyle[durationProp] = '0s';\n          }\n        });\n      }\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].transitionTime(time);\n        }\n      } // INSERT POINT: _transitionTime\n\n    },\n    _transitionTimingFunction: function (easing) {\n      this.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].transitionTimingFunction(easing);\n        }\n      } // INSERT POINT: _transitionTimingFunction\n\n    },\n    _translate: function (x, y) {\n      if (this.options.useTransform) {\n        /* REPLACE START: _translate */\n        this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n        /* REPLACE END: _translate */\n      } else {\n        x = Math.round(x);\n        y = Math.round(y);\n        this.scrollerStyle.left = x + 'px';\n        this.scrollerStyle.top = y + 'px';\n      }\n\n      this.x = x;\n      this.y = y;\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].updatePosition();\n        }\n      } // INSERT POINT: _translate\n\n    },\n    _initEvents: function (remove) {\n      var eventType = remove ? utils.removeEvent : utils.addEvent,\n          target = this.options.bindToWrapper ? this.wrapper : window;\n      eventType(window, 'orientationchange', this);\n      eventType(window, 'resize', this);\n\n      if (this.options.click) {\n        eventType(this.wrapper, 'click', this, true);\n      }\n\n      if (!this.options.disableMouse) {\n        eventType(this.wrapper, 'mousedown', this);\n        eventType(target, 'mousemove', this);\n        eventType(target, 'mousecancel', this);\n        eventType(target, 'mouseup', this);\n      }\n\n      if (utils.hasPointer && !this.options.disablePointer) {\n        eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n        eventType(target, utils.prefixPointerEvent('pointermove'), this);\n        eventType(target, utils.prefixPointerEvent('pointercancel'), this);\n        eventType(target, utils.prefixPointerEvent('pointerup'), this);\n      }\n\n      if (utils.hasTouch && !this.options.disableTouch) {\n        eventType(this.wrapper, 'touchstart', this);\n        eventType(target, 'touchmove', this);\n        eventType(target, 'touchcancel', this);\n        eventType(target, 'touchend', this);\n      }\n\n      eventType(this.scroller, 'transitionend', this);\n      eventType(this.scroller, 'webkitTransitionEnd', this);\n      eventType(this.scroller, 'oTransitionEnd', this);\n      eventType(this.scroller, 'MSTransitionEnd', this);\n    },\n    getComputedPosition: function () {\n      var matrix = window.getComputedStyle(this.scroller, null),\n          x,\n          y;\n\n      if (this.options.useTransform) {\n        matrix = matrix[utils.style.transform].split(')')[0].split(', ');\n        x = +(matrix[12] || matrix[4]);\n        y = +(matrix[13] || matrix[5]);\n      } else {\n        x = +matrix.left.replace(/[^-\\d.]/g, '');\n        y = +matrix.top.replace(/[^-\\d.]/g, '');\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    },\n    _initIndicators: function () {\n      var interactive = this.options.interactiveScrollbars,\n          customStyle = typeof this.options.scrollbars != 'string',\n          indicators = [],\n          indicator;\n      var that = this;\n      this.indicators = [];\n\n      if (this.options.scrollbars) {\n        // Vertical scrollbar\n        if (this.options.scrollY) {\n          indicator = {\n            el: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n            interactive: interactive,\n            defaultScrollbars: true,\n            customStyle: customStyle,\n            resize: this.options.resizeScrollbars,\n            shrink: this.options.shrinkScrollbars,\n            fade: this.options.fadeScrollbars,\n            listenX: false\n          };\n          this.wrapper.appendChild(indicator.el);\n          indicators.push(indicator);\n        } // Horizontal scrollbar\n\n\n        if (this.options.scrollX) {\n          indicator = {\n            el: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n            interactive: interactive,\n            defaultScrollbars: true,\n            customStyle: customStyle,\n            resize: this.options.resizeScrollbars,\n            shrink: this.options.shrinkScrollbars,\n            fade: this.options.fadeScrollbars,\n            listenY: false\n          };\n          this.wrapper.appendChild(indicator.el);\n          indicators.push(indicator);\n        }\n      }\n\n      if (this.options.indicators) {\n        // TODO: check concat compatibility\n        indicators = indicators.concat(this.options.indicators);\n      }\n\n      for (var i = indicators.length; i--;) {\n        this.indicators.push(new Indicator(this, indicators[i]));\n      } // TODO: check if we can use array.map (wide compatibility and performance issues)\n\n\n      function _indicatorsMap(fn) {\n        if (that.indicators) {\n          for (var i = that.indicators.length; i--;) {\n            fn.call(that.indicators[i]);\n          }\n        }\n      }\n\n      if (this.options.fadeScrollbars) {\n        this.on('scrollEnd', function () {\n          _indicatorsMap(function () {\n            this.fade();\n          });\n        });\n        this.on('scrollCancel', function () {\n          _indicatorsMap(function () {\n            this.fade();\n          });\n        });\n        this.on('scrollStart', function () {\n          _indicatorsMap(function () {\n            this.fade(1);\n          });\n        });\n        this.on('beforeScrollStart', function () {\n          _indicatorsMap(function () {\n            this.fade(1, true);\n          });\n        });\n      }\n\n      this.on('refresh', function () {\n        _indicatorsMap(function () {\n          this.refresh();\n        });\n      });\n      this.on('destroy', function () {\n        _indicatorsMap(function () {\n          this.destroy();\n        });\n\n        delete this.indicators;\n      });\n    },\n    _initWheel: function () {\n      utils.addEvent(this.wrapper, 'wheel', this);\n      utils.addEvent(this.wrapper, 'mousewheel', this);\n      utils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n      this.on('destroy', function () {\n        clearTimeout(this.wheelTimeout);\n        this.wheelTimeout = null;\n        utils.removeEvent(this.wrapper, 'wheel', this);\n        utils.removeEvent(this.wrapper, 'mousewheel', this);\n        utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n      });\n    },\n    _wheel: function (e) {\n      if (!this.enabled) {\n        return;\n      } // in IE we can not preventDefault() or otherwise it won't scroll to the prev/next section.\n      // I commented on it here back then: https://github.com/cubiq/iscroll/issues/980\n      // isIE taken from: https://stackoverflow.com/a/49986758/1081396\n\n\n      var isIE = window.navigator.userAgent.match(/(MSIE|Trident)/);\n\n      if (!isIE) {\n        e.preventDefault();\n      }\n\n      var wheelDeltaX,\n          wheelDeltaY,\n          newX,\n          newY,\n          that = this;\n\n      if (this.wheelTimeout === undefined) {\n        that._execEvent('scrollStart');\n      } // Execute the scrollEnd event after 400ms the wheel stopped scrolling\n\n\n      clearTimeout(this.wheelTimeout);\n      this.wheelTimeout = setTimeout(function () {\n        if (!that.options.snap) {\n          that._execEvent('scrollEnd');\n        }\n\n        that.wheelTimeout = undefined;\n      }, 400);\n\n      if ('deltaX' in e) {\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n          wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n      } else if ('wheelDeltaX' in e) {\n        wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n        wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n      } else if ('wheelDelta' in e) {\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n      } else if ('detail' in e) {\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n      } else {\n        return;\n      }\n\n      wheelDeltaX *= this.options.invertWheelDirection;\n      wheelDeltaY *= this.options.invertWheelDirection;\n\n      if (!this.hasVerticalScroll) {\n        wheelDeltaX = wheelDeltaY;\n        wheelDeltaY = 0;\n      }\n\n      if (this.options.snap) {\n        newX = this.currentPage.pageX;\n        newY = this.currentPage.pageY;\n\n        if (wheelDeltaX > 0) {\n          newX--;\n        } else if (wheelDeltaX < 0) {\n          newX++;\n        }\n\n        if (wheelDeltaY > 0) {\n          newY--;\n        } else if (wheelDeltaY < 0) {\n          newY++;\n        }\n\n        this.goToPage(newX, newY);\n        return;\n      }\n\n      newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n      newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n      this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n      this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n      if (newX > 0) {\n        newX = 0;\n      } else if (newX < this.maxScrollX) {\n        newX = this.maxScrollX;\n      }\n\n      if (newY > 0) {\n        newY = 0;\n      } else if (newY < this.maxScrollY) {\n        newY = this.maxScrollY;\n      }\n\n      this.scrollTo(newX, newY, 0); // INSERT POINT: _wheel\n    },\n    _initSnap: function () {\n      this.currentPage = {};\n\n      if (typeof this.options.snap == 'string') {\n        this.options.snap = this.scroller.querySelectorAll(this.options.snap);\n      }\n\n      this.on('refresh', function () {\n        var i = 0,\n            l,\n            m = 0,\n            n,\n            cx,\n            cy,\n            x = 0,\n            y,\n            stepX = this.options.snapStepX || this.wrapperWidth,\n            stepY = this.options.snapStepY || this.wrapperHeight,\n            el;\n        this.pages = [];\n\n        if (!this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight) {\n          return;\n        }\n\n        if (this.options.snap === true) {\n          cx = Math.round(stepX / 2);\n          cy = Math.round(stepY / 2);\n\n          while (x > -this.scrollerWidth) {\n            this.pages[i] = [];\n            l = 0;\n            y = 0;\n\n            while (y > -this.scrollerHeight) {\n              this.pages[i][l] = {\n                x: Math.max(x, this.maxScrollX),\n                y: Math.max(y, this.maxScrollY),\n                width: stepX,\n                height: stepY,\n                cx: x - cx,\n                cy: y - cy\n              };\n              y -= stepY;\n              l++;\n            }\n\n            x -= stepX;\n            i++;\n          }\n        } else {\n          el = this.options.snap;\n          l = el.length;\n          n = -1;\n\n          for (; i < l; i++) {\n            if (i === 0 || el[i].offsetLeft <= el[i - 1].offsetLeft) {\n              m = 0;\n              n++;\n            }\n\n            if (!this.pages[m]) {\n              this.pages[m] = [];\n            }\n\n            x = Math.max(-el[i].offsetLeft, this.maxScrollX);\n            y = Math.max(-el[i].offsetTop, this.maxScrollY);\n            cx = x - Math.round(el[i].offsetWidth / 2);\n            cy = y - Math.round(el[i].offsetHeight / 2);\n            this.pages[m][n] = {\n              x: x,\n              y: y,\n              width: el[i].offsetWidth,\n              height: el[i].offsetHeight,\n              cx: cx,\n              cy: cy\n            };\n\n            if (x > this.maxScrollX) {\n              m++;\n            }\n          }\n        }\n\n        this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0); // Update snap threshold if needed\n\n        if (this.options.snapThreshold % 1 === 0) {\n          this.snapThresholdX = this.options.snapThreshold;\n          this.snapThresholdY = this.options.snapThreshold;\n        } else {\n          this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n          this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n        }\n      });\n      this.on('flick', function () {\n        var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.x - this.startX), 1000), Math.min(Math.abs(this.y - this.startY), 1000)), 300);\n        this.goToPage(this.currentPage.pageX + this.directionX, this.currentPage.pageY + this.directionY, time);\n      });\n    },\n    _nearestSnap: function (x, y) {\n      if (!this.pages.length) {\n        return {\n          x: 0,\n          y: 0,\n          pageX: 0,\n          pageY: 0\n        };\n      }\n\n      var i = 0,\n          l = this.pages.length,\n          m = 0; // Check if we exceeded the snap threshold\n\n      if (Math.abs(x - this.absStartX) < this.snapThresholdX && Math.abs(y - this.absStartY) < this.snapThresholdY) {\n        return this.currentPage;\n      }\n\n      if (x > 0) {\n        x = 0;\n      } else if (x < this.maxScrollX) {\n        x = this.maxScrollX;\n      }\n\n      if (y > 0) {\n        y = 0;\n      } else if (y < this.maxScrollY) {\n        y = this.maxScrollY;\n      }\n\n      for (; i < l; i++) {\n        if (x >= this.pages[i][0].cx) {\n          x = this.pages[i][0].x;\n          break;\n        }\n      }\n\n      l = this.pages[i].length;\n\n      for (; m < l; m++) {\n        if (y >= this.pages[0][m].cy) {\n          y = this.pages[0][m].y;\n          break;\n        }\n      }\n\n      if (i == this.currentPage.pageX) {\n        i += this.directionX;\n\n        if (i < 0) {\n          i = 0;\n        } else if (i >= this.pages.length) {\n          i = this.pages.length - 1;\n        }\n\n        x = this.pages[i][0].x;\n      }\n\n      if (m == this.currentPage.pageY) {\n        m += this.directionY;\n\n        if (m < 0) {\n          m = 0;\n        } else if (m >= this.pages[0].length) {\n          m = this.pages[0].length - 1;\n        }\n\n        y = this.pages[0][m].y;\n      }\n\n      return {\n        x: x,\n        y: y,\n        pageX: i,\n        pageY: m\n      };\n    },\n    goToPage: function (x, y, time, easing) {\n      easing = easing || this.options.bounceEasing;\n\n      if (x >= this.pages.length) {\n        x = this.pages.length - 1;\n      } else if (x < 0) {\n        x = 0;\n      }\n\n      if (y >= this.pages[x].length) {\n        y = this.pages[x].length - 1;\n      } else if (y < 0) {\n        y = 0;\n      }\n\n      var posX = this.pages[x][y].x,\n          posY = this.pages[x][y].y;\n      time = time === undefined ? this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n      this.currentPage = {\n        x: posX,\n        y: posY,\n        pageX: x,\n        pageY: y\n      };\n      this.scrollTo(posX, posY, time, easing);\n    },\n    next: function (time, easing) {\n      var x = this.currentPage.pageX,\n          y = this.currentPage.pageY;\n      x++;\n\n      if (x >= this.pages.length && this.hasVerticalScroll) {\n        x = 0;\n        y++;\n      }\n\n      this.goToPage(x, y, time, easing);\n    },\n    prev: function (time, easing) {\n      var x = this.currentPage.pageX,\n          y = this.currentPage.pageY;\n      x--;\n\n      if (x < 0 && this.hasVerticalScroll) {\n        x = 0;\n        y--;\n      }\n\n      this.goToPage(x, y, time, easing);\n    },\n    _initKeys: function (e) {\n      // default key bindings\n      var keys = {\n        pageUp: 33,\n        pageDown: 34,\n        end: 35,\n        home: 36,\n        left: 37,\n        up: 38,\n        right: 39,\n        down: 40\n      };\n      var i; // if you give me characters I give you keycode\n\n      if (typeof this.options.keyBindings == 'object') {\n        for (i in this.options.keyBindings) {\n          if (typeof this.options.keyBindings[i] == 'string') {\n            this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n          }\n        }\n      } else {\n        this.options.keyBindings = {};\n      }\n\n      for (i in keys) {\n        this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n      }\n\n      utils.addEvent(window, 'keydown', this);\n      this.on('destroy', function () {\n        utils.removeEvent(window, 'keydown', this);\n      });\n    },\n    _key: function (e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      var snap = this.options.snap,\n          // we are using this alot, better to cache it\n      newX = snap ? this.currentPage.pageX : this.x,\n          newY = snap ? this.currentPage.pageY : this.y,\n          now = utils.getTime(),\n          prevTime = this.keyTime || 0,\n          acceleration = 0.250,\n          pos;\n\n      if (this.options.useTransition && this.isInTransition) {\n        pos = this.getComputedPosition();\n\n        this._translate(Math.round(pos.x), Math.round(pos.y));\n\n        this.isInTransition = false;\n      }\n\n      this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n      switch (e.keyCode) {\n        case this.options.keyBindings.pageUp:\n          if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n            newX += snap ? 1 : this.wrapperWidth;\n          } else {\n            newY += snap ? 1 : this.wrapperHeight;\n          }\n\n          break;\n\n        case this.options.keyBindings.pageDown:\n          if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n            newX -= snap ? 1 : this.wrapperWidth;\n          } else {\n            newY -= snap ? 1 : this.wrapperHeight;\n          }\n\n          break;\n\n        case this.options.keyBindings.end:\n          newX = snap ? this.pages.length - 1 : this.maxScrollX;\n          newY = snap ? this.pages[0].length - 1 : this.maxScrollY;\n          break;\n\n        case this.options.keyBindings.home:\n          newX = 0;\n          newY = 0;\n          break;\n\n        case this.options.keyBindings.left:\n          newX += snap ? -1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.up:\n          newY += snap ? 1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.right:\n          newX -= snap ? -1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.down:\n          newY -= snap ? 1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        default:\n          return;\n      }\n\n      if (snap) {\n        this.goToPage(newX, newY);\n        return;\n      }\n\n      if (newX > 0) {\n        newX = 0;\n        this.keyAcceleration = 0;\n      } else if (newX < this.maxScrollX) {\n        newX = this.maxScrollX;\n        this.keyAcceleration = 0;\n      }\n\n      if (newY > 0) {\n        newY = 0;\n        this.keyAcceleration = 0;\n      } else if (newY < this.maxScrollY) {\n        newY = this.maxScrollY;\n        this.keyAcceleration = 0;\n      }\n\n      this.scrollTo(newX, newY, 0);\n      this.keyTime = now;\n    },\n    _animate: function (destX, destY, duration, easingFn) {\n      var that = this,\n          startX = this.x,\n          startY = this.y,\n          startTime = utils.getTime(),\n          destTime = startTime + duration;\n\n      function step() {\n        var now = utils.getTime(),\n            newX,\n            newY,\n            easing;\n\n        if (now >= destTime) {\n          that.isAnimating = false;\n\n          that._translate(destX, destY);\n\n          if (!that.resetPosition(that.options.bounceTime)) {\n            that._execEvent('scrollEnd');\n          }\n\n          return;\n        }\n\n        now = (now - startTime) / duration;\n        easing = easingFn(now);\n        newX = (destX - startX) * easing + startX;\n        newY = (destY - startY) * easing + startY;\n\n        that._translate(newX, newY);\n\n        if (that.isAnimating) {\n          rAF(step);\n        }\n      }\n\n      this.isAnimating = true;\n      step();\n    },\n    handleEvent: function (e) {\n      switch (e.type) {\n        case 'touchstart':\n        case 'pointerdown':\n        case 'MSPointerDown':\n        case 'mousedown':\n          this._start(e);\n\n          break;\n\n        case 'touchmove':\n        case 'pointermove':\n        case 'MSPointerMove':\n        case 'mousemove':\n          this._move(e);\n\n          break;\n\n        case 'touchend':\n        case 'pointerup':\n        case 'MSPointerUp':\n        case 'mouseup':\n        case 'touchcancel':\n        case 'pointercancel':\n        case 'MSPointerCancel':\n        case 'mousecancel':\n          this._end(e);\n\n          break;\n\n        case 'orientationchange':\n        case 'resize':\n          this._resize();\n\n          break;\n\n        case 'transitionend':\n        case 'webkitTransitionEnd':\n        case 'oTransitionEnd':\n        case 'MSTransitionEnd':\n          this._transitionEnd(e);\n\n          break;\n\n        case 'wheel':\n        case 'DOMMouseScroll':\n        case 'mousewheel':\n          this._wheel(e);\n\n          break;\n\n        case 'keydown':\n          this._key(e);\n\n          break;\n\n        case 'click':\n          if (this.enabled && !e._constructed) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          break;\n      }\n    }\n  };\n\n  function createDefaultScrollbar(direction, interactive, type) {\n    var scrollbar = document.createElement('div'),\n        indicator = document.createElement('div');\n\n    if (type === true) {\n      scrollbar.style.cssText = 'position:absolute;z-index:9999';\n      indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n    }\n\n    indicator.className = 'iScrollIndicator';\n\n    if (direction == 'h') {\n      if (type === true) {\n        scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n        indicator.style.height = '100%';\n      }\n\n      scrollbar.className = 'iScrollHorizontalScrollbar';\n    } else {\n      if (type === true) {\n        scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n        indicator.style.width = '100%';\n      }\n\n      scrollbar.className = 'iScrollVerticalScrollbar';\n    }\n\n    scrollbar.style.cssText += ';overflow:hidden';\n\n    if (!interactive) {\n      scrollbar.style.pointerEvents = 'none';\n    }\n\n    scrollbar.appendChild(indicator);\n    return scrollbar;\n  }\n\n  function Indicator(scroller, options) {\n    this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n    this.wrapperStyle = this.wrapper.style;\n    this.indicator = this.wrapper.children[0];\n    this.indicatorStyle = this.indicator.style;\n    this.scroller = scroller;\n    this.options = {\n      listenX: true,\n      listenY: true,\n      interactive: false,\n      resize: true,\n      defaultScrollbars: false,\n      shrink: false,\n      fade: false,\n      speedRatioX: 0,\n      speedRatioY: 0\n    };\n\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n\n    this.sizeRatioX = 1;\n    this.sizeRatioY = 1;\n    this.maxPosX = 0;\n    this.maxPosY = 0;\n\n    if (this.options.interactive) {\n      if (!this.options.disableTouch) {\n        utils.addEvent(this.indicator, 'touchstart', this);\n        utils.addEvent(window, 'touchend', this);\n      }\n\n      if (!this.options.disablePointer) {\n        utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n        utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n      }\n\n      if (!this.options.disableMouse) {\n        utils.addEvent(this.indicator, 'mousedown', this);\n        utils.addEvent(window, 'mouseup', this);\n      }\n    }\n\n    if (this.options.fade) {\n      this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms'; // remove 0.0001ms\n\n      var self = this;\n\n      if (utils.isBadAndroid) {\n        rAF(function () {\n          if (self.wrapperStyle[durationProp] === '0.0001ms') {\n            self.wrapperStyle[durationProp] = '0s';\n          }\n        });\n      }\n\n      this.wrapperStyle.opacity = '0';\n    }\n  }\n\n  Indicator.prototype = {\n    handleEvent: function (e) {\n      switch (e.type) {\n        case 'touchstart':\n        case 'pointerdown':\n        case 'MSPointerDown':\n        case 'mousedown':\n          this._start(e);\n\n          break;\n\n        case 'touchmove':\n        case 'pointermove':\n        case 'MSPointerMove':\n        case 'mousemove':\n          this._move(e);\n\n          break;\n\n        case 'touchend':\n        case 'pointerup':\n        case 'MSPointerUp':\n        case 'mouseup':\n        case 'touchcancel':\n        case 'pointercancel':\n        case 'MSPointerCancel':\n        case 'mousecancel':\n          this._end(e);\n\n          break;\n      }\n    },\n    destroy: function () {\n      if (this.options.fadeScrollbars) {\n        clearTimeout(this.fadeTimeout);\n        this.fadeTimeout = null;\n      }\n\n      if (this.options.interactive) {\n        utils.removeEvent(this.indicator, 'touchstart', this);\n        utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n        utils.removeEvent(this.indicator, 'mousedown', this);\n        utils.removeEvent(window, 'touchmove', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n        utils.removeEvent(window, 'mousemove', this);\n        utils.removeEvent(window, 'touchend', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n        utils.removeEvent(window, 'mouseup', this);\n      }\n\n      if (this.options.defaultScrollbars) {\n        this.wrapper.parentNode.removeChild(this.wrapper);\n      }\n    },\n    _start: function (e) {\n      var point = e.touches ? e.touches[0] : e;\n      e.preventDefault();\n      e.stopPropagation();\n      this.transitionTime();\n      this.initiated = true;\n      this.moved = false;\n      this.lastPointX = point.pageX;\n      this.lastPointY = point.pageY;\n      this.startTime = utils.getTime();\n\n      if (!this.options.disableTouch) {\n        utils.addEvent(window, 'touchmove', this);\n      }\n\n      if (!this.options.disablePointer) {\n        utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n      }\n\n      if (!this.options.disableMouse) {\n        utils.addEvent(window, 'mousemove', this);\n      }\n\n      this.scroller._execEvent('beforeScrollStart');\n    },\n    _move: function (e) {\n      var point = e.touches ? e.touches[0] : e,\n          deltaX,\n          deltaY,\n          newX,\n          newY,\n          timestamp = utils.getTime();\n\n      if (!this.moved) {\n        this.scroller._execEvent('scrollStart');\n      }\n\n      this.moved = true;\n      deltaX = point.pageX - this.lastPointX;\n      this.lastPointX = point.pageX;\n      deltaY = point.pageY - this.lastPointY;\n      this.lastPointY = point.pageY;\n      newX = this.x + deltaX;\n      newY = this.y + deltaY;\n\n      this._pos(newX, newY); // INSERT POINT: indicator._move\n\n\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    _end: function (e) {\n      if (!this.initiated) {\n        return;\n      }\n\n      this.initiated = false;\n      e.preventDefault();\n      e.stopPropagation();\n      utils.removeEvent(window, 'touchmove', this);\n      utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n      utils.removeEvent(window, 'mousemove', this);\n\n      if (this.scroller.options.snap) {\n        var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n        var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n        if (this.scroller.x != snap.x || this.scroller.y != snap.y) {\n          this.scroller.directionX = 0;\n          this.scroller.directionY = 0;\n          this.scroller.currentPage = snap;\n          this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n        }\n      }\n\n      if (this.moved) {\n        this.scroller._execEvent('scrollEnd');\n      }\n    },\n    transitionTime: function (time) {\n      time = time || 0;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.indicatorStyle[durationProp] = time + 'ms';\n\n      if (!time && utils.isBadAndroid) {\n        this.indicatorStyle[durationProp] = '0.0001ms'; // remove 0.0001ms\n\n        var self = this;\n        rAF(function () {\n          if (self.indicatorStyle[durationProp] === '0.0001ms') {\n            self.indicatorStyle[durationProp] = '0s';\n          }\n        });\n      }\n    },\n    transitionTimingFunction: function (easing) {\n      this.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n    },\n    refresh: function () {\n      this.transitionTime();\n\n      if (this.options.listenX && !this.options.listenY) {\n        this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n      } else if (this.options.listenY && !this.options.listenX) {\n        this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n      } else {\n        this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n      }\n\n      if (this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll) {\n        utils.addClass(this.wrapper, 'iScrollBothScrollbars');\n        utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n        if (this.options.defaultScrollbars && this.options.customStyle) {\n          if (this.options.listenX) {\n            this.wrapper.style.right = '8px';\n          } else {\n            this.wrapper.style.bottom = '8px';\n          }\n        }\n      } else {\n        utils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n        utils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n        if (this.options.defaultScrollbars && this.options.customStyle) {\n          if (this.options.listenX) {\n            this.wrapper.style.right = '2px';\n          } else {\n            this.wrapper.style.bottom = '2px';\n          }\n        }\n      }\n\n      var r = this.wrapper.offsetHeight; // force refresh\n\n      if (this.options.listenX) {\n        this.wrapperWidth = this.wrapper.clientWidth;\n\n        if (this.options.resize) {\n          this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n          this.indicatorStyle.width = this.indicatorWidth + 'px';\n        } else {\n          this.indicatorWidth = this.indicator.clientWidth;\n        }\n\n        this.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n        if (this.options.shrink == 'clip') {\n          this.minBoundaryX = -this.indicatorWidth + 8;\n          this.maxBoundaryX = this.wrapperWidth - 8;\n        } else {\n          this.minBoundaryX = 0;\n          this.maxBoundaryX = this.maxPosX;\n        }\n\n        this.sizeRatioX = this.options.speedRatioX || this.scroller.maxScrollX && this.maxPosX / this.scroller.maxScrollX;\n      }\n\n      if (this.options.listenY) {\n        this.wrapperHeight = this.wrapper.clientHeight;\n\n        if (this.options.resize) {\n          this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n          this.indicatorStyle.height = this.indicatorHeight + 'px';\n        } else {\n          this.indicatorHeight = this.indicator.clientHeight;\n        }\n\n        this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n        if (this.options.shrink == 'clip') {\n          this.minBoundaryY = -this.indicatorHeight + 8;\n          this.maxBoundaryY = this.wrapperHeight - 8;\n        } else {\n          this.minBoundaryY = 0;\n          this.maxBoundaryY = this.maxPosY;\n        }\n\n        this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n        this.sizeRatioY = this.options.speedRatioY || this.scroller.maxScrollY && this.maxPosY / this.scroller.maxScrollY;\n      }\n\n      this.updatePosition();\n    },\n    updatePosition: function () {\n      var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n          y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n      if (!this.options.ignoreBoundaries) {\n        if (x < this.minBoundaryX) {\n          if (this.options.shrink == 'scale') {\n            this.width = Math.max(this.indicatorWidth + x, 8);\n            this.indicatorStyle.width = this.width + 'px';\n          }\n\n          x = this.minBoundaryX;\n        } else if (x > this.maxBoundaryX) {\n          if (this.options.shrink == 'scale') {\n            this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n            this.indicatorStyle.width = this.width + 'px';\n            x = this.maxPosX + this.indicatorWidth - this.width;\n          } else {\n            x = this.maxBoundaryX;\n          }\n        } else if (this.options.shrink == 'scale' && this.width != this.indicatorWidth) {\n          this.width = this.indicatorWidth;\n          this.indicatorStyle.width = this.width + 'px';\n        }\n\n        if (y < this.minBoundaryY) {\n          if (this.options.shrink == 'scale') {\n            this.height = Math.max(this.indicatorHeight + y * 3, 8);\n            this.indicatorStyle.height = this.height + 'px';\n          }\n\n          y = this.minBoundaryY;\n        } else if (y > this.maxBoundaryY) {\n          if (this.options.shrink == 'scale') {\n            this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n            this.indicatorStyle.height = this.height + 'px';\n            y = this.maxPosY + this.indicatorHeight - this.height;\n          } else {\n            y = this.maxBoundaryY;\n          }\n        } else if (this.options.shrink == 'scale' && this.height != this.indicatorHeight) {\n          this.height = this.indicatorHeight;\n          this.indicatorStyle.height = this.height + 'px';\n        }\n      }\n\n      this.x = x;\n      this.y = y;\n\n      if (this.scroller.options.useTransform) {\n        this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n      } else {\n        this.indicatorStyle.left = x + 'px';\n        this.indicatorStyle.top = y + 'px';\n      }\n    },\n    _pos: function (x, y) {\n      if (x < 0) {\n        x = 0;\n      } else if (x > this.maxPosX) {\n        x = this.maxPosX;\n      }\n\n      if (y < 0) {\n        y = 0;\n      } else if (y > this.maxPosY) {\n        y = this.maxPosY;\n      }\n\n      x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n      y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n      this.scroller.scrollTo(x, y);\n    },\n    fade: function (val, hold) {\n      if (hold && !this.visible) {\n        return;\n      }\n\n      clearTimeout(this.fadeTimeout);\n      this.fadeTimeout = null;\n      var time = val ? 250 : 500,\n          delay = val ? 0 : 300;\n      val = val ? '1' : '0';\n      this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n      this.fadeTimeout = setTimeout(function (val) {\n        this.wrapperStyle.opacity = val;\n        this.visible = +val;\n      }.bind(this, val), delay);\n    }\n  };\n  IScroll.utils = utils;\n\n  if (typeof module != 'undefined' && module.exports) {\n    module.exports = IScroll;\n  } else if (typeof define == 'function' && define.amd) {\n    define(function () {\n      return IScroll;\n    }); //making sure scrollOverflow works when using Require.js\n    //in the browser\n\n    if (typeof window !== 'undefined') {\n      window.IScroll = IScroll;\n    }\n  } else {\n    window.IScroll = IScroll;\n  }\n})(window, document, Math);\n/*!\n* Scrolloverflow 2.0.6 module for fullPage.js >= 3\n* https://github.com/alvarotrigo/fullPage.js\n* @license MIT licensed\n*\n* Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo\n*/\n\n\n(function (window, document) {\n  window.fp_scrolloverflow = function () {\n    // check if IScroll is available in global scope\n    if (!window.IScroll) {\n      // otherwise create local one from module.exports\n      window.IScroll = module.exports;\n    } // keeping central set of classnames and selectors\n\n\n    var SCROLLABLE = 'fp-scrollable';\n    var SCROLLABLE_SEL = '.' + SCROLLABLE;\n    var ACTIVE = 'active';\n    var ACTIVE_SEL = '.' + ACTIVE;\n    var SECTION = 'fp-section';\n    var SECTION_SEL = '.' + SECTION;\n    var SECTION_ACTIVE_SEL = SECTION_SEL + ACTIVE_SEL;\n    var SLIDE = 'fp-slide';\n    var SLIDE_SEL = '.' + SLIDE;\n    var SLIDE_ACTIVE_SEL = SLIDE_SEL + ACTIVE_SEL;\n    var SLIDES_WRAPPER = 'fp-slides';\n    var SLIDES_WRAPPER_SEL = '.' + SLIDES_WRAPPER;\n    var TABLE_CELL = 'fp-tableCell';\n    var TABLE_CELL_SEL = '.' + TABLE_CELL;\n    var RESPONSIVE = 'fp-responsive';\n    var AUTO_HEIGHT_RESPONSIVE = 'fp-auto-height-responsive';\n    /*\n    * Turns iScroll `mousewheel` option off dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n\n    IScroll.prototype.wheelOn = function () {\n      this.wrapper.addEventListener('wheel', this);\n      this.wrapper.addEventListener('mousewheel', this);\n      this.wrapper.addEventListener('DOMMouseScroll', this);\n    };\n    /*\n    * Turns iScroll `mousewheel` option on dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n\n\n    IScroll.prototype.wheelOff = function () {\n      this.wrapper.removeEventListener('wheel', this);\n      this.wrapper.removeEventListener('mousewheel', this);\n      this.wrapper.removeEventListener('DOMMouseScroll', this);\n    };\n    /**\n    * Returns an integer representing the padding dimensions in px.\n    */\n\n\n    function getPaddings(element) {\n      var section = fp_utils.closest(element, SECTION_SEL);\n\n      if (section != null) {\n        return parseInt(getComputedStyle(section)['padding-bottom']) + parseInt(getComputedStyle(section)['padding-top']);\n      }\n\n      return 0;\n    }\n\n    function scrollBarHandler() {\n      var self = this;\n      self.options = null;\n\n      self.init = function (options, iscrollOptions) {\n        self.options = options;\n        self.iscrollOptions = iscrollOptions;\n\n        if (document.readyState === 'complete') {\n          createScrollBarForAll();\n          fullpage_api.shared.afterRenderActions();\n        } //after DOM and images are loaded\n\n\n        window.addEventListener('load', function () {\n          createScrollBarForAll();\n          fullpage_api.shared.afterRenderActions();\n        });\n        return self;\n      };\n      /**\n      * Creates the scrollbar for the sections and slides in the site\n      */\n\n\n      function createScrollBarForAll() {\n        if (fp_utils.hasClass(document.body, RESPONSIVE)) {\n          forEachSectionAndSlide(removeScrollBar);\n        } else {\n          forEachSectionAndSlide(createScrollBar);\n        }\n      }\n      /**\n      * Checks if the element needs scrollbar and if the user wants to apply it.\n      * If so it creates it.\n      *\n      * @param {Object} element   jQuery object of the section or slide\n      */\n\n\n      function createScrollBar(element) {\n        //User doesn't want scrollbar here? Sayonara baby!\n        if (fp_utils.hasClass(element, 'fp-noscroll')) return; //necessary to make `scrollHeight` work under Opera 12\n\n        fp_utils.css(element, {\n          'overflow': 'hidden'\n        });\n        var scrollOverflowHandler = self.options.scrollOverflowHandler;\n        var wrap = scrollOverflowHandler.wrapContent();\n        var section = fp_utils.closest(element, SECTION_SEL); //in case element is a slide\n\n        var scrollable = scrollOverflowHandler.scrollable(element);\n        var contentHeight;\n        var paddings = getPaddings(section); //if there was scroll, the contentHeight will be the one in the scrollable section\n\n        if (scrollable != null) {\n          contentHeight = scrollOverflowHandler.scrollHeight(element);\n        } else {\n          contentHeight = element.scrollHeight;\n\n          if (self.options.verticalCentered) {\n            contentHeight = $(TABLE_CELL_SEL, element)[0].scrollHeight;\n          }\n        }\n\n        var scrollHeight = fp_utils.getWindowHeight();\n        var contentHeightWidthPaddings = contentHeight + paddings;\n        var scrollHeightWidthoutPaddings = scrollHeight - paddings; //needs scroll?\n\n        if (contentHeightWidthPaddings > scrollHeight) {\n          //did we already have an scrollbar ? Updating it\n          if (scrollable != null) {\n            scrollOverflowHandler.update(element, scrollHeightWidthoutPaddings);\n          } //creating the scrolling\n          else {\n              if (self.options.verticalCentered) {\n                fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scroller);\n                fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scrollable);\n              } else {\n                fp_utils.wrapInner(element, wrap.scroller);\n                fp_utils.wrapInner(element, wrap.scrollable);\n              }\n\n              scrollOverflowHandler.create(element, scrollHeightWidthoutPaddings, self.iscrollOptions);\n            }\n        } //removing the scrolling when it is not necessary anymore\n        else {\n            scrollOverflowHandler.remove(element);\n          } //undo\n\n\n        fp_utils.css(element, {\n          'overflow': ''\n        });\n      }\n      /**\n      * Applies a callback function to each section in the site\n      * or the slides within them\n      */\n\n\n      function forEachSectionAndSlide(callback) {\n        $(SECTION_SEL).forEach(function (section) {\n          var slides = $(SLIDE_SEL, section);\n\n          if (slides.length) {\n            slides.forEach(function (slide) {\n              callback(slide);\n            });\n          } else {\n            callback(section);\n          }\n        });\n      }\n      /**\n      * Removes scrollOverflow for sections using the class `fp-auto-height-responsive`\n      */\n\n\n      function removeScrollBar(element) {\n        var scrollOverflowHandler = self.options.scrollOverflowHandler;\n\n        if (fp_utils.hasClass(fp_utils.closest(element, SECTION_SEL), AUTO_HEIGHT_RESPONSIVE)) {\n          scrollOverflowHandler.remove(element);\n        }\n      } //public functions\n\n\n      self.createScrollBarForAll = createScrollBarForAll;\n      self.createScrollBar = createScrollBar;\n    }\n    /**\n     * An object to handle overflow scrolling.\n     * This uses jquery.slimScroll to accomplish overflow scrolling.\n     * It is possible to pass in an alternate scrollOverflowHandler\n     * to the fullpage.js option that implements the same functions\n     * as this handler.\n     *\n     * @type {Object}\n     */\n\n\n    var $ = null;\n    var g_fullpageOptions = null;\n    var iscrollHandler = {\n      refreshId: null,\n      iScrollInstances: [],\n      lastScrollY: null,\n      hasBeenInit: false,\n      // Default options for iScroll.js used when using scrollOverflow\n      iscrollOptions: {\n        scrollbars: true,\n        mouseWheel: true,\n        hideScrollbars: false,\n        fadeScrollbars: false,\n        disableMouse: true,\n        interactiveScrollbars: true\n      },\n      init: function (options) {\n        $ = fp_utils.$;\n        g_fullpageOptions = options;\n        var isTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints > 0 || navigator.maxTouchPoints; //fixing bug in iScroll with links: https://github.com/cubiq/iscroll/issues/783\n\n        iscrollHandler.iscrollOptions.click = isTouch; // see #2035\n\n        iscrollHandler.hasBeenInit = true; //extending iScroll options with the user custom ones\n\n        iscrollHandler.iscrollOptions = fp_utils.deepExtend(iscrollHandler.iscrollOptions, options.scrollOverflowOptions);\n        return new scrollBarHandler().init(options, iscrollHandler.iscrollOptions);\n      },\n      // Enables or disables the mouse wheel for the active section or all slides in it\n      toggleWheel: function (value) {\n        var scrollable = $(SCROLLABLE_SEL, $(SECTION_ACTIVE_SEL)[0]);\n        scrollable.forEach(function (item) {\n          var iScrollInstance = item.fp_iscrollInstance;\n\n          if (iScrollInstance != null) {\n            if (value) {\n              iScrollInstance.wheelOn();\n            } else {\n              iScrollInstance.wheelOff();\n            }\n          }\n        });\n      },\n      // Enables or disables the whole iScroll feature based on the given parameter.\n      setIscroll: function (target, enable) {\n        if (!iscrollHandler.hasBeenInit || !target) {\n          return;\n        }\n\n        var scrollable = fp_utils.closest(target, SCROLLABLE_SEL) || $(SCROLLABLE_SEL, target) && $(SCROLLABLE_SEL, target)[0];\n        var action = enable ? 'enable' : 'disable';\n\n        if (scrollable) {\n          scrollable.fp_iscrollInstance[action]();\n        }\n      },\n\n      /**\n      * Turns off iScroll for the destination section.\n      * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would\n      * scroll the destination section/slide before the sections animations ends.\n      */\n      onLeave: function () {\n        iscrollHandler.toggleWheel(false);\n      },\n      // Turns off iScroll for the leaving section\n      beforeLeave: function () {\n        iscrollHandler.onLeave();\n      },\n      // Turns on iScroll on section load\n      afterLoad: function () {\n        iscrollHandler.toggleWheel(true);\n      },\n\n      /**\n       * Called when overflow scrolling is needed for a section.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       * @param  {Number} scrollHeight Current window height in pixels\n       */\n      create: function (element, scrollHeight, iscrollOptions) {\n        var scrollable = $(SCROLLABLE_SEL, element);\n        scrollable.forEach(function (item) {\n          fp_utils.css(item, {\n            'height': scrollHeight + 'px'\n          });\n          var iScrollInstance = item.fp_iscrollInstance;\n\n          if (iScrollInstance != null) {\n            iscrollHandler.iScrollInstances.forEach(function (instance) {\n              instance.destroy();\n            });\n          }\n\n          iScrollInstance = new IScroll(item, iscrollOptions);\n          iscrollHandler.iScrollInstances.push(iScrollInstance);\n\n          if (!fp_utils.hasClass(fp_utils.closest(element, SECTION_SEL), ACTIVE)) {\n            //off by default until the section gets active\n            iScrollInstance.wheelOff();\n          }\n\n          item.fp_iscrollInstance = iScrollInstance;\n        });\n      },\n\n      /**\n       * Return a boolean depending on whether the scrollable element is a\n       * the end or at the start of the scrolling depending on the given type.\n       *\n       * @param  {String}  type       Either 'top' or 'bottom'\n       * @param  {Object}  scrollable jQuery object for the scrollable element\n       * @return {Boolean}\n       */\n      isScrolled: function (type, scrollable) {\n        var scroller = scrollable.fp_iscrollInstance; //no scroller?\n\n        if (!scroller) {\n          return true;\n        } // two times reporting the same Y position ? \n        // that means we are on the top or on the bottom of the scroller\n\n\n        if (type === 'top') {\n          return scroller.y >= 0 && !fp_utils.getScrollTop(scrollable);\n        } else if (type === 'bottom') {\n          // Checking the same position twice? We are at the very bottom (at least on Desktop)\n          var isDoubleChecking = iscrollHandler.lastScrollY === scroller.y;\n          iscrollHandler.lastScrollY = scroller.y; // An offset of 1px is required for IE / Edge to work\n\n          var offset = isDoubleChecking ? 1 : 0;\n          return offset + (0 - scroller.y) + fp_utils.getScrollTop(scrollable) + scrollable.offsetHeight >= scrollable.scrollHeight;\n        }\n      },\n\n      /**\n       * Returns the scrollable element for the given section.\n       * If there are landscape slides, will only return a scrollable element\n       * if it is in the active slide.\n       *\n       * @param  {Object}  activeSection jQuery object containing current section\n       * @return {Boolean}\n       */\n      scrollable: function (activeSection) {\n        // if there are landscape slides, we check if the scrolling bar is in the current one or not\n        if ($(SLIDES_WRAPPER_SEL, activeSection).length) {\n          return $(SCROLLABLE_SEL, $(SLIDE_ACTIVE_SEL, activeSection)[0])[0];\n        }\n\n        return $(SCROLLABLE_SEL, activeSection)[0];\n      },\n\n      /**\n       * Returns the scroll height of the wrapped content.\n       * If this is larger than the window height minus section padding,\n       * overflow scrolling is needed.\n       *\n       * @param  {Object} element jQuery object containing current section\n       * @return {Number}\n       */\n      scrollHeight: function (element) {\n        return $('.fp-scroller', $(SCROLLABLE_SEL, element)[0])[0].scrollHeight;\n      },\n\n      /**\n       * Called when overflow scrolling is no longer needed for a section.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       */\n      remove: function (element) {\n        if (element == null) return;\n        var scrollable = $(SCROLLABLE_SEL, element)[0];\n\n        if (scrollable != null) {\n          var iScrollInstance = scrollable.fp_iscrollInstance;\n\n          if (iScrollInstance != null) {\n            iScrollInstance.destroy();\n          }\n\n          scrollable.fp_iscrollInstance = null; //unwrapping...\n\n          fp_utils.unwrap($('.fp-scroller', element)[0]);\n          fp_utils.unwrap($(SCROLLABLE_SEL, element)[0]);\n        }\n      },\n\n      /**\n       * Called when overflow scrolling has already been setup but the\n       * window height has potentially changed.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       * @param  {Number} scrollHeight Current window height in pixels\n       */\n      update: function (element, scrollHeight) {\n        //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a\n        //short period of time.\n        //it also comes on handy because iScroll requires the use of timeout when using `refresh`.\n        clearTimeout(iscrollHandler.refreshId);\n        iscrollHandler.refreshId = setTimeout(function () {\n          iscrollHandler.iScrollInstances.forEach(function (instance) {\n            instance.refresh(); //ugly hack that we are forced to use due to the timeout delay\n            //otherwise done on the fullpage.js reBuild function\n\n            fullpage_api.silentMoveTo(fp_utils.index($(SECTION_ACTIVE_SEL)[0]) + 1);\n          });\n        }, 150); //updating the wrappers height\n\n        fp_utils.css($(SCROLLABLE_SEL, element)[0], {\n          'height': scrollHeight + 'px'\n        });\n\n        if (g_fullpageOptions.verticalCentered) {\n          fp_utils.css($(SCROLLABLE_SEL, element)[0].parentNode, {\n            'height': scrollHeight + 'px'\n          });\n        }\n      },\n\n      /**\n       * Called to get any additional elements needed to wrap the section\n       * content in order to facilitate overflow scrolling.\n       *\n       * @return {String|Object} Can be a string containing HTML,\n       *                         a DOM element, or jQuery object.\n       */\n      wrapContent: function () {\n        var scrollable = document.createElement('div');\n        scrollable.className = SCROLLABLE;\n        var scroller = document.createElement('div');\n        scroller.className = 'fp-scroller';\n        return {\n          scrollable: scrollable,\n          scroller: scroller\n        };\n      }\n    };\n    return {\n      iscrollHandler: iscrollHandler\n    };\n  }();\n})(window, document);","map":{"version":3,"sources":["/Users/virgildima/Desktop/V docs/ymp/node_modules/fullpage.js/vendors/scrolloverflow.js"],"names":["window","document","Math","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","utils","me","_elementStyle","createElement","style","_vendor","vendors","transform","i","l","length","substr","_prefixStyle","charAt","toUpperCase","getTime","Date","now","extend","target","obj","addEvent","el","type","fn","capture","addEventListener","removeEvent","removeEventListener","prefixPointerEvent","pointerEvent","MSPointerEvent","momentum","current","start","time","lowerMargin","wrapperSize","deceleration","distance","speed","abs","destination","duration","undefined","round","_transform","hasTransform","hasPerspective","hasTouch","hasPointer","PointerEvent","hasTransition","isBadAndroid","appVersion","navigator","test","safariVersion","match","parseFloat","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","hasClass","e","c","re","RegExp","className","addClass","newclass","split","push","join","removeClass","replace","offset","left","offsetLeft","top","offsetTop","offsetParent","preventDefaultException","exceptions","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","MSPointerDown","MSPointerMove","MSPointerUp","ease","quadratic","k","circular","sqrt","back","b","bounce","elastic","f","pow","sin","PI","tap","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","click","tagName","MouseEvent","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","_constructed","IScroll","options","wrapper","querySelector","scroller","children","scrollerStyle","resizeScrollbars","mouseWheelSpeed","snapThreshold","disablePointer","disableTouch","disableMouse","startX","startY","scrollY","directionLockThreshold","bounceTime","bounceEasing","preventDefault","HWCompositing","useTransition","useTransform","bindToWrapper","onmousedown","translateZ","eventPassthrough","scrollX","freeScroll","resizePolling","position","shrinkScrollbars","invertWheelDirection","x","y","directionX","directionY","_events","_init","refresh","scrollTo","enable","prototype","version","_initEvents","scrollbars","indicators","_initIndicators","mouseWheel","_initWheel","snap","_initSnap","keyBindings","_initKeys","destroy","clearTimeout","resizeTimeout","_execEvent","_transitionEnd","isInTransition","_transitionTime","resetPosition","_start","which","enabled","initiated","point","touches","pos","moved","distX","distY","directionLocked","startTime","getComputedPosition","_translate","isAnimating","absStartX","absStartY","pointX","pointY","_move","deltaX","deltaY","timestamp","newX","newY","absDistX","absDistY","endTime","hasHorizontalScroll","hasVerticalScroll","maxScrollX","maxScrollY","_end","changedTouches","momentumX","momentumY","distanceX","distanceY","easing","flick","wrapperWidth","wrapperHeight","max","_nearestSnap","currentPage","snapSpeed","min","_resize","that","disable","rf","offsetHeight","clientWidth","clientHeight","scrollerWidth","offsetWidth","scrollerHeight","wrapperOffset","on","off","index","indexOf","splice","apply","slice","call","arguments","scrollBy","transitionType","_transitionTimingFunction","_animate","scrollToElement","offsetX","offsetY","nodeType","durationProp","self","transitionTime","updatePosition","remove","matrix","getComputedStyle","interactive","interactiveScrollbars","customStyle","indicator","createDefaultScrollbar","defaultScrollbars","resize","shrink","fade","fadeScrollbars","listenX","appendChild","listenY","concat","Indicator","_indicatorsMap","wheelTimeout","_wheel","isIE","userAgent","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","goToPage","querySelectorAll","m","n","cx","cy","stepX","snapStepX","stepY","snapStepY","pages","width","height","snapThresholdX","snapThresholdY","posX","posY","next","prev","keys","pageUp","pageDown","end","home","up","right","down","charCodeAt","_key","prevTime","keyTime","acceleration","keyAcceleration","keyCode","destX","destY","easingFn","destTime","step","handleEvent","stopPropagation","direction","scrollbar","cssText","pointerEvents","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","fadeTimeout","parentNode","removeChild","lastPointX","lastPointY","_pos","display","bottom","r","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","ignoreBoundaries","val","hold","visible","delay","bind","module","exports","define","amd","fp_scrolloverflow","SCROLLABLE","SCROLLABLE_SEL","ACTIVE","ACTIVE_SEL","SECTION","SECTION_SEL","SECTION_ACTIVE_SEL","SLIDE","SLIDE_SEL","SLIDE_ACTIVE_SEL","SLIDES_WRAPPER","SLIDES_WRAPPER_SEL","TABLE_CELL","TABLE_CELL_SEL","RESPONSIVE","AUTO_HEIGHT_RESPONSIVE","wheelOn","wheelOff","getPaddings","element","section","fp_utils","closest","parseInt","scrollBarHandler","init","iscrollOptions","readyState","createScrollBarForAll","fullpage_api","shared","afterRenderActions","body","forEachSectionAndSlide","removeScrollBar","createScrollBar","css","scrollOverflowHandler","wrap","wrapContent","scrollable","contentHeight","paddings","scrollHeight","verticalCentered","$","getWindowHeight","contentHeightWidthPaddings","scrollHeightWidthoutPaddings","update","wrapInner","create","forEach","slides","slide","g_fullpageOptions","iscrollHandler","refreshId","iScrollInstances","lastScrollY","hasBeenInit","hideScrollbars","isTouch","msMaxTouchPoints","maxTouchPoints","deepExtend","scrollOverflowOptions","toggleWheel","value","item","iScrollInstance","fp_iscrollInstance","setIscroll","action","onLeave","beforeLeave","afterLoad","instance","isScrolled","getScrollTop","isDoubleChecking","activeSection","unwrap","silentMoveTo"],"mappings":"AAAA;;;;;AAIA;;;;;;AAKA;AACA,CAAC,UAAUA,MAAV,EAAkBC,QAAlB,EAA4BC,IAA5B,EAAkC;AACnC,MAAIC,GAAG,GAAGH,MAAM,CAACI,qBAAP,IACNJ,MAAM,CAACK,2BADD,IAENL,MAAM,CAACM,wBAFD,IAGNN,MAAM,CAACO,sBAHD,IAINP,MAAM,CAACQ,uBAJD,IAKN,UAAUC,QAAV,EAAoB;AAAET,IAAAA,MAAM,CAACU,UAAP,CAAkBD,QAAlB,EAA4B,OAAO,EAAnC;AAAyC,GALnE;;AAOA,MAAIE,KAAK,GAAI,YAAY;AACrB,QAAIC,EAAE,GAAG,EAAT;AAEA,QAAIC,aAAa,GAAGZ,QAAQ,CAACa,aAAT,CAAuB,KAAvB,EAA8BC,KAAlD;;AACA,QAAIC,OAAO,GAAI,YAAY;AACvB,UAAIC,OAAO,GAAG,CAAC,GAAD,EAAM,SAAN,EAAiB,MAAjB,EAAyB,KAAzB,EAAgC,IAAhC,CAAd;AAAA,UACIC,SADJ;AAAA,UAEIC,CAAC,GAAG,CAFR;AAAA,UAGIC,CAAC,GAAGH,OAAO,CAACI,MAHhB;;AAKA,aAAQF,CAAC,GAAGC,CAAZ,EAAeD,CAAC,EAAhB,EAAqB;AACjBD,QAAAA,SAAS,GAAGD,OAAO,CAACE,CAAD,CAAP,GAAa,UAAzB;AACA,YAAKD,SAAS,IAAIL,aAAlB,EAAkC,OAAOI,OAAO,CAACE,CAAD,CAAP,CAAWG,MAAX,CAAkB,CAAlB,EAAqBL,OAAO,CAACE,CAAD,CAAP,CAAWE,MAAX,GAAkB,CAAvC,CAAP;AACrC;;AAED,aAAO,KAAP;AACH,KAZa,EAAd;;AAcA,aAASE,YAAT,CAAuBR,KAAvB,EAA8B;AAC1B,UAAKC,OAAO,KAAK,KAAjB,EAAyB,OAAO,KAAP;AACzB,UAAKA,OAAO,KAAK,EAAjB,EAAsB,OAAOD,KAAP;AACtB,aAAOC,OAAO,GAAGD,KAAK,CAACS,MAAN,CAAa,CAAb,EAAgBC,WAAhB,EAAV,GAA0CV,KAAK,CAACO,MAAN,CAAa,CAAb,CAAjD;AACH;;AAEDV,IAAAA,EAAE,CAACc,OAAH,GAAaC,IAAI,CAACC,GAAL,IAAY,SAASF,OAAT,GAAoB;AAAE,aAAO,IAAIC,IAAJ,GAAWD,OAAX,EAAP;AAA8B,KAA7E;;AAEAd,IAAAA,EAAE,CAACiB,MAAH,GAAY,UAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AAC/B,WAAM,IAAIZ,CAAV,IAAeY,GAAf,EAAqB;AACjBD,QAAAA,MAAM,CAACX,CAAD,CAAN,GAAYY,GAAG,CAACZ,CAAD,CAAf;AACH;AACJ,KAJD;;AAMAP,IAAAA,EAAE,CAACoB,QAAH,GAAc,UAAUC,EAAV,EAAcC,IAAd,EAAoBC,EAApB,EAAwBC,OAAxB,EAAiC;AAC3CH,MAAAA,EAAE,CAACI,gBAAH,CAAoBH,IAApB,EAA0BC,EAA1B,EAA8B,CAAC,CAACC,OAAhC;AACH,KAFD;;AAIAxB,IAAAA,EAAE,CAAC0B,WAAH,GAAiB,UAAUL,EAAV,EAAcC,IAAd,EAAoBC,EAApB,EAAwBC,OAAxB,EAAiC;AAC9CH,MAAAA,EAAE,CAACM,mBAAH,CAAuBL,IAAvB,EAA6BC,EAA7B,EAAiC,CAAC,CAACC,OAAnC;AACH,KAFD;;AAIAxB,IAAAA,EAAE,CAAC4B,kBAAH,GAAwB,UAAUC,YAAV,EAAwB;AAC5C,aAAOzC,MAAM,CAAC0C,cAAP,GACH,cAAcD,YAAY,CAACjB,MAAb,CAAoB,CAApB,EAAuBC,WAAvB,EAAd,GAAqDgB,YAAY,CAACnB,MAAb,CAAoB,CAApB,CADlD,GAEHmB,YAFJ;AAGH,KAJD;;AAMA7B,IAAAA,EAAE,CAAC+B,QAAH,GAAc,UAAUC,OAAV,EAAmBC,KAAnB,EAA0BC,IAA1B,EAAgCC,WAAhC,EAA6CC,WAA7C,EAA0DC,YAA1D,EAAwE;AAClF,UAAIC,QAAQ,GAAGN,OAAO,GAAGC,KAAzB;AAAA,UACIM,KAAK,GAAGjD,IAAI,CAACkD,GAAL,CAASF,QAAT,IAAqBJ,IADjC;AAAA,UAEIO,WAFJ;AAAA,UAGIC,QAHJ;AAKAL,MAAAA,YAAY,GAAGA,YAAY,KAAKM,SAAjB,GAA6B,MAA7B,GAAsCN,YAArD;AAEAI,MAAAA,WAAW,GAAGT,OAAO,GAAKO,KAAK,GAAGA,KAAV,IAAsB,IAAIF,YAA1B,KAA6CC,QAAQ,GAAG,CAAX,GAAe,CAAC,CAAhB,GAAoB,CAAjE,CAAxB;AACAI,MAAAA,QAAQ,GAAGH,KAAK,GAAGF,YAAnB;;AAEA,UAAKI,WAAW,GAAGN,WAAnB,EAAiC;AAC7BM,QAAAA,WAAW,GAAGL,WAAW,GAAGD,WAAW,GAAKC,WAAW,GAAG,GAAd,IAAsBG,KAAK,GAAG,CAA9B,CAAnB,GAAyDJ,WAAlF;AACAG,QAAAA,QAAQ,GAAGhD,IAAI,CAACkD,GAAL,CAASC,WAAW,GAAGT,OAAvB,CAAX;AACAU,QAAAA,QAAQ,GAAGJ,QAAQ,GAAGC,KAAtB;AACH,OAJD,MAIO,IAAKE,WAAW,GAAG,CAAnB,EAAuB;AAC1BA,QAAAA,WAAW,GAAGL,WAAW,GAAGA,WAAW,GAAG,GAAd,IAAsBG,KAAK,GAAG,CAA9B,CAAH,GAAuC,CAAhE;AACAD,QAAAA,QAAQ,GAAGhD,IAAI,CAACkD,GAAL,CAASR,OAAT,IAAoBS,WAA/B;AACAC,QAAAA,QAAQ,GAAGJ,QAAQ,GAAGC,KAAtB;AACH;;AAED,aAAO;AACHE,QAAAA,WAAW,EAAEnD,IAAI,CAACsD,KAAL,CAAWH,WAAX,CADV;AAEHC,QAAAA,QAAQ,EAAEA;AAFP,OAAP;AAIH,KAzBD;;AA2BA,QAAIG,UAAU,GAAGlC,YAAY,CAAC,WAAD,CAA7B;;AAEAX,IAAAA,EAAE,CAACiB,MAAH,CAAUjB,EAAV,EAAc;AACV8C,MAAAA,YAAY,EAAED,UAAU,KAAK,KADnB;AAEVE,MAAAA,cAAc,EAAEpC,YAAY,CAAC,aAAD,CAAZ,IAA+BV,aAFrC;AAGV+C,MAAAA,QAAQ,EAAE,kBAAkB5D,MAHlB;AAIV6D,MAAAA,UAAU,EAAE,CAAC,EAAE7D,MAAM,CAAC8D,YAAP,IAAuB9D,MAAM,CAAC0C,cAAhC,CAJH;AAIoD;AAC9DqB,MAAAA,aAAa,EAAExC,YAAY,CAAC,YAAD,CAAZ,IAA8BV;AALnC,KAAd;AAQA;;;;;;;;;;;;;;;AAcAD,IAAAA,EAAE,CAACoD,YAAH,GAAmB,YAAW;AAC1B,UAAIC,UAAU,GAAGjE,MAAM,CAACkE,SAAP,CAAiBD,UAAlC,CAD0B,CAE1B;;AACA,UAAI,UAAUE,IAAV,CAAeF,UAAf,KAA8B,CAAE,aAAaE,IAAb,CAAkBF,UAAlB,CAApC,EAAoE;AAChE,YAAIG,aAAa,GAAGH,UAAU,CAACI,KAAX,CAAiB,kBAAjB,CAApB;;AACA,YAAGD,aAAa,IAAI,OAAOA,aAAP,KAAyB,QAA1C,IAAsDA,aAAa,CAAC/C,MAAd,IAAwB,CAAjF,EAAoF;AAChF,iBAAOiD,UAAU,CAACF,aAAa,CAAC,CAAD,CAAd,CAAV,GAA+B,MAAtC;AACH,SAFD,MAEO;AACH,iBAAO,IAAP;AACH;AACJ,OAPD,MAOO;AACH,eAAO,KAAP;AACH;AACJ,KAbiB,EAAlB;;AAeAxD,IAAAA,EAAE,CAACiB,MAAH,CAAUjB,EAAE,CAACG,KAAH,GAAW,EAArB,EAAyB;AACrBG,MAAAA,SAAS,EAAEuC,UADU;AAErBc,MAAAA,wBAAwB,EAAEhD,YAAY,CAAC,0BAAD,CAFjB;AAGrBiD,MAAAA,kBAAkB,EAAEjD,YAAY,CAAC,oBAAD,CAHX;AAIrBkD,MAAAA,eAAe,EAAElD,YAAY,CAAC,iBAAD,CAJR;AAKrBmD,MAAAA,eAAe,EAAEnD,YAAY,CAAC,iBAAD;AALR,KAAzB;;AAQAX,IAAAA,EAAE,CAAC+D,QAAH,GAAc,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC1B,UAAIC,EAAE,GAAG,IAAIC,MAAJ,CAAW,YAAYF,CAAZ,GAAgB,SAA3B,CAAT;AACA,aAAOC,EAAE,CAACX,IAAH,CAAQS,CAAC,CAACI,SAAV,CAAP;AACH,KAHD;;AAKApE,IAAAA,EAAE,CAACqE,QAAH,GAAc,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAC1B,UAAKjE,EAAE,CAAC+D,QAAH,CAAYC,CAAZ,EAAeC,CAAf,CAAL,EAAyB;AACrB;AACH;;AAED,UAAIK,QAAQ,GAAGN,CAAC,CAACI,SAAF,CAAYG,KAAZ,CAAkB,GAAlB,CAAf;AACAD,MAAAA,QAAQ,CAACE,IAAT,CAAcP,CAAd;AACAD,MAAAA,CAAC,CAACI,SAAF,GAAcE,QAAQ,CAACG,IAAT,CAAc,GAAd,CAAd;AACH,KARD;;AAUAzE,IAAAA,EAAE,CAAC0E,WAAH,GAAiB,UAAUV,CAAV,EAAaC,CAAb,EAAgB;AAC7B,UAAK,CAACjE,EAAE,CAAC+D,QAAH,CAAYC,CAAZ,EAAeC,CAAf,CAAN,EAA0B;AACtB;AACH;;AAED,UAAIC,EAAE,GAAG,IAAIC,MAAJ,CAAW,YAAYF,CAAZ,GAAgB,SAA3B,EAAsC,GAAtC,CAAT;AACAD,MAAAA,CAAC,CAACI,SAAF,GAAcJ,CAAC,CAACI,SAAF,CAAYO,OAAZ,CAAoBT,EAApB,EAAwB,GAAxB,CAAd;AACH,KAPD;;AASAlE,IAAAA,EAAE,CAAC4E,MAAH,GAAY,UAAUvD,EAAV,EAAc;AACtB,UAAIwD,IAAI,GAAG,CAACxD,EAAE,CAACyD,UAAf;AAAA,UACIC,GAAG,GAAG,CAAC1D,EAAE,CAAC2D,SADd,CADsB,CAItB;;AACA,aAAO3D,EAAE,GAAGA,EAAE,CAAC4D,YAAf,EAA6B;AACzBJ,QAAAA,IAAI,IAAIxD,EAAE,CAACyD,UAAX;AACAC,QAAAA,GAAG,IAAI1D,EAAE,CAAC2D,SAAV;AACH,OARqB,CAStB;;;AAEA,aAAO;AACHH,QAAAA,IAAI,EAAEA,IADH;AAEHE,QAAAA,GAAG,EAAEA;AAFF,OAAP;AAIH,KAfD;;AAiBA/E,IAAAA,EAAE,CAACkF,uBAAH,GAA6B,UAAU7D,EAAV,EAAc8D,UAAd,EAA0B;AACnD,WAAM,IAAI5E,CAAV,IAAe4E,UAAf,EAA4B;AACxB,YAAKA,UAAU,CAAC5E,CAAD,CAAV,CAAcgD,IAAd,CAAmBlC,EAAE,CAACd,CAAD,CAArB,CAAL,EAAiC;AAC7B,iBAAO,IAAP;AACH;AACJ;;AAED,aAAO,KAAP;AACH,KARD;;AAUAP,IAAAA,EAAE,CAACiB,MAAH,CAAUjB,EAAE,CAACoF,SAAH,GAAe,EAAzB,EAA6B;AACzBC,MAAAA,UAAU,EAAE,CADa;AAEzBC,MAAAA,SAAS,EAAE,CAFc;AAGzBC,MAAAA,QAAQ,EAAE,CAHe;AAKzBC,MAAAA,SAAS,EAAE,CALc;AAMzBC,MAAAA,SAAS,EAAE,CANc;AAOzBC,MAAAA,OAAO,EAAE,CAPgB;AASzBC,MAAAA,WAAW,EAAE,CATY;AAUzBC,MAAAA,WAAW,EAAE,CAVY;AAWzBC,MAAAA,SAAS,EAAE,CAXc;AAazBC,MAAAA,aAAa,EAAE,CAbU;AAczBC,MAAAA,aAAa,EAAE,CAdU;AAezBC,MAAAA,WAAW,EAAE;AAfY,KAA7B;AAkBAhG,IAAAA,EAAE,CAACiB,MAAH,CAAUjB,EAAE,CAACiG,IAAH,GAAU,EAApB,EAAwB;AACpBC,MAAAA,SAAS,EAAE;AACP/F,QAAAA,KAAK,EAAE,sCADA;AAEPoB,QAAAA,EAAE,EAAE,UAAU4E,CAAV,EAAa;AACb,iBAAOA,CAAC,IAAK,IAAIA,CAAT,CAAR;AACH;AAJM,OADS;AAOpBC,MAAAA,QAAQ,EAAE;AACNjG,QAAAA,KAAK,EAAE,iCADD;AACsC;AAC5CoB,QAAAA,EAAE,EAAE,UAAU4E,CAAV,EAAa;AACb,iBAAO7G,IAAI,CAAC+G,IAAL,CAAW,IAAM,EAAEF,CAAF,GAAMA,CAAvB,CAAP;AACH;AAJK,OAPU;AAapBG,MAAAA,IAAI,EAAE;AACFnG,QAAAA,KAAK,EAAE,yCADL;AAEFoB,QAAAA,EAAE,EAAE,UAAU4E,CAAV,EAAa;AACb,cAAII,CAAC,GAAG,CAAR;AACA,iBAAO,CAAEJ,CAAC,GAAGA,CAAC,GAAG,CAAV,IAAgBA,CAAhB,IAAsB,CAAEI,CAAC,GAAG,CAAN,IAAYJ,CAAZ,GAAgBI,CAAtC,IAA4C,CAAnD;AACH;AALC,OAbc;AAoBpBC,MAAAA,MAAM,EAAE;AACJrG,QAAAA,KAAK,EAAE,EADH;AAEJoB,QAAAA,EAAE,EAAE,UAAU4E,CAAV,EAAa;AACb,cAAK,CAAEA,CAAC,IAAI,CAAP,IAAe,IAAI,IAAxB,EAAiC;AAC7B,mBAAO,SAASA,CAAT,GAAaA,CAApB;AACH,WAFD,MAEO,IAAKA,CAAC,GAAK,IAAI,IAAf,EAAwB;AAC3B,mBAAO,UAAWA,CAAC,IAAM,MAAM,IAAxB,IAAmCA,CAAnC,GAAuC,IAA9C;AACH,WAFM,MAEA,IAAKA,CAAC,GAAK,MAAM,IAAjB,EAA0B;AAC7B,mBAAO,UAAWA,CAAC,IAAM,OAAO,IAAzB,IAAoCA,CAApC,GAAwC,MAA/C;AACH,WAFM,MAEA;AACH,mBAAO,UAAWA,CAAC,IAAM,QAAQ,IAA1B,IAAqCA,CAArC,GAAyC,QAAhD;AACH;AACJ;AAZG,OApBY;AAkCpBM,MAAAA,OAAO,EAAE;AACLtG,QAAAA,KAAK,EAAE,EADF;AAELoB,QAAAA,EAAE,EAAE,UAAU4E,CAAV,EAAa;AACb,cAAIO,CAAC,GAAG,IAAR;AAAA,cACI1C,CAAC,GAAG,GADR;;AAGA,cAAKmC,CAAC,KAAK,CAAX,EAAe;AAAE,mBAAO,CAAP;AAAW;;AAC5B,cAAKA,CAAC,IAAI,CAAV,EAAc;AAAE,mBAAO,CAAP;AAAW;;AAE3B,iBAASnC,CAAC,GAAG1E,IAAI,CAACqH,GAAL,CAAU,CAAV,EAAa,CAAE,EAAF,GAAOR,CAApB,CAAJ,GAA8B7G,IAAI,CAACsH,GAAL,CAAU,CAAET,CAAC,GAAGO,CAAC,GAAG,CAAV,KAAkB,IAAIpH,IAAI,CAACuH,EAA3B,IAAkCH,CAA5C,CAA9B,GAAgF,CAAzF;AACH;AAVI;AAlCW,KAAxB;;AAgDA1G,IAAAA,EAAE,CAAC8G,GAAH,GAAS,UAAU9C,CAAV,EAAa+C,SAAb,EAAwB;AAC7B,UAAIC,EAAE,GAAG3H,QAAQ,CAAC4H,WAAT,CAAqB,OAArB,CAAT;AACAD,MAAAA,EAAE,CAACE,SAAH,CAAaH,SAAb,EAAwB,IAAxB,EAA8B,IAA9B;AACAC,MAAAA,EAAE,CAACG,KAAH,GAAWnD,CAAC,CAACmD,KAAb;AACAH,MAAAA,EAAE,CAACI,KAAH,GAAWpD,CAAC,CAACoD,KAAb;AACApD,MAAAA,CAAC,CAAC9C,MAAF,CAASmG,aAAT,CAAuBL,EAAvB;AACH,KAND;;AAQAhH,IAAAA,EAAE,CAACsH,KAAH,GAAW,UAAUtD,CAAV,EAAa;AACpB,UAAI9C,MAAM,GAAG8C,CAAC,CAAC9C,MAAf;AAAA,UACI8F,EADJ;;AAGA,UAAK,CAAE,0BAAD,CAA6BzD,IAA7B,CAAkCrC,MAAM,CAACqG,OAAzC,CAAN,EAA0D;AACtD;AACA;AACAP,QAAAA,EAAE,GAAG3H,QAAQ,CAAC4H,WAAT,CAAqB7H,MAAM,CAACoI,UAAP,GAAoB,aAApB,GAAoC,OAAzD,CAAL;AACAR,QAAAA,EAAE,CAACE,SAAH,CAAa,OAAb,EAAsB,IAAtB,EAA4B,IAA5B;AACAF,QAAAA,EAAE,CAACS,IAAH,GAAUzD,CAAC,CAACyD,IAAF,IAAUrI,MAApB;AACA4H,QAAAA,EAAE,CAACU,MAAH,GAAY,CAAZ;AACAV,QAAAA,EAAE,CAACW,OAAH,GAAazG,MAAM,CAACyG,OAAP,IAAkB,CAA/B;AACAX,QAAAA,EAAE,CAACY,OAAH,GAAa1G,MAAM,CAAC0G,OAAP,IAAkB,CAA/B;AACAZ,QAAAA,EAAE,CAACa,OAAH,GAAa3G,MAAM,CAAC2G,OAAP,IAAkB,CAA/B;AACAb,QAAAA,EAAE,CAACc,OAAH,GAAa5G,MAAM,CAAC4G,OAAP,IAAkB,CAA/B;AACAd,QAAAA,EAAE,CAACe,OAAH,GAAa,CAAC,CAAC/D,CAAC,CAAC+D,OAAjB;AACAf,QAAAA,EAAE,CAACgB,MAAH,GAAY,CAAC,CAAChE,CAAC,CAACgE,MAAhB;AACAhB,QAAAA,EAAE,CAACiB,QAAH,GAAc,CAAC,CAACjE,CAAC,CAACiE,QAAlB;AACAjB,QAAAA,EAAE,CAACkB,OAAH,GAAa,CAAC,CAAClE,CAAC,CAACkE,OAAjB;AACAlB,QAAAA,EAAE,CAACmB,MAAH,GAAY,CAAZ;AACAnB,QAAAA,EAAE,CAACoB,aAAH,GAAmB,IAAnB;AACApB,QAAAA,EAAE,CAACqB,YAAH,GAAkB,IAAlB;AACAnH,QAAAA,MAAM,CAACmG,aAAP,CAAqBL,EAArB;AACH;AACJ,KAxBD;;AA0BA,WAAOhH,EAAP;AACH,GAhRW,EAAZ;;AAiRA,WAASsI,OAAT,CAAkBjH,EAAlB,EAAsBkH,OAAtB,EAA+B;AAC3B,SAAKC,OAAL,GAAe,OAAOnH,EAAP,IAAa,QAAb,GAAwBhC,QAAQ,CAACoJ,aAAT,CAAuBpH,EAAvB,CAAxB,GAAqDA,EAApE;AACA,SAAKqH,QAAL,GAAgB,KAAKF,OAAL,CAAaG,QAAb,CAAsB,CAAtB,CAAhB;AACA,SAAKC,aAAL,GAAqB,KAAKF,QAAL,CAAcvI,KAAnC,CAH2B,CAGqB;;AAEhD,SAAKoI,OAAL,GAAe;AAEXM,MAAAA,gBAAgB,EAAE,IAFP;AAIXC,MAAAA,eAAe,EAAE,EAJN;AAMXC,MAAAA,aAAa,EAAE,KANJ;AAQnB;AACQC,MAAAA,cAAc,EAAG,CAACjJ,KAAK,CAACkD,UATb;AAUXgG,MAAAA,YAAY,EAAGlJ,KAAK,CAACkD,UAAN,IAAoB,CAAClD,KAAK,CAACiD,QAV/B;AAWXkG,MAAAA,YAAY,EAAGnJ,KAAK,CAACkD,UAAN,IAAoBlD,KAAK,CAACiD,QAX9B;AAYXmG,MAAAA,MAAM,EAAE,CAZG;AAaXC,MAAAA,MAAM,EAAE,CAbG;AAcXC,MAAAA,OAAO,EAAE,IAdE;AAeXC,MAAAA,sBAAsB,EAAE,CAfb;AAgBXvH,MAAAA,QAAQ,EAAE,IAhBC;AAkBXyE,MAAAA,MAAM,EAAE,IAlBG;AAmBX+C,MAAAA,UAAU,EAAE,GAnBD;AAoBXC,MAAAA,YAAY,EAAE,EApBH;AAsBXC,MAAAA,cAAc,EAAE,IAtBL;AAuBXvE,MAAAA,uBAAuB,EAAE;AAAEqC,QAAAA,OAAO,EAAE;AAAX,OAvBd;AAyBXmC,MAAAA,aAAa,EAAE,IAzBJ;AA0BXC,MAAAA,aAAa,EAAE,IA1BJ;AA2BXC,MAAAA,YAAY,EAAE,IA3BH;AA4BXC,MAAAA,aAAa,EAAE,OAAOzK,MAAM,CAAC0K,WAAd,KAA8B;AA5BlC,KAAf;;AA+BA,SAAM,IAAIvJ,CAAV,IAAegI,OAAf,EAAyB;AACrB,WAAKA,OAAL,CAAahI,CAAb,IAAkBgI,OAAO,CAAChI,CAAD,CAAzB;AACH,KAtC0B,CAwC3B;;;AACA,SAAKwJ,UAAL,GAAkB,KAAKxB,OAAL,CAAamB,aAAb,IAA8B3J,KAAK,CAACgD,cAApC,GAAqD,gBAArD,GAAwE,EAA1F;AAEA,SAAKwF,OAAL,CAAaoB,aAAb,GAA6B5J,KAAK,CAACoD,aAAN,IAAuB,KAAKoF,OAAL,CAAaoB,aAAjE;AACA,SAAKpB,OAAL,CAAaqB,YAAb,GAA4B7J,KAAK,CAAC+C,YAAN,IAAsB,KAAKyF,OAAL,CAAaqB,YAA/D;AAEA,SAAKrB,OAAL,CAAayB,gBAAb,GAAgC,KAAKzB,OAAL,CAAayB,gBAAb,KAAkC,IAAlC,GAAyC,UAAzC,GAAsD,KAAKzB,OAAL,CAAayB,gBAAnG;AACA,SAAKzB,OAAL,CAAakB,cAAb,GAA8B,CAAC,KAAKlB,OAAL,CAAayB,gBAAd,IAAkC,KAAKzB,OAAL,CAAakB,cAA7E,CA/C2B,CAiD3B;;AACA,SAAKlB,OAAL,CAAac,OAAb,GAAuB,KAAKd,OAAL,CAAayB,gBAAb,IAAiC,UAAjC,GAA8C,KAA9C,GAAsD,KAAKzB,OAAL,CAAac,OAA1F;AACA,SAAKd,OAAL,CAAa0B,OAAb,GAAuB,KAAK1B,OAAL,CAAayB,gBAAb,IAAiC,YAAjC,GAAgD,KAAhD,GAAwD,KAAKzB,OAAL,CAAa0B,OAA5F,CAnD2B,CAqD3B;;AACA,SAAK1B,OAAL,CAAa2B,UAAb,GAA0B,KAAK3B,OAAL,CAAa2B,UAAb,IAA2B,CAAC,KAAK3B,OAAL,CAAayB,gBAAnE;AACA,SAAKzB,OAAL,CAAae,sBAAb,GAAsC,KAAKf,OAAL,CAAayB,gBAAb,GAAgC,CAAhC,GAAoC,KAAKzB,OAAL,CAAae,sBAAvF;AAEA,SAAKf,OAAL,CAAaiB,YAAb,GAA4B,OAAO,KAAKjB,OAAL,CAAaiB,YAApB,IAAoC,QAApC,GAA+CzJ,KAAK,CAACkG,IAAN,CAAW,KAAKsC,OAAL,CAAaiB,YAAxB,KAAyCzJ,KAAK,CAACkG,IAAN,CAAWG,QAAnG,GAA8G,KAAKmC,OAAL,CAAaiB,YAAvJ;AAEA,SAAKjB,OAAL,CAAa4B,aAAb,GAA6B,KAAK5B,OAAL,CAAa4B,aAAb,KAA+BxH,SAA/B,GAA2C,EAA3C,GAAgD,KAAK4F,OAAL,CAAa4B,aAA1F;;AAEA,QAAK,KAAK5B,OAAL,CAAazB,GAAb,KAAqB,IAA1B,EAAiC;AAC7B,WAAKyB,OAAL,CAAazB,GAAb,GAAmB,KAAnB;AACH,KA/D0B,CAiE3B;;;AACA,QAAI,CAAC,KAAKyB,OAAL,CAAaoB,aAAd,IAA+B,CAAC,KAAKpB,OAAL,CAAaqB,YAAjD,EAA+D;AAC3D,UAAG,CAAE,oBAAD,CAAuBrG,IAAvB,CAA4B,KAAKqF,aAAL,CAAmBwB,QAA/C,CAAJ,EAA8D;AAC1D,aAAKxB,aAAL,CAAmBwB,QAAnB,GAA8B,UAA9B;AACH;AACJ;;AAED,QAAK,KAAK7B,OAAL,CAAa8B,gBAAb,IAAiC,OAAtC,EAAgD;AAC5C,WAAK9B,OAAL,CAAaoB,aAAb,GAA6B,KAA7B;AACH;;AAED,SAAKpB,OAAL,CAAa+B,oBAAb,GAAoC,KAAK/B,OAAL,CAAa+B,oBAAb,GAAoC,CAAC,CAArC,GAAyC,CAA7E,CA5E2B,CA8E/B;AAEI;;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,OAAL,GAAe,EAAf,CArF2B,CAuF/B;;AAEI,SAAKC,KAAL;;AACA,SAAKC,OAAL;AAEA,SAAKC,QAAL,CAAc,KAAKvC,OAAL,CAAaY,MAA3B,EAAmC,KAAKZ,OAAL,CAAaa,MAAhD;AACA,SAAK2B,MAAL;AACH;;AAEDzC,EAAAA,OAAO,CAAC0C,SAAR,GAAoB;AAChBC,IAAAA,OAAO,EAAE,OADO;AAGhBL,IAAAA,KAAK,EAAE,YAAY;AACf,WAAKM,WAAL;;AAEA,UAAK,KAAK3C,OAAL,CAAa4C,UAAb,IAA2B,KAAK5C,OAAL,CAAa6C,UAA7C,EAA0D;AACtD,aAAKC,eAAL;AACH;;AAED,UAAK,KAAK9C,OAAL,CAAa+C,UAAlB,EAA+B;AAC3B,aAAKC,UAAL;AACH;;AAED,UAAK,KAAKhD,OAAL,CAAaiD,IAAlB,EAAyB;AACrB,aAAKC,SAAL;AACH;;AAED,UAAK,KAAKlD,OAAL,CAAamD,WAAlB,EAAgC;AAC5B,aAAKC,SAAL;AACH,OAjBc,CAmBvB;;AAEK,KAxBe;AA0BhBC,IAAAA,OAAO,EAAE,YAAY;AACjB,WAAKV,WAAL,CAAiB,IAAjB;;AACAW,MAAAA,YAAY,CAAC,KAAKC,aAAN,CAAZ;AACA,WAAKA,aAAL,GAAqB,IAArB;;AACA,WAAKC,UAAL,CAAgB,SAAhB;AACH,KA/Be;AAiChBC,IAAAA,cAAc,EAAE,UAAUhI,CAAV,EAAa;AACzB,UAAKA,CAAC,CAAC9C,MAAF,IAAY,KAAKwH,QAAjB,IAA6B,CAAC,KAAKuD,cAAxC,EAAyD;AACrD;AACH;;AAED,WAAKC,eAAL;;AACA,UAAK,CAAC,KAAKC,aAAL,CAAmB,KAAK5D,OAAL,CAAagB,UAAhC,CAAN,EAAoD;AAChD,aAAK0C,cAAL,GAAsB,KAAtB;;AACA,aAAKF,UAAL,CAAgB,WAAhB;AACH;AACJ,KA3Ce;AA6ChBK,IAAAA,MAAM,EAAE,UAAUpI,CAAV,EAAa;AACjB;AACA,UAAKjE,KAAK,CAACqF,SAAN,CAAgBpB,CAAC,CAAC1C,IAAlB,KAA2B,CAAhC,EAAoC;AAClC;AACA;AACA,YAAI6G,MAAJ;;AACF,YAAI,CAACnE,CAAC,CAACqI,KAAP,EAAc;AACZ;AACAlE,UAAAA,MAAM,GAAInE,CAAC,CAACmE,MAAF,GAAW,CAAZ,GAAiB,CAAjB,GACEnE,CAAC,CAACmE,MAAF,IAAY,CAAb,GAAkB,CAAlB,GAAsB,CADhC;AAED,SAJD,MAIO;AACL;AACAA,UAAAA,MAAM,GAAGnE,CAAC,CAACmE,MAAX;AACD;;AACG,YAAKA,MAAM,KAAK,CAAhB,EAAoB;AAChB;AACH;AACJ;;AAED,UAAK,CAAC,KAAKmE,OAAN,IAAkB,KAAKC,SAAL,IAAkBxM,KAAK,CAACqF,SAAN,CAAgBpB,CAAC,CAAC1C,IAAlB,MAA4B,KAAKiL,SAA1E,EAAuF;AACnF;AACH;;AAED,UAAK,KAAKhE,OAAL,CAAakB,cAAb,IAA+B,CAAC1J,KAAK,CAACqD,YAAtC,IAAsD,CAACrD,KAAK,CAACmF,uBAAN,CAA8BlB,CAAC,CAAC9C,MAAhC,EAAwC,KAAKqH,OAAL,CAAarD,uBAArD,CAA5D,EAA4I;AACxIlB,QAAAA,CAAC,CAACyF,cAAF;AACH;;AAED,UAAI+C,KAAK,GAAGxI,CAAC,CAACyI,OAAF,GAAYzI,CAAC,CAACyI,OAAF,CAAU,CAAV,CAAZ,GAA2BzI,CAAvC;AAAA,UACI0I,GADJ;AAGA,WAAKH,SAAL,GAAkBxM,KAAK,CAACqF,SAAN,CAAgBpB,CAAC,CAAC1C,IAAlB,CAAlB;AACA,WAAKqL,KAAL,GAAkB,KAAlB;AACA,WAAKC,KAAL,GAAkB,CAAlB;AACA,WAAKC,KAAL,GAAkB,CAAlB;AACA,WAAKpC,UAAL,GAAkB,CAAlB;AACA,WAAKC,UAAL,GAAkB,CAAlB;AACA,WAAKoC,eAAL,GAAuB,CAAvB;AAEA,WAAKC,SAAL,GAAiBhN,KAAK,CAACe,OAAN,EAAjB;;AAEA,UAAK,KAAKyH,OAAL,CAAaoB,aAAb,IAA8B,KAAKsC,cAAxC,EAAyD;AACrD,aAAKC,eAAL;;AACA,aAAKD,cAAL,GAAsB,KAAtB;AACAS,QAAAA,GAAG,GAAG,KAAKM,mBAAL,EAAN;;AACA,aAAKC,UAAL,CAAgB3N,IAAI,CAACsD,KAAL,CAAW8J,GAAG,CAACnC,CAAf,CAAhB,EAAmCjL,IAAI,CAACsD,KAAL,CAAW8J,GAAG,CAAClC,CAAf,CAAnC;;AACA,aAAKuB,UAAL,CAAgB,WAAhB;AACH,OAND,MAMO,IAAK,CAAC,KAAKxD,OAAL,CAAaoB,aAAd,IAA+B,KAAKuD,WAAzC,EAAuD;AAC1D,aAAKA,WAAL,GAAmB,KAAnB;;AACA,aAAKnB,UAAL,CAAgB,WAAhB;AACH;;AAED,WAAK5C,MAAL,GAAiB,KAAKoB,CAAtB;AACA,WAAKnB,MAAL,GAAiB,KAAKoB,CAAtB;AACA,WAAK2C,SAAL,GAAiB,KAAK5C,CAAtB;AACA,WAAK6C,SAAL,GAAiB,KAAK5C,CAAtB;AACA,WAAK6C,MAAL,GAAiBb,KAAK,CAACrF,KAAvB;AACA,WAAKmG,MAAL,GAAiBd,KAAK,CAACpF,KAAvB;;AAEA,WAAK2E,UAAL,CAAgB,mBAAhB;AACH,KAxGe;AA0GhBwB,IAAAA,KAAK,EAAE,UAAUvJ,CAAV,EAAa;AAChB,UAAK,CAAC,KAAKsI,OAAN,IAAiBvM,KAAK,CAACqF,SAAN,CAAgBpB,CAAC,CAAC1C,IAAlB,MAA4B,KAAKiL,SAAvD,EAAmE;AAC/D;AACH;;AAED,UAAK,KAAKhE,OAAL,CAAakB,cAAlB,EAAmC;AAAK;AACpCzF,QAAAA,CAAC,CAACyF,cAAF;AACH;;AAED,UAAI+C,KAAK,GAASxI,CAAC,CAACyI,OAAF,GAAYzI,CAAC,CAACyI,OAAF,CAAU,CAAV,CAAZ,GAA2BzI,CAA7C;AAAA,UACIwJ,MAAM,GAAQhB,KAAK,CAACrF,KAAN,GAAc,KAAKkG,MADrC;AAAA,UAEII,MAAM,GAAQjB,KAAK,CAACpF,KAAN,GAAc,KAAKkG,MAFrC;AAAA,UAGII,SAAS,GAAK3N,KAAK,CAACe,OAAN,EAHlB;AAAA,UAII6M,IAJJ;AAAA,UAIUC,IAJV;AAAA,UAKIC,QALJ;AAAA,UAKcC,QALd;AAOA,WAAKT,MAAL,GAAkBb,KAAK,CAACrF,KAAxB;AACA,WAAKmG,MAAL,GAAkBd,KAAK,CAACpF,KAAxB;AAEA,WAAKwF,KAAL,IAAmBY,MAAnB;AACA,WAAKX,KAAL,IAAmBY,MAAnB;AACAI,MAAAA,QAAQ,GAAUvO,IAAI,CAACkD,GAAL,CAAS,KAAKoK,KAAd,CAAlB;AACAkB,MAAAA,QAAQ,GAAUxO,IAAI,CAACkD,GAAL,CAAS,KAAKqK,KAAd,CAAlB,CAtBgB,CAwBhB;;AACA,UAAKa,SAAS,GAAG,KAAKK,OAAjB,GAA2B,GAA3B,IAAmCF,QAAQ,GAAG,EAAX,IAAiBC,QAAQ,GAAG,EAApE,EAA0E;AACtE;AACH,OA3Be,CA6BhB;;;AACA,UAAK,CAAC,KAAKhB,eAAN,IAAyB,CAAC,KAAKvE,OAAL,CAAa2B,UAA5C,EAAyD;AACrD,YAAK2D,QAAQ,GAAGC,QAAQ,GAAG,KAAKvF,OAAL,CAAae,sBAAxC,EAAiE;AAC7D,eAAKwD,eAAL,GAAuB,GAAvB,CAD6D,CAC7B;AACnC,SAFD,MAEO,IAAKgB,QAAQ,IAAID,QAAQ,GAAG,KAAKtF,OAAL,CAAae,sBAAzC,EAAkE;AACrE,eAAKwD,eAAL,GAAuB,GAAvB,CADqE,CACrC;AACnC,SAFM,MAEA;AACH,eAAKA,eAAL,GAAuB,GAAvB,CADG,CAC6B;AACnC;AACJ;;AAED,UAAK,KAAKA,eAAL,IAAwB,GAA7B,EAAmC;AAC/B,YAAK,KAAKvE,OAAL,CAAayB,gBAAb,IAAiC,UAAtC,EAAmD;AAC/ChG,UAAAA,CAAC,CAACyF,cAAF;AACH,SAFD,MAEO,IAAK,KAAKlB,OAAL,CAAayB,gBAAb,IAAiC,YAAtC,EAAqD;AACxD,eAAKuC,SAAL,GAAiB,KAAjB;AACA;AACH;;AAEDkB,QAAAA,MAAM,GAAG,CAAT;AACH,OATD,MASO,IAAK,KAAKX,eAAL,IAAwB,GAA7B,EAAmC;AACtC,YAAK,KAAKvE,OAAL,CAAayB,gBAAb,IAAiC,YAAtC,EAAqD;AACjDhG,UAAAA,CAAC,CAACyF,cAAF;AACH,SAFD,MAEO,IAAK,KAAKlB,OAAL,CAAayB,gBAAb,IAAiC,UAAtC,EAAmD;AACtD,eAAKuC,SAAL,GAAiB,KAAjB;AACA;AACH;;AAEDiB,QAAAA,MAAM,GAAG,CAAT;AACH;;AAEDA,MAAAA,MAAM,GAAG,KAAKQ,mBAAL,GAA2BR,MAA3B,GAAoC,CAA7C;AACAC,MAAAA,MAAM,GAAG,KAAKQ,iBAAL,GAAyBR,MAAzB,GAAkC,CAA3C;AAEAE,MAAAA,IAAI,GAAG,KAAKpD,CAAL,GAASiD,MAAhB;AACAI,MAAAA,IAAI,GAAG,KAAKpD,CAAL,GAASiD,MAAhB,CAhEgB,CAkEhB;;AACA,UAAKE,IAAI,GAAG,CAAP,IAAYA,IAAI,GAAG,KAAKO,UAA7B,EAA0C;AACtCP,QAAAA,IAAI,GAAG,KAAKpF,OAAL,CAAa/B,MAAb,GAAsB,KAAK+D,CAAL,GAASiD,MAAM,GAAG,CAAxC,GAA4CG,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,KAAKO,UAAvE;AACH;;AACD,UAAKN,IAAI,GAAG,CAAP,IAAYA,IAAI,GAAG,KAAKO,UAA7B,EAA0C;AACtCP,QAAAA,IAAI,GAAG,KAAKrF,OAAL,CAAa/B,MAAb,GAAsB,KAAKgE,CAAL,GAASiD,MAAM,GAAG,CAAxC,GAA4CG,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,KAAKO,UAAvE;AACH;;AAED,WAAK1D,UAAL,GAAkB+C,MAAM,GAAG,CAAT,GAAa,CAAC,CAAd,GAAkBA,MAAM,GAAG,CAAT,GAAa,CAAb,GAAiB,CAArD;AACA,WAAK9C,UAAL,GAAkB+C,MAAM,GAAG,CAAT,GAAa,CAAC,CAAd,GAAkBA,MAAM,GAAG,CAAT,GAAa,CAAb,GAAiB,CAArD;;AAEA,UAAK,CAAC,KAAKd,KAAX,EAAmB;AACf,aAAKZ,UAAL,CAAgB,aAAhB;AACH;;AAED,WAAKY,KAAL,GAAa,IAAb;;AAEA,WAAKM,UAAL,CAAgBU,IAAhB,EAAsBC,IAAtB;AAER;;;AAEQ,UAAKF,SAAS,GAAG,KAAKX,SAAjB,GAA6B,GAAlC,EAAwC;AACpC,aAAKA,SAAL,GAAiBW,SAAjB;AACA,aAAKvE,MAAL,GAAc,KAAKoB,CAAnB;AACA,aAAKnB,MAAL,GAAc,KAAKoB,CAAnB;AACH;AAET;;AAEK,KAzMe;AA2MhB4D,IAAAA,IAAI,EAAE,UAAUpK,CAAV,EAAa;AACf,UAAK,CAAC,KAAKsI,OAAN,IAAiBvM,KAAK,CAACqF,SAAN,CAAgBpB,CAAC,CAAC1C,IAAlB,MAA4B,KAAKiL,SAAvD,EAAmE;AAC/D;AACH;;AAED,UAAK,KAAKhE,OAAL,CAAakB,cAAb,IAA+B,CAAC1J,KAAK,CAACmF,uBAAN,CAA8BlB,CAAC,CAAC9C,MAAhC,EAAwC,KAAKqH,OAAL,CAAarD,uBAArD,CAArC,EAAqH;AACjHlB,QAAAA,CAAC,CAACyF,cAAF;AACH;;AAED,UAAI+C,KAAK,GAAGxI,CAAC,CAACqK,cAAF,GAAmBrK,CAAC,CAACqK,cAAF,CAAiB,CAAjB,CAAnB,GAAyCrK,CAArD;AAAA,UACIsK,SADJ;AAAA,UAEIC,SAFJ;AAAA,UAGI7L,QAAQ,GAAG3C,KAAK,CAACe,OAAN,KAAkB,KAAKiM,SAHtC;AAAA,UAIIY,IAAI,GAAGrO,IAAI,CAACsD,KAAL,CAAW,KAAK2H,CAAhB,CAJX;AAAA,UAKIqD,IAAI,GAAGtO,IAAI,CAACsD,KAAL,CAAW,KAAK4H,CAAhB,CALX;AAAA,UAMIgE,SAAS,GAAGlP,IAAI,CAACkD,GAAL,CAASmL,IAAI,GAAG,KAAKxE,MAArB,CANhB;AAAA,UAOIsF,SAAS,GAAGnP,IAAI,CAACkD,GAAL,CAASoL,IAAI,GAAG,KAAKxE,MAArB,CAPhB;AAAA,UAQIlH,IAAI,GAAG,CARX;AAAA,UASIwM,MAAM,GAAG,EATb;AAWA,WAAKzC,cAAL,GAAsB,CAAtB;AACA,WAAKM,SAAL,GAAiB,CAAjB;AACA,WAAKwB,OAAL,GAAehO,KAAK,CAACe,OAAN,EAAf,CAtBe,CAwBf;;AACA,UAAK,KAAKqL,aAAL,CAAmB,KAAK5D,OAAL,CAAagB,UAAhC,CAAL,EAAmD;AAC/C;AACH;;AAED,WAAKuB,QAAL,CAAc6C,IAAd,EAAoBC,IAApB,EA7Be,CA6Ba;AAE5B;;AACA,UAAK,CAAC,KAAKjB,KAAX,EAAmB;AACf,YAAK,KAAKpE,OAAL,CAAazB,GAAlB,EAAwB;AACpB/G,UAAAA,KAAK,CAAC+G,GAAN,CAAU9C,CAAV,EAAa,KAAKuE,OAAL,CAAazB,GAA1B;AACH;;AAED,YAAK,KAAKyB,OAAL,CAAajB,KAAlB,EAA0B;AACtBvH,UAAAA,KAAK,CAACuH,KAAN,CAAYtD,CAAZ;AACH;;AAED,aAAK+H,UAAL,CAAgB,cAAhB;;AACA;AACH;;AAED,UAAK,KAAKpB,OAAL,CAAagE,KAAb,IAAsBjM,QAAQ,GAAG,GAAjC,IAAwC8L,SAAS,GAAG,GAApD,IAA2DC,SAAS,GAAG,GAA5E,EAAkF;AAC9E,aAAK1C,UAAL,CAAgB,OAAhB;;AACA;AACH,OAhDc,CAkDf;;;AACA,UAAK,KAAKxD,OAAL,CAAaxG,QAAb,IAAyBW,QAAQ,GAAG,GAAzC,EAA+C;AAC3C4L,QAAAA,SAAS,GAAG,KAAKN,mBAAL,GAA2BjO,KAAK,CAACgC,QAAN,CAAe,KAAKwI,CAApB,EAAuB,KAAKpB,MAA5B,EAAoCzG,QAApC,EAA8C,KAAKwL,UAAnD,EAA+D,KAAK3F,OAAL,CAAa/B,MAAb,GAAsB,KAAKoI,YAA3B,GAA0C,CAAzG,EAA4G,KAAKrG,OAAL,CAAalG,YAAzH,CAA3B,GAAoK;AAAEI,UAAAA,WAAW,EAAEkL,IAAf;AAAqBjL,UAAAA,QAAQ,EAAE;AAA/B,SAAhL;AACA6L,QAAAA,SAAS,GAAG,KAAKN,iBAAL,GAAyBlO,KAAK,CAACgC,QAAN,CAAe,KAAKyI,CAApB,EAAuB,KAAKpB,MAA5B,EAAoC1G,QAApC,EAA8C,KAAKyL,UAAnD,EAA+D,KAAK5F,OAAL,CAAa/B,MAAb,GAAsB,KAAKqI,aAA3B,GAA2C,CAA1G,EAA6G,KAAKtG,OAAL,CAAalG,YAA1H,CAAzB,GAAmK;AAAEI,UAAAA,WAAW,EAAEmL,IAAf;AAAqBlL,UAAAA,QAAQ,EAAE;AAA/B,SAA/K;AACAiL,QAAAA,IAAI,GAAGW,SAAS,CAAC7L,WAAjB;AACAmL,QAAAA,IAAI,GAAGW,SAAS,CAAC9L,WAAjB;AACAP,QAAAA,IAAI,GAAG5C,IAAI,CAACwP,GAAL,CAASR,SAAS,CAAC5L,QAAnB,EAA6B6L,SAAS,CAAC7L,QAAvC,CAAP;AACA,aAAKuJ,cAAL,GAAsB,CAAtB;AACH;;AAGD,UAAK,KAAK1D,OAAL,CAAaiD,IAAlB,EAAyB;AACrB,YAAIA,IAAI,GAAG,KAAKuD,YAAL,CAAkBpB,IAAlB,EAAwBC,IAAxB,CAAX;;AACA,aAAKoB,WAAL,GAAmBxD,IAAnB;AACAtJ,QAAAA,IAAI,GAAG,KAAKqG,OAAL,CAAa0G,SAAb,IAA0B3P,IAAI,CAACwP,GAAL,CACzBxP,IAAI,CAACwP,GAAL,CACIxP,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAASmL,IAAI,GAAGnC,IAAI,CAACjB,CAArB,CAAT,EAAkC,IAAlC,CADJ,EAEIjL,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAASoL,IAAI,GAAGpC,IAAI,CAAChB,CAArB,CAAT,EAAkC,IAAlC,CAFJ,CADyB,EAItB,GAJsB,CAAjC;AAKAmD,QAAAA,IAAI,GAAGnC,IAAI,CAACjB,CAAZ;AACAqD,QAAAA,IAAI,GAAGpC,IAAI,CAAChB,CAAZ;AAEA,aAAKC,UAAL,GAAkB,CAAlB;AACA,aAAKC,UAAL,GAAkB,CAAlB;AACAgE,QAAAA,MAAM,GAAG,KAAKnG,OAAL,CAAaiB,YAAtB;AACH,OA3Ec,CA6EvB;;;AAEQ,UAAKmE,IAAI,IAAI,KAAKpD,CAAb,IAAkBqD,IAAI,IAAI,KAAKpD,CAApC,EAAwC;AACpC;AACA,YAAKmD,IAAI,GAAG,CAAP,IAAYA,IAAI,GAAG,KAAKO,UAAxB,IAAsCN,IAAI,GAAG,CAA7C,IAAkDA,IAAI,GAAG,KAAKO,UAAnE,EAAgF;AAC5EO,UAAAA,MAAM,GAAG3O,KAAK,CAACkG,IAAN,CAAWC,SAApB;AACH;;AAED,aAAK4E,QAAL,CAAc6C,IAAd,EAAoBC,IAApB,EAA0B1L,IAA1B,EAAgCwM,MAAhC;AACA;AACH;;AAED,WAAK3C,UAAL,CAAgB,WAAhB;AACH,KArSe;AAuShBoD,IAAAA,OAAO,EAAE,YAAY;AACjB,UAAIC,IAAI,GAAG,IAAX;AAEAvD,MAAAA,YAAY,CAAC,KAAKC,aAAN,CAAZ;AAEA,WAAKA,aAAL,GAAqBhM,UAAU,CAAC,YAAY;AACxCsP,QAAAA,IAAI,CAACvE,OAAL;AACH,OAF8B,EAE5B,KAAKtC,OAAL,CAAa4B,aAFe,CAA/B;AAGH,KA/Se;AAiThBgC,IAAAA,aAAa,EAAE,UAAUjK,IAAV,EAAgB;AAC3B,UAAIqI,CAAC,GAAG,KAAKA,CAAb;AAAA,UACIC,CAAC,GAAG,KAAKA,CADb;AAGAtI,MAAAA,IAAI,GAAGA,IAAI,IAAI,CAAf;;AAEA,UAAK,CAAC,KAAK8L,mBAAN,IAA6B,KAAKzD,CAAL,GAAS,CAA3C,EAA+C;AAC3CA,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFD,MAEO,IAAK,KAAKA,CAAL,GAAS,KAAK2D,UAAnB,EAAgC;AACnC3D,QAAAA,CAAC,GAAG,KAAK2D,UAAT;AACH;;AAED,UAAK,CAAC,KAAKD,iBAAN,IAA2B,KAAKzD,CAAL,GAAS,CAAzC,EAA6C;AACzCA,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFD,MAEO,IAAK,KAAKA,CAAL,GAAS,KAAK2D,UAAnB,EAAgC;AACnC3D,QAAAA,CAAC,GAAG,KAAK2D,UAAT;AACH;;AAED,UAAK5D,CAAC,IAAI,KAAKA,CAAV,IAAeC,CAAC,IAAI,KAAKA,CAA9B,EAAkC;AAC9B,eAAO,KAAP;AACH;;AAED,WAAKM,QAAL,CAAcP,CAAd,EAAiBC,CAAjB,EAAoBtI,IAApB,EAA0B,KAAKqG,OAAL,CAAaiB,YAAvC;AAEA,aAAO,IAAP;AACH,KA1Ue;AA4UhB6F,IAAAA,OAAO,EAAE,YAAY;AACjB,WAAK/C,OAAL,GAAe,KAAf;AACH,KA9Ue;AAgVhBvB,IAAAA,MAAM,EAAE,YAAY;AAChB,WAAKuB,OAAL,GAAe,IAAf;AACH,KAlVe;AAoVhBzB,IAAAA,OAAO,EAAE,YAAY;AACjB,UAAIyE,EAAE,GAAG,KAAK9G,OAAL,CAAa+G,YAAtB,CADiB,CACuB;;AAExC,WAAKX,YAAL,GAAsB,KAAKpG,OAAL,CAAagH,WAAnC;AACA,WAAKX,aAAL,GAAsB,KAAKrG,OAAL,CAAaiH,YAAnC;AAER;;AAEQ,WAAKC,aAAL,GAAsB,KAAKhH,QAAL,CAAciH,WAApC;AACA,WAAKC,cAAL,GAAsB,KAAKlH,QAAL,CAAc6G,YAApC;AAEA,WAAKrB,UAAL,GAAsB,KAAKU,YAAL,GAAoB,KAAKc,aAA/C;AACA,WAAKvB,UAAL,GAAsB,KAAKU,aAAL,GAAqB,KAAKe,cAAhD;AAER;;AAEQ,WAAK5B,mBAAL,GAA8B,KAAKzF,OAAL,CAAa0B,OAAb,IAAwB,KAAKiE,UAAL,GAAkB,CAAxE;AACA,WAAKD,iBAAL,GAA8B,KAAK1F,OAAL,CAAac,OAAb,IAAwB,KAAK8E,UAAL,GAAkB,CAAxE;;AAEA,UAAK,CAAC,KAAKH,mBAAX,EAAiC;AAC7B,aAAKE,UAAL,GAAkB,CAAlB;AACA,aAAKwB,aAAL,GAAqB,KAAKd,YAA1B;AACH;;AAED,UAAK,CAAC,KAAKX,iBAAX,EAA+B;AAC3B,aAAKE,UAAL,GAAkB,CAAlB;AACA,aAAKyB,cAAL,GAAsB,KAAKf,aAA3B;AACH;;AAED,WAAKd,OAAL,GAAe,CAAf;AACA,WAAKtD,UAAL,GAAkB,CAAlB;AACA,WAAKC,UAAL,GAAkB,CAAlB;AAEA,WAAKmF,aAAL,GAAqB9P,KAAK,CAAC6E,MAAN,CAAa,KAAK4D,OAAlB,CAArB;;AAEA,WAAKuD,UAAL,CAAgB,SAAhB;;AAEA,WAAKI,aAAL,GArCiB,CAuCzB;AAEK,KA7Xe;AA+XhB2D,IAAAA,EAAE,EAAE,UAAUxO,IAAV,EAAgBC,EAAhB,EAAoB;AACpB,UAAK,CAAC,KAAKoJ,OAAL,CAAarJ,IAAb,CAAN,EAA2B;AACvB,aAAKqJ,OAAL,CAAarJ,IAAb,IAAqB,EAArB;AACH;;AAED,WAAKqJ,OAAL,CAAarJ,IAAb,EAAmBkD,IAAnB,CAAwBjD,EAAxB;AACH,KArYe;AAuYhBwO,IAAAA,GAAG,EAAE,UAAUzO,IAAV,EAAgBC,EAAhB,EAAoB;AACrB,UAAK,CAAC,KAAKoJ,OAAL,CAAarJ,IAAb,CAAN,EAA2B;AACvB;AACH;;AAED,UAAI0O,KAAK,GAAG,KAAKrF,OAAL,CAAarJ,IAAb,EAAmB2O,OAAnB,CAA2B1O,EAA3B,CAAZ;;AAEA,UAAKyO,KAAK,GAAG,CAAC,CAAd,EAAkB;AACd,aAAKrF,OAAL,CAAarJ,IAAb,EAAmB4O,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH;AACJ,KAjZe;AAmZhBjE,IAAAA,UAAU,EAAE,UAAUzK,IAAV,EAAgB;AACxB,UAAK,CAAC,KAAKqJ,OAAL,CAAarJ,IAAb,CAAN,EAA2B;AACvB;AACH;;AAED,UAAIf,CAAC,GAAG,CAAR;AAAA,UACIC,CAAC,GAAG,KAAKmK,OAAL,CAAarJ,IAAb,EAAmBb,MAD3B;;AAGA,UAAK,CAACD,CAAN,EAAU;AACN;AACH;;AAED,aAAQD,CAAC,GAAGC,CAAZ,EAAeD,CAAC,EAAhB,EAAqB;AACjB,aAAKoK,OAAL,CAAarJ,IAAb,EAAmBf,CAAnB,EAAsB4P,KAAtB,CAA4B,IAA5B,EAAkC,GAAGC,KAAH,CAASC,IAAT,CAAcC,SAAd,EAAyB,CAAzB,CAAlC;AACH;AACJ,KAlae;AAoahBC,IAAAA,QAAQ,EAAE,UAAUhG,CAAV,EAAaC,CAAb,EAAgBtI,IAAhB,EAAsBwM,MAAtB,EAA8B;AACpCnE,MAAAA,CAAC,GAAG,KAAKA,CAAL,GAASA,CAAb;AACAC,MAAAA,CAAC,GAAG,KAAKA,CAAL,GAASA,CAAb;AACAtI,MAAAA,IAAI,GAAGA,IAAI,IAAI,CAAf;AAEA,WAAK4I,QAAL,CAAcP,CAAd,EAAiBC,CAAjB,EAAoBtI,IAApB,EAA0BwM,MAA1B;AACH,KA1ae;AA4ahB5D,IAAAA,QAAQ,EAAE,UAAUP,CAAV,EAAaC,CAAb,EAAgBtI,IAAhB,EAAsBwM,MAAtB,EAA8B;AACpCA,MAAAA,MAAM,GAAGA,MAAM,IAAI3O,KAAK,CAACkG,IAAN,CAAWG,QAA9B;AAEA,WAAK6F,cAAL,GAAsB,KAAK1D,OAAL,CAAaoB,aAAb,IAA8BzH,IAAI,GAAG,CAA3D;AACA,UAAIsO,cAAc,GAAG,KAAKjI,OAAL,CAAaoB,aAAb,IAA8B+E,MAAM,CAACvO,KAA1D;;AACA,UAAK,CAAC+B,IAAD,IAASsO,cAAd,EAA+B;AACvB,YAAGA,cAAH,EAAmB;AACf,eAAKC,yBAAL,CAA+B/B,MAAM,CAACvO,KAAtC;;AACA,eAAK+L,eAAL,CAAqBhK,IAArB;AACH;;AACL,aAAK+K,UAAL,CAAgB1C,CAAhB,EAAmBC,CAAnB;AACH,OAND,MAMO;AACH,aAAKkG,QAAL,CAAcnG,CAAd,EAAiBC,CAAjB,EAAoBtI,IAApB,EAA0BwM,MAAM,CAACnN,EAAjC;AACH;AACJ,KA1be;AA4bhBoP,IAAAA,eAAe,EAAE,UAAUtP,EAAV,EAAca,IAAd,EAAoB0O,OAApB,EAA6BC,OAA7B,EAAsCnC,MAAtC,EAA8C;AAC3DrN,MAAAA,EAAE,GAAGA,EAAE,CAACyP,QAAH,GAAczP,EAAd,GAAmB,KAAKqH,QAAL,CAAcD,aAAd,CAA4BpH,EAA5B,CAAxB;;AAEA,UAAK,CAACA,EAAN,EAAW;AACP;AACH;;AAED,UAAIqL,GAAG,GAAG3M,KAAK,CAAC6E,MAAN,CAAavD,EAAb,CAAV;AAEAqL,MAAAA,GAAG,CAAC7H,IAAJ,IAAY,KAAKgL,aAAL,CAAmBhL,IAA/B;AACA6H,MAAAA,GAAG,CAAC3H,GAAJ,IAAY,KAAK8K,aAAL,CAAmB9K,GAA/B,CAV2D,CAY3D;;AACA,UAAK6L,OAAO,KAAK,IAAjB,EAAwB;AACpBA,QAAAA,OAAO,GAAGtR,IAAI,CAACsD,KAAL,CAAWvB,EAAE,CAACsO,WAAH,GAAiB,CAAjB,GAAqB,KAAKnH,OAAL,CAAamH,WAAb,GAA2B,CAA3D,CAAV;AACH;;AACD,UAAKkB,OAAO,KAAK,IAAjB,EAAwB;AACpBA,QAAAA,OAAO,GAAGvR,IAAI,CAACsD,KAAL,CAAWvB,EAAE,CAACkO,YAAH,GAAkB,CAAlB,GAAsB,KAAK/G,OAAL,CAAa+G,YAAb,GAA4B,CAA7D,CAAV;AACH;;AAED7C,MAAAA,GAAG,CAAC7H,IAAJ,IAAY+L,OAAO,IAAI,CAAvB;AACAlE,MAAAA,GAAG,CAAC3H,GAAJ,IAAY8L,OAAO,IAAI,CAAvB;AAEAnE,MAAAA,GAAG,CAAC7H,IAAJ,GAAW6H,GAAG,CAAC7H,IAAJ,GAAW,CAAX,GAAe,CAAf,GAAmB6H,GAAG,CAAC7H,IAAJ,GAAW,KAAKqJ,UAAhB,GAA6B,KAAKA,UAAlC,GAA+CxB,GAAG,CAAC7H,IAAjF;AACA6H,MAAAA,GAAG,CAAC3H,GAAJ,GAAW2H,GAAG,CAAC3H,GAAJ,GAAW,CAAX,GAAe,CAAf,GAAmB2H,GAAG,CAAC3H,GAAJ,GAAW,KAAKoJ,UAAhB,GAA6B,KAAKA,UAAlC,GAA+CzB,GAAG,CAAC3H,GAAjF;AAEA7C,MAAAA,IAAI,GAAGA,IAAI,KAAKS,SAAT,IAAsBT,IAAI,KAAK,IAA/B,IAAuCA,IAAI,KAAK,MAAhD,GAAyD5C,IAAI,CAACwP,GAAL,CAASxP,IAAI,CAACkD,GAAL,CAAS,KAAK+H,CAAL,GAAOmC,GAAG,CAAC7H,IAApB,CAAT,EAAoCvF,IAAI,CAACkD,GAAL,CAAS,KAAKgI,CAAL,GAAOkC,GAAG,CAAC3H,GAApB,CAApC,CAAzD,GAAyH7C,IAAhI;AAEA,WAAK4I,QAAL,CAAc4B,GAAG,CAAC7H,IAAlB,EAAwB6H,GAAG,CAAC3H,GAA5B,EAAiC7C,IAAjC,EAAuCwM,MAAvC;AACH,KAzde;AA2dhBxC,IAAAA,eAAe,EAAE,UAAUhK,IAAV,EAAgB;AAC7B,UAAI,CAAC,KAAKqG,OAAL,CAAaoB,aAAlB,EAAiC;AAC7B;AACH;;AACDzH,MAAAA,IAAI,GAAGA,IAAI,IAAI,CAAf;AACA,UAAI6O,YAAY,GAAGhR,KAAK,CAACI,KAAN,CAAYyD,kBAA/B;;AACA,UAAG,CAACmN,YAAJ,EAAkB;AACd;AACH;;AAED,WAAKnI,aAAL,CAAmBmI,YAAnB,IAAmC7O,IAAI,GAAG,IAA1C;;AAEA,UAAK,CAACA,IAAD,IAASnC,KAAK,CAACqD,YAApB,EAAmC;AAC/B,aAAKwF,aAAL,CAAmBmI,YAAnB,IAAmC,UAAnC,CAD+B,CAE/B;;AACA,YAAIC,IAAI,GAAG,IAAX;AACAzR,QAAAA,GAAG,CAAC,YAAW;AACX,cAAGyR,IAAI,CAACpI,aAAL,CAAmBmI,YAAnB,MAAqC,UAAxC,EAAoD;AAChDC,YAAAA,IAAI,CAACpI,aAAL,CAAmBmI,YAAnB,IAAmC,IAAnC;AACH;AACJ,SAJE,CAAH;AAKH;;AAGD,UAAK,KAAK3F,UAAV,EAAuB;AACnB,aAAM,IAAI7K,CAAC,GAAG,KAAK6K,UAAL,CAAgB3K,MAA9B,EAAsCF,CAAC,EAAvC,GAA6C;AACzC,eAAK6K,UAAL,CAAgB7K,CAAhB,EAAmB0Q,cAAnB,CAAkC/O,IAAlC;AACH;AACJ,OA5B4B,CA+BrC;;AAEK,KA5fe;AA8fhBuO,IAAAA,yBAAyB,EAAE,UAAU/B,MAAV,EAAkB;AACzC,WAAK9F,aAAL,CAAmB7I,KAAK,CAACI,KAAN,CAAYwD,wBAA/B,IAA2D+K,MAA3D;;AAGA,UAAK,KAAKtD,UAAV,EAAuB;AACnB,aAAM,IAAI7K,CAAC,GAAG,KAAK6K,UAAL,CAAgB3K,MAA9B,EAAsCF,CAAC,EAAvC,GAA6C;AACzC,eAAK6K,UAAL,CAAgB7K,CAAhB,EAAmBoD,wBAAnB,CAA4C+K,MAA5C;AACH;AACJ,OARwC,CAWjD;;AAEK,KA3gBe;AA6gBhBzB,IAAAA,UAAU,EAAE,UAAU1C,CAAV,EAAaC,CAAb,EAAgB;AACxB,UAAK,KAAKjC,OAAL,CAAaqB,YAAlB,EAAiC;AAEzC;AAEY,aAAKhB,aAAL,CAAmB7I,KAAK,CAACI,KAAN,CAAYG,SAA/B,IAA4C,eAAeiK,CAAf,GAAmB,KAAnB,GAA2BC,CAA3B,GAA+B,KAA/B,GAAuC,KAAKT,UAAxF;AAEZ;AAES,OARD,MAQO;AACHQ,QAAAA,CAAC,GAAGjL,IAAI,CAACsD,KAAL,CAAW2H,CAAX,CAAJ;AACAC,QAAAA,CAAC,GAAGlL,IAAI,CAACsD,KAAL,CAAW4H,CAAX,CAAJ;AACA,aAAK5B,aAAL,CAAmB/D,IAAnB,GAA0B0F,CAAC,GAAG,IAA9B;AACA,aAAK3B,aAAL,CAAmB7D,GAAnB,GAAyByF,CAAC,GAAG,IAA7B;AACH;;AAED,WAAKD,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;;AAGJ,UAAK,KAAKY,UAAV,EAAuB;AACnB,aAAM,IAAI7K,CAAC,GAAG,KAAK6K,UAAL,CAAgB3K,MAA9B,EAAsCF,CAAC,EAAvC,GAA6C;AACzC,eAAK6K,UAAL,CAAgB7K,CAAhB,EAAmB2Q,cAAnB;AACH;AACJ,OAxB2B,CA2BhC;;AAEK,KA1iBe;AA4iBhBhG,IAAAA,WAAW,EAAE,UAAUiG,MAAV,EAAkB;AAC3B,UAAI/L,SAAS,GAAG+L,MAAM,GAAGpR,KAAK,CAAC2B,WAAT,GAAuB3B,KAAK,CAACqB,QAAnD;AAAA,UACIF,MAAM,GAAG,KAAKqH,OAAL,CAAasB,aAAb,GAA6B,KAAKrB,OAAlC,GAA4CpJ,MADzD;AAGAgG,MAAAA,SAAS,CAAChG,MAAD,EAAS,mBAAT,EAA8B,IAA9B,CAAT;AACAgG,MAAAA,SAAS,CAAChG,MAAD,EAAS,QAAT,EAAmB,IAAnB,CAAT;;AAEA,UAAK,KAAKmJ,OAAL,CAAajB,KAAlB,EAA0B;AACtBlC,QAAAA,SAAS,CAAC,KAAKoD,OAAN,EAAe,OAAf,EAAwB,IAAxB,EAA8B,IAA9B,CAAT;AACH;;AAED,UAAK,CAAC,KAAKD,OAAL,CAAaW,YAAnB,EAAkC;AAC9B9D,QAAAA,SAAS,CAAC,KAAKoD,OAAN,EAAe,WAAf,EAA4B,IAA5B,CAAT;AACApD,QAAAA,SAAS,CAAClE,MAAD,EAAS,WAAT,EAAsB,IAAtB,CAAT;AACAkE,QAAAA,SAAS,CAAClE,MAAD,EAAS,aAAT,EAAwB,IAAxB,CAAT;AACAkE,QAAAA,SAAS,CAAClE,MAAD,EAAS,SAAT,EAAoB,IAApB,CAAT;AACH;;AAED,UAAKnB,KAAK,CAACkD,UAAN,IAAoB,CAAC,KAAKsF,OAAL,CAAaS,cAAvC,EAAwD;AACpD5D,QAAAA,SAAS,CAAC,KAAKoD,OAAN,EAAezI,KAAK,CAAC6B,kBAAN,CAAyB,aAAzB,CAAf,EAAwD,IAAxD,CAAT;AACAwD,QAAAA,SAAS,CAAClE,MAAD,EAASnB,KAAK,CAAC6B,kBAAN,CAAyB,aAAzB,CAAT,EAAkD,IAAlD,CAAT;AACAwD,QAAAA,SAAS,CAAClE,MAAD,EAASnB,KAAK,CAAC6B,kBAAN,CAAyB,eAAzB,CAAT,EAAoD,IAApD,CAAT;AACAwD,QAAAA,SAAS,CAAClE,MAAD,EAASnB,KAAK,CAAC6B,kBAAN,CAAyB,WAAzB,CAAT,EAAgD,IAAhD,CAAT;AACH;;AAED,UAAK7B,KAAK,CAACiD,QAAN,IAAkB,CAAC,KAAKuF,OAAL,CAAaU,YAArC,EAAoD;AAChD7D,QAAAA,SAAS,CAAC,KAAKoD,OAAN,EAAe,YAAf,EAA6B,IAA7B,CAAT;AACApD,QAAAA,SAAS,CAAClE,MAAD,EAAS,WAAT,EAAsB,IAAtB,CAAT;AACAkE,QAAAA,SAAS,CAAClE,MAAD,EAAS,aAAT,EAAwB,IAAxB,CAAT;AACAkE,QAAAA,SAAS,CAAClE,MAAD,EAAS,UAAT,EAAqB,IAArB,CAAT;AACH;;AAEDkE,MAAAA,SAAS,CAAC,KAAKsD,QAAN,EAAgB,eAAhB,EAAiC,IAAjC,CAAT;AACAtD,MAAAA,SAAS,CAAC,KAAKsD,QAAN,EAAgB,qBAAhB,EAAuC,IAAvC,CAAT;AACAtD,MAAAA,SAAS,CAAC,KAAKsD,QAAN,EAAgB,gBAAhB,EAAkC,IAAlC,CAAT;AACAtD,MAAAA,SAAS,CAAC,KAAKsD,QAAN,EAAgB,iBAAhB,EAAmC,IAAnC,CAAT;AACH,KAhlBe;AAklBhBsE,IAAAA,mBAAmB,EAAE,YAAY;AAC7B,UAAIoE,MAAM,GAAGhS,MAAM,CAACiS,gBAAP,CAAwB,KAAK3I,QAA7B,EAAuC,IAAvC,CAAb;AAAA,UACI6B,CADJ;AAAA,UACOC,CADP;;AAGA,UAAK,KAAKjC,OAAL,CAAaqB,YAAlB,EAAiC;AAC7BwH,QAAAA,MAAM,GAAGA,MAAM,CAACrR,KAAK,CAACI,KAAN,CAAYG,SAAb,CAAN,CAA8BiE,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,EAA4CA,KAA5C,CAAkD,IAAlD,CAAT;AACAgG,QAAAA,CAAC,GAAG,EAAE6G,MAAM,CAAC,EAAD,CAAN,IAAcA,MAAM,CAAC,CAAD,CAAtB,CAAJ;AACA5G,QAAAA,CAAC,GAAG,EAAE4G,MAAM,CAAC,EAAD,CAAN,IAAcA,MAAM,CAAC,CAAD,CAAtB,CAAJ;AACH,OAJD,MAIO;AACH7G,QAAAA,CAAC,GAAG,CAAC6G,MAAM,CAACvM,IAAP,CAAYF,OAAZ,CAAoB,UAApB,EAAgC,EAAhC,CAAL;AACA6F,QAAAA,CAAC,GAAG,CAAC4G,MAAM,CAACrM,GAAP,CAAWJ,OAAX,CAAmB,UAAnB,EAA+B,EAA/B,CAAL;AACH;;AAED,aAAO;AAAE4F,QAAAA,CAAC,EAAEA,CAAL;AAAQC,QAAAA,CAAC,EAAEA;AAAX,OAAP;AACH,KAhmBe;AAimBhBa,IAAAA,eAAe,EAAE,YAAY;AACzB,UAAIiG,WAAW,GAAG,KAAK/I,OAAL,CAAagJ,qBAA/B;AAAA,UACIC,WAAW,GAAG,OAAO,KAAKjJ,OAAL,CAAa4C,UAApB,IAAkC,QADpD;AAAA,UAEIC,UAAU,GAAG,EAFjB;AAAA,UAGIqG,SAHJ;AAKA,UAAIrC,IAAI,GAAG,IAAX;AAEA,WAAKhE,UAAL,GAAkB,EAAlB;;AAEA,UAAK,KAAK7C,OAAL,CAAa4C,UAAlB,EAA+B;AAC3B;AACA,YAAK,KAAK5C,OAAL,CAAac,OAAlB,EAA4B;AACxBoI,UAAAA,SAAS,GAAG;AACRpQ,YAAAA,EAAE,EAAEqQ,sBAAsB,CAAC,GAAD,EAAMJ,WAAN,EAAmB,KAAK/I,OAAL,CAAa4C,UAAhC,CADlB;AAERmG,YAAAA,WAAW,EAAEA,WAFL;AAGRK,YAAAA,iBAAiB,EAAE,IAHX;AAIRH,YAAAA,WAAW,EAAEA,WAJL;AAKRI,YAAAA,MAAM,EAAE,KAAKrJ,OAAL,CAAaM,gBALb;AAMRgJ,YAAAA,MAAM,EAAE,KAAKtJ,OAAL,CAAa8B,gBANb;AAORyH,YAAAA,IAAI,EAAE,KAAKvJ,OAAL,CAAawJ,cAPX;AAQRC,YAAAA,OAAO,EAAE;AARD,WAAZ;AAWA,eAAKxJ,OAAL,CAAayJ,WAAb,CAAyBR,SAAS,CAACpQ,EAAnC;AACA+J,UAAAA,UAAU,CAAC5G,IAAX,CAAgBiN,SAAhB;AACH,SAhB0B,CAkB3B;;;AACA,YAAK,KAAKlJ,OAAL,CAAa0B,OAAlB,EAA4B;AACxBwH,UAAAA,SAAS,GAAG;AACRpQ,YAAAA,EAAE,EAAEqQ,sBAAsB,CAAC,GAAD,EAAMJ,WAAN,EAAmB,KAAK/I,OAAL,CAAa4C,UAAhC,CADlB;AAERmG,YAAAA,WAAW,EAAEA,WAFL;AAGRK,YAAAA,iBAAiB,EAAE,IAHX;AAIRH,YAAAA,WAAW,EAAEA,WAJL;AAKRI,YAAAA,MAAM,EAAE,KAAKrJ,OAAL,CAAaM,gBALb;AAMRgJ,YAAAA,MAAM,EAAE,KAAKtJ,OAAL,CAAa8B,gBANb;AAORyH,YAAAA,IAAI,EAAE,KAAKvJ,OAAL,CAAawJ,cAPX;AAQRG,YAAAA,OAAO,EAAE;AARD,WAAZ;AAWA,eAAK1J,OAAL,CAAayJ,WAAb,CAAyBR,SAAS,CAACpQ,EAAnC;AACA+J,UAAAA,UAAU,CAAC5G,IAAX,CAAgBiN,SAAhB;AACH;AACJ;;AAED,UAAK,KAAKlJ,OAAL,CAAa6C,UAAlB,EAA+B;AAC3B;AACAA,QAAAA,UAAU,GAAGA,UAAU,CAAC+G,MAAX,CAAkB,KAAK5J,OAAL,CAAa6C,UAA/B,CAAb;AACH;;AAED,WAAM,IAAI7K,CAAC,GAAG6K,UAAU,CAAC3K,MAAzB,EAAiCF,CAAC,EAAlC,GAAwC;AACpC,aAAK6K,UAAL,CAAgB5G,IAAhB,CAAsB,IAAI4N,SAAJ,CAAc,IAAd,EAAoBhH,UAAU,CAAC7K,CAAD,CAA9B,CAAtB;AACH,OArDwB,CAuDzB;;;AACA,eAAS8R,cAAT,CAAyB9Q,EAAzB,EAA6B;AACzB,YAAI6N,IAAI,CAAChE,UAAT,EAAqB;AACjB,eAAM,IAAI7K,CAAC,GAAG6O,IAAI,CAAChE,UAAL,CAAgB3K,MAA9B,EAAsCF,CAAC,EAAvC,GAA6C;AACzCgB,YAAAA,EAAE,CAAC8O,IAAH,CAAQjB,IAAI,CAAChE,UAAL,CAAgB7K,CAAhB,CAAR;AACH;AACJ;AACJ;;AAED,UAAK,KAAKgI,OAAL,CAAawJ,cAAlB,EAAmC;AAC/B,aAAKjC,EAAL,CAAQ,WAAR,EAAqB,YAAY;AAC7BuC,UAAAA,cAAc,CAAC,YAAY;AACvB,iBAAKP,IAAL;AACH,WAFa,CAAd;AAGH,SAJD;AAMA,aAAKhC,EAAL,CAAQ,cAAR,EAAwB,YAAY;AAChCuC,UAAAA,cAAc,CAAC,YAAY;AACvB,iBAAKP,IAAL;AACH,WAFa,CAAd;AAGH,SAJD;AAMA,aAAKhC,EAAL,CAAQ,aAAR,EAAuB,YAAY;AAC/BuC,UAAAA,cAAc,CAAC,YAAY;AACvB,iBAAKP,IAAL,CAAU,CAAV;AACH,WAFa,CAAd;AAGH,SAJD;AAMA,aAAKhC,EAAL,CAAQ,mBAAR,EAA6B,YAAY;AACrCuC,UAAAA,cAAc,CAAC,YAAY;AACvB,iBAAKP,IAAL,CAAU,CAAV,EAAa,IAAb;AACH,WAFa,CAAd;AAGH,SAJD;AAKH;;AAGD,WAAKhC,EAAL,CAAQ,SAAR,EAAmB,YAAY;AAC3BuC,QAAAA,cAAc,CAAC,YAAY;AACvB,eAAKxH,OAAL;AACH,SAFa,CAAd;AAGH,OAJD;AAMA,WAAKiF,EAAL,CAAQ,SAAR,EAAmB,YAAY;AAC3BuC,QAAAA,cAAc,CAAC,YAAY;AACvB,eAAKzG,OAAL;AACH,SAFa,CAAd;;AAIA,eAAO,KAAKR,UAAZ;AACH,OAND;AAOH,KAzsBe;AA2sBhBG,IAAAA,UAAU,EAAE,YAAY;AACpBxL,MAAAA,KAAK,CAACqB,QAAN,CAAe,KAAKoH,OAApB,EAA6B,OAA7B,EAAsC,IAAtC;AACAzI,MAAAA,KAAK,CAACqB,QAAN,CAAe,KAAKoH,OAApB,EAA6B,YAA7B,EAA2C,IAA3C;AACAzI,MAAAA,KAAK,CAACqB,QAAN,CAAe,KAAKoH,OAApB,EAA6B,gBAA7B,EAA+C,IAA/C;AAEA,WAAKsH,EAAL,CAAQ,SAAR,EAAmB,YAAY;AAC3BjE,QAAAA,YAAY,CAAC,KAAKyG,YAAN,CAAZ;AACA,aAAKA,YAAL,GAAoB,IAApB;AACAvS,QAAAA,KAAK,CAAC2B,WAAN,CAAkB,KAAK8G,OAAvB,EAAgC,OAAhC,EAAyC,IAAzC;AACAzI,QAAAA,KAAK,CAAC2B,WAAN,CAAkB,KAAK8G,OAAvB,EAAgC,YAAhC,EAA8C,IAA9C;AACAzI,QAAAA,KAAK,CAAC2B,WAAN,CAAkB,KAAK8G,OAAvB,EAAgC,gBAAhC,EAAkD,IAAlD;AACH,OAND;AAOH,KAvtBe;AAytBhB+J,IAAAA,MAAM,EAAE,UAAUvO,CAAV,EAAa;AACjB,UAAK,CAAC,KAAKsI,OAAX,EAAqB;AACjB;AACH,OAHgB,CAKjB;AACA;AACA;;;AACA,UAAIkG,IAAI,GAAGpT,MAAM,CAACkE,SAAP,CAAiBmP,SAAjB,CAA2BhP,KAA3B,CAAiC,gBAAjC,CAAX;;AACA,UAAG,CAAC+O,IAAJ,EAAS;AACLxO,QAAAA,CAAC,CAACyF,cAAF;AACH;;AAED,UAAIiJ,WAAJ;AAAA,UAAiBC,WAAjB;AAAA,UACIhF,IADJ;AAAA,UACUC,IADV;AAAA,UAEIwB,IAAI,GAAG,IAFX;;AAIA,UAAK,KAAKkD,YAAL,KAAsB3P,SAA3B,EAAuC;AACnCyM,QAAAA,IAAI,CAACrD,UAAL,CAAgB,aAAhB;AACH,OAnBgB,CAqBjB;;;AACAF,MAAAA,YAAY,CAAC,KAAKyG,YAAN,CAAZ;AACA,WAAKA,YAAL,GAAoBxS,UAAU,CAAC,YAAY;AACvC,YAAG,CAACsP,IAAI,CAAC7G,OAAL,CAAaiD,IAAjB,EAAuB;AACnB4D,UAAAA,IAAI,CAACrD,UAAL,CAAgB,WAAhB;AACH;;AACDqD,QAAAA,IAAI,CAACkD,YAAL,GAAoB3P,SAApB;AACH,OAL6B,EAK3B,GAL2B,CAA9B;;AAOA,UAAK,YAAYqB,CAAjB,EAAqB;AACjB,YAAIA,CAAC,CAAC4O,SAAF,KAAgB,CAApB,EAAuB;AACnBF,UAAAA,WAAW,GAAG,CAAC1O,CAAC,CAACwJ,MAAH,GAAY,KAAKjF,OAAL,CAAaO,eAAvC;AACA6J,UAAAA,WAAW,GAAG,CAAC3O,CAAC,CAACyJ,MAAH,GAAY,KAAKlF,OAAL,CAAaO,eAAvC;AACH,SAHD,MAGO;AACH4J,UAAAA,WAAW,GAAG,CAAC1O,CAAC,CAACwJ,MAAjB;AACAmF,UAAAA,WAAW,GAAG,CAAC3O,CAAC,CAACyJ,MAAjB;AACH;AACJ,OARD,MAQO,IAAK,iBAAiBzJ,CAAtB,EAA0B;AAC7B0O,QAAAA,WAAW,GAAG1O,CAAC,CAAC0O,WAAF,GAAgB,GAAhB,GAAsB,KAAKnK,OAAL,CAAaO,eAAjD;AACA6J,QAAAA,WAAW,GAAG3O,CAAC,CAAC2O,WAAF,GAAgB,GAAhB,GAAsB,KAAKpK,OAAL,CAAaO,eAAjD;AACH,OAHM,MAGA,IAAK,gBAAgB9E,CAArB,EAAyB;AAC5B0O,QAAAA,WAAW,GAAGC,WAAW,GAAG3O,CAAC,CAAC6O,UAAF,GAAe,GAAf,GAAqB,KAAKtK,OAAL,CAAaO,eAA9D;AACH,OAFM,MAEA,IAAK,YAAY9E,CAAjB,EAAqB;AACxB0O,QAAAA,WAAW,GAAGC,WAAW,GAAG,CAAC3O,CAAC,CAAC0D,MAAH,GAAY,CAAZ,GAAgB,KAAKa,OAAL,CAAaO,eAAzD;AACH,OAFM,MAEA;AACH;AACH;;AAED4J,MAAAA,WAAW,IAAI,KAAKnK,OAAL,CAAa+B,oBAA5B;AACAqI,MAAAA,WAAW,IAAI,KAAKpK,OAAL,CAAa+B,oBAA5B;;AAEA,UAAK,CAAC,KAAK2D,iBAAX,EAA+B;AAC3ByE,QAAAA,WAAW,GAAGC,WAAd;AACAA,QAAAA,WAAW,GAAG,CAAd;AACH;;AAED,UAAK,KAAKpK,OAAL,CAAaiD,IAAlB,EAAyB;AACrBmC,QAAAA,IAAI,GAAG,KAAKqB,WAAL,CAAiB7H,KAAxB;AACAyG,QAAAA,IAAI,GAAG,KAAKoB,WAAL,CAAiB5H,KAAxB;;AAEA,YAAKsL,WAAW,GAAG,CAAnB,EAAuB;AACnB/E,UAAAA,IAAI;AACP,SAFD,MAEO,IAAK+E,WAAW,GAAG,CAAnB,EAAuB;AAC1B/E,UAAAA,IAAI;AACP;;AAED,YAAKgF,WAAW,GAAG,CAAnB,EAAuB;AACnB/E,UAAAA,IAAI;AACP,SAFD,MAEO,IAAK+E,WAAW,GAAG,CAAnB,EAAuB;AAC1B/E,UAAAA,IAAI;AACP;;AAED,aAAKkF,QAAL,CAAcnF,IAAd,EAAoBC,IAApB;AAEA;AACH;;AAEDD,MAAAA,IAAI,GAAG,KAAKpD,CAAL,GAASjL,IAAI,CAACsD,KAAL,CAAW,KAAKoL,mBAAL,GAA2B0E,WAA3B,GAAyC,CAApD,CAAhB;AACA9E,MAAAA,IAAI,GAAG,KAAKpD,CAAL,GAASlL,IAAI,CAACsD,KAAL,CAAW,KAAKqL,iBAAL,GAAyB0E,WAAzB,GAAuC,CAAlD,CAAhB;AAEA,WAAKlI,UAAL,GAAkBiI,WAAW,GAAG,CAAd,GAAkB,CAAC,CAAnB,GAAuBA,WAAW,GAAG,CAAd,GAAkB,CAAlB,GAAsB,CAA/D;AACA,WAAKhI,UAAL,GAAkBiI,WAAW,GAAG,CAAd,GAAkB,CAAC,CAAnB,GAAuBA,WAAW,GAAG,CAAd,GAAkB,CAAlB,GAAsB,CAA/D;;AAEA,UAAKhF,IAAI,GAAG,CAAZ,EAAgB;AACZA,QAAAA,IAAI,GAAG,CAAP;AACH,OAFD,MAEO,IAAKA,IAAI,GAAG,KAAKO,UAAjB,EAA8B;AACjCP,QAAAA,IAAI,GAAG,KAAKO,UAAZ;AACH;;AAED,UAAKN,IAAI,GAAG,CAAZ,EAAgB;AACZA,QAAAA,IAAI,GAAG,CAAP;AACH,OAFD,MAEO,IAAKA,IAAI,GAAG,KAAKO,UAAjB,EAA8B;AACjCP,QAAAA,IAAI,GAAG,KAAKO,UAAZ;AACH;;AAED,WAAKrD,QAAL,CAAc6C,IAAd,EAAoBC,IAApB,EAA0B,CAA1B,EAhGiB,CAkGzB;AACK,KA5zBe;AA8zBhBnC,IAAAA,SAAS,EAAE,YAAY;AACnB,WAAKuD,WAAL,GAAmB,EAAnB;;AAEA,UAAK,OAAO,KAAKzG,OAAL,CAAaiD,IAApB,IAA4B,QAAjC,EAA4C;AACxC,aAAKjD,OAAL,CAAaiD,IAAb,GAAoB,KAAK9C,QAAL,CAAcqK,gBAAd,CAA+B,KAAKxK,OAAL,CAAaiD,IAA5C,CAApB;AACH;;AAED,WAAKsE,EAAL,CAAQ,SAAR,EAAmB,YAAY;AAC3B,YAAIvP,CAAC,GAAG,CAAR;AAAA,YAAWC,CAAX;AAAA,YACIwS,CAAC,GAAG,CADR;AAAA,YACWC,CADX;AAAA,YAEIC,EAFJ;AAAA,YAEQC,EAFR;AAAA,YAGI5I,CAAC,GAAG,CAHR;AAAA,YAGWC,CAHX;AAAA,YAII4I,KAAK,GAAG,KAAK7K,OAAL,CAAa8K,SAAb,IAA0B,KAAKzE,YAJ3C;AAAA,YAKI0E,KAAK,GAAG,KAAK/K,OAAL,CAAagL,SAAb,IAA0B,KAAK1E,aAL3C;AAAA,YAMIxN,EANJ;AAQA,aAAKmS,KAAL,GAAa,EAAb;;AAEA,YAAK,CAAC,KAAK5E,YAAN,IAAsB,CAAC,KAAKC,aAA5B,IAA6C,CAAC,KAAKa,aAAnD,IAAoE,CAAC,KAAKE,cAA/E,EAAgG;AAC5F;AACH;;AAED,YAAK,KAAKrH,OAAL,CAAaiD,IAAb,KAAsB,IAA3B,EAAkC;AAC9B0H,UAAAA,EAAE,GAAG5T,IAAI,CAACsD,KAAL,CAAYwQ,KAAK,GAAG,CAApB,CAAL;AACAD,UAAAA,EAAE,GAAG7T,IAAI,CAACsD,KAAL,CAAY0Q,KAAK,GAAG,CAApB,CAAL;;AAEA,iBAAQ/I,CAAC,GAAG,CAAC,KAAKmF,aAAlB,EAAkC;AAC9B,iBAAK8D,KAAL,CAAWjT,CAAX,IAAgB,EAAhB;AACAC,YAAAA,CAAC,GAAG,CAAJ;AACAgK,YAAAA,CAAC,GAAG,CAAJ;;AAEA,mBAAQA,CAAC,GAAG,CAAC,KAAKoF,cAAlB,EAAmC;AAC/B,mBAAK4D,KAAL,CAAWjT,CAAX,EAAcC,CAAd,IAAmB;AACf+J,gBAAAA,CAAC,EAAEjL,IAAI,CAACwP,GAAL,CAASvE,CAAT,EAAY,KAAK2D,UAAjB,CADY;AAEf1D,gBAAAA,CAAC,EAAElL,IAAI,CAACwP,GAAL,CAAStE,CAAT,EAAY,KAAK2D,UAAjB,CAFY;AAGfsF,gBAAAA,KAAK,EAAEL,KAHQ;AAIfM,gBAAAA,MAAM,EAAEJ,KAJO;AAKfJ,gBAAAA,EAAE,EAAE3I,CAAC,GAAG2I,EALO;AAMfC,gBAAAA,EAAE,EAAE3I,CAAC,GAAG2I;AANO,eAAnB;AASA3I,cAAAA,CAAC,IAAI8I,KAAL;AACA9S,cAAAA,CAAC;AACJ;;AAED+J,YAAAA,CAAC,IAAI6I,KAAL;AACA7S,YAAAA,CAAC;AACJ;AACJ,SA1BD,MA0BO;AACHc,UAAAA,EAAE,GAAG,KAAKkH,OAAL,CAAaiD,IAAlB;AACAhL,UAAAA,CAAC,GAAGa,EAAE,CAACZ,MAAP;AACAwS,UAAAA,CAAC,GAAG,CAAC,CAAL;;AAEA,iBAAQ1S,CAAC,GAAGC,CAAZ,EAAeD,CAAC,EAAhB,EAAqB;AACjB,gBAAKA,CAAC,KAAK,CAAN,IAAWc,EAAE,CAACd,CAAD,CAAF,CAAMuE,UAAN,IAAoBzD,EAAE,CAACd,CAAC,GAAC,CAAH,CAAF,CAAQuE,UAA5C,EAAyD;AACrDkO,cAAAA,CAAC,GAAG,CAAJ;AACAC,cAAAA,CAAC;AACJ;;AAED,gBAAK,CAAC,KAAKO,KAAL,CAAWR,CAAX,CAAN,EAAsB;AAClB,mBAAKQ,KAAL,CAAWR,CAAX,IAAgB,EAAhB;AACH;;AAEDzI,YAAAA,CAAC,GAAGjL,IAAI,CAACwP,GAAL,CAAS,CAACzN,EAAE,CAACd,CAAD,CAAF,CAAMuE,UAAhB,EAA4B,KAAKoJ,UAAjC,CAAJ;AACA1D,YAAAA,CAAC,GAAGlL,IAAI,CAACwP,GAAL,CAAS,CAACzN,EAAE,CAACd,CAAD,CAAF,CAAMyE,SAAhB,EAA2B,KAAKmJ,UAAhC,CAAJ;AACA+E,YAAAA,EAAE,GAAG3I,CAAC,GAAGjL,IAAI,CAACsD,KAAL,CAAWvB,EAAE,CAACd,CAAD,CAAF,CAAMoP,WAAN,GAAoB,CAA/B,CAAT;AACAwD,YAAAA,EAAE,GAAG3I,CAAC,GAAGlL,IAAI,CAACsD,KAAL,CAAWvB,EAAE,CAACd,CAAD,CAAF,CAAMgP,YAAN,GAAqB,CAAhC,CAAT;AAEA,iBAAKiE,KAAL,CAAWR,CAAX,EAAcC,CAAd,IAAmB;AACf1I,cAAAA,CAAC,EAAEA,CADY;AAEfC,cAAAA,CAAC,EAAEA,CAFY;AAGfiJ,cAAAA,KAAK,EAAEpS,EAAE,CAACd,CAAD,CAAF,CAAMoP,WAHE;AAIf+D,cAAAA,MAAM,EAAErS,EAAE,CAACd,CAAD,CAAF,CAAMgP,YAJC;AAKf2D,cAAAA,EAAE,EAAEA,EALW;AAMfC,cAAAA,EAAE,EAAEA;AANW,aAAnB;;AASA,gBAAK5I,CAAC,GAAG,KAAK2D,UAAd,EAA2B;AACvB8E,cAAAA,CAAC;AACJ;AACJ;AACJ;;AAED,aAAKF,QAAL,CAAc,KAAK9D,WAAL,CAAiB7H,KAAjB,IAA0B,CAAxC,EAA2C,KAAK6H,WAAL,CAAiB5H,KAAjB,IAA0B,CAArE,EAAwE,CAAxE,EA5E2B,CA8E3B;;AACA,YAAK,KAAKmB,OAAL,CAAaQ,aAAb,GAA6B,CAA7B,KAAmC,CAAxC,EAA4C;AACxC,eAAK4K,cAAL,GAAsB,KAAKpL,OAAL,CAAaQ,aAAnC;AACA,eAAK6K,cAAL,GAAsB,KAAKrL,OAAL,CAAaQ,aAAnC;AACH,SAHD,MAGO;AACH,eAAK4K,cAAL,GAAsBrU,IAAI,CAACsD,KAAL,CAAW,KAAK4Q,KAAL,CAAW,KAAKxE,WAAL,CAAiB7H,KAA5B,EAAmC,KAAK6H,WAAL,CAAiB5H,KAApD,EAA2DqM,KAA3D,GAAmE,KAAKlL,OAAL,CAAaQ,aAA3F,CAAtB;AACA,eAAK6K,cAAL,GAAsBtU,IAAI,CAACsD,KAAL,CAAW,KAAK4Q,KAAL,CAAW,KAAKxE,WAAL,CAAiB7H,KAA5B,EAAmC,KAAK6H,WAAL,CAAiB5H,KAApD,EAA2DsM,MAA3D,GAAoE,KAAKnL,OAAL,CAAaQ,aAA5F,CAAtB;AACH;AACJ,OAtFD;AAwFA,WAAK+G,EAAL,CAAQ,OAAR,EAAiB,YAAY;AACzB,YAAI5N,IAAI,GAAG,KAAKqG,OAAL,CAAa0G,SAAb,IAA0B3P,IAAI,CAACwP,GAAL,CAC7BxP,IAAI,CAACwP,GAAL,CACIxP,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAAS,KAAK+H,CAAL,GAAS,KAAKpB,MAAvB,CAAT,EAAyC,IAAzC,CADJ,EAEI7J,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAAS,KAAKgI,CAAL,GAAS,KAAKpB,MAAvB,CAAT,EAAyC,IAAzC,CAFJ,CAD6B,EAI1B,GAJ0B,CAArC;AAMA,aAAK0J,QAAL,CACI,KAAK9D,WAAL,CAAiB7H,KAAjB,GAAyB,KAAKsD,UADlC,EAEI,KAAKuE,WAAL,CAAiB5H,KAAjB,GAAyB,KAAKsD,UAFlC,EAGIxI,IAHJ;AAKH,OAZD;AAaH,KA16Be;AA46BhB6M,IAAAA,YAAY,EAAE,UAAUxE,CAAV,EAAaC,CAAb,EAAgB;AAC1B,UAAK,CAAC,KAAKgJ,KAAL,CAAW/S,MAAjB,EAA0B;AACtB,eAAO;AAAE8J,UAAAA,CAAC,EAAE,CAAL;AAAQC,UAAAA,CAAC,EAAE,CAAX;AAAcrD,UAAAA,KAAK,EAAE,CAArB;AAAwBC,UAAAA,KAAK,EAAE;AAA/B,SAAP;AACH;;AAED,UAAI7G,CAAC,GAAG,CAAR;AAAA,UACIC,CAAC,GAAG,KAAKgT,KAAL,CAAW/S,MADnB;AAAA,UAEIuS,CAAC,GAAG,CAFR,CAL0B,CAS1B;;AACA,UAAK1T,IAAI,CAACkD,GAAL,CAAS+H,CAAC,GAAG,KAAK4C,SAAlB,IAA+B,KAAKwG,cAApC,IACDrU,IAAI,CAACkD,GAAL,CAASgI,CAAC,GAAG,KAAK4C,SAAlB,IAA+B,KAAKwG,cADxC,EACyD;AACrD,eAAO,KAAK5E,WAAZ;AACH;;AAED,UAAKzE,CAAC,GAAG,CAAT,EAAa;AACTA,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFD,MAEO,IAAKA,CAAC,GAAG,KAAK2D,UAAd,EAA2B;AAC9B3D,QAAAA,CAAC,GAAG,KAAK2D,UAAT;AACH;;AAED,UAAK1D,CAAC,GAAG,CAAT,EAAa;AACTA,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFD,MAEO,IAAKA,CAAC,GAAG,KAAK2D,UAAd,EAA2B;AAC9B3D,QAAAA,CAAC,GAAG,KAAK2D,UAAT;AACH;;AAED,aAAQ5N,CAAC,GAAGC,CAAZ,EAAeD,CAAC,EAAhB,EAAqB;AACjB,YAAKgK,CAAC,IAAI,KAAKiJ,KAAL,CAAWjT,CAAX,EAAc,CAAd,EAAiB2S,EAA3B,EAAgC;AAC5B3I,UAAAA,CAAC,GAAG,KAAKiJ,KAAL,CAAWjT,CAAX,EAAc,CAAd,EAAiBgK,CAArB;AACA;AACH;AACJ;;AAED/J,MAAAA,CAAC,GAAG,KAAKgT,KAAL,CAAWjT,CAAX,EAAcE,MAAlB;;AAEA,aAAQuS,CAAC,GAAGxS,CAAZ,EAAewS,CAAC,EAAhB,EAAqB;AACjB,YAAKxI,CAAC,IAAI,KAAKgJ,KAAL,CAAW,CAAX,EAAcR,CAAd,EAAiBG,EAA3B,EAAgC;AAC5B3I,UAAAA,CAAC,GAAG,KAAKgJ,KAAL,CAAW,CAAX,EAAcR,CAAd,EAAiBxI,CAArB;AACA;AACH;AACJ;;AAED,UAAKjK,CAAC,IAAI,KAAKyO,WAAL,CAAiB7H,KAA3B,EAAmC;AAC/B5G,QAAAA,CAAC,IAAI,KAAKkK,UAAV;;AAEA,YAAKlK,CAAC,GAAG,CAAT,EAAa;AACTA,UAAAA,CAAC,GAAG,CAAJ;AACH,SAFD,MAEO,IAAKA,CAAC,IAAI,KAAKiT,KAAL,CAAW/S,MAArB,EAA8B;AACjCF,UAAAA,CAAC,GAAG,KAAKiT,KAAL,CAAW/S,MAAX,GAAoB,CAAxB;AACH;;AAED8J,QAAAA,CAAC,GAAG,KAAKiJ,KAAL,CAAWjT,CAAX,EAAc,CAAd,EAAiBgK,CAArB;AACH;;AAED,UAAKyI,CAAC,IAAI,KAAKhE,WAAL,CAAiB5H,KAA3B,EAAmC;AAC/B4L,QAAAA,CAAC,IAAI,KAAKtI,UAAV;;AAEA,YAAKsI,CAAC,GAAG,CAAT,EAAa;AACTA,UAAAA,CAAC,GAAG,CAAJ;AACH,SAFD,MAEO,IAAKA,CAAC,IAAI,KAAKQ,KAAL,CAAW,CAAX,EAAc/S,MAAxB,EAAiC;AACpCuS,UAAAA,CAAC,GAAG,KAAKQ,KAAL,CAAW,CAAX,EAAc/S,MAAd,GAAuB,CAA3B;AACH;;AAED+J,QAAAA,CAAC,GAAG,KAAKgJ,KAAL,CAAW,CAAX,EAAcR,CAAd,EAAiBxI,CAArB;AACH;;AAED,aAAO;AACHD,QAAAA,CAAC,EAAEA,CADA;AAEHC,QAAAA,CAAC,EAAEA,CAFA;AAGHrD,QAAAA,KAAK,EAAE5G,CAHJ;AAIH6G,QAAAA,KAAK,EAAE4L;AAJJ,OAAP;AAMH,KAr/Be;AAu/BhBF,IAAAA,QAAQ,EAAE,UAAUvI,CAAV,EAAaC,CAAb,EAAgBtI,IAAhB,EAAsBwM,MAAtB,EAA8B;AACpCA,MAAAA,MAAM,GAAGA,MAAM,IAAI,KAAKnG,OAAL,CAAaiB,YAAhC;;AAEA,UAAKe,CAAC,IAAI,KAAKiJ,KAAL,CAAW/S,MAArB,EAA8B;AAC1B8J,QAAAA,CAAC,GAAG,KAAKiJ,KAAL,CAAW/S,MAAX,GAAoB,CAAxB;AACH,OAFD,MAEO,IAAK8J,CAAC,GAAG,CAAT,EAAa;AAChBA,QAAAA,CAAC,GAAG,CAAJ;AACH;;AAED,UAAKC,CAAC,IAAI,KAAKgJ,KAAL,CAAWjJ,CAAX,EAAc9J,MAAxB,EAAiC;AAC7B+J,QAAAA,CAAC,GAAG,KAAKgJ,KAAL,CAAWjJ,CAAX,EAAc9J,MAAd,GAAuB,CAA3B;AACH,OAFD,MAEO,IAAK+J,CAAC,GAAG,CAAT,EAAa;AAChBA,QAAAA,CAAC,GAAG,CAAJ;AACH;;AAED,UAAIqJ,IAAI,GAAG,KAAKL,KAAL,CAAWjJ,CAAX,EAAcC,CAAd,EAAiBD,CAA5B;AAAA,UACIuJ,IAAI,GAAG,KAAKN,KAAL,CAAWjJ,CAAX,EAAcC,CAAd,EAAiBA,CAD5B;AAGAtI,MAAAA,IAAI,GAAGA,IAAI,KAAKS,SAAT,GAAqB,KAAK4F,OAAL,CAAa0G,SAAb,IAA0B3P,IAAI,CAACwP,GAAL,CAClDxP,IAAI,CAACwP,GAAL,CACIxP,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAASqR,IAAI,GAAG,KAAKtJ,CAArB,CAAT,EAAkC,IAAlC,CADJ,EAEIjL,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAASsR,IAAI,GAAG,KAAKtJ,CAArB,CAAT,EAAkC,IAAlC,CAFJ,CADkD,EAI/C,GAJ+C,CAA/C,GAIOtI,IAJd;AAMA,WAAK8M,WAAL,GAAmB;AACfzE,QAAAA,CAAC,EAAEsJ,IADY;AAEfrJ,QAAAA,CAAC,EAAEsJ,IAFY;AAGf3M,QAAAA,KAAK,EAAEoD,CAHQ;AAIfnD,QAAAA,KAAK,EAAEoD;AAJQ,OAAnB;AAOA,WAAKM,QAAL,CAAc+I,IAAd,EAAoBC,IAApB,EAA0B5R,IAA1B,EAAgCwM,MAAhC;AACH,KAvhCe;AAyhChBqF,IAAAA,IAAI,EAAE,UAAU7R,IAAV,EAAgBwM,MAAhB,EAAwB;AAC1B,UAAInE,CAAC,GAAG,KAAKyE,WAAL,CAAiB7H,KAAzB;AAAA,UACIqD,CAAC,GAAG,KAAKwE,WAAL,CAAiB5H,KADzB;AAGAmD,MAAAA,CAAC;;AAED,UAAKA,CAAC,IAAI,KAAKiJ,KAAL,CAAW/S,MAAhB,IAA0B,KAAKwN,iBAApC,EAAwD;AACpD1D,QAAAA,CAAC,GAAG,CAAJ;AACAC,QAAAA,CAAC;AACJ;;AAED,WAAKsI,QAAL,CAAcvI,CAAd,EAAiBC,CAAjB,EAAoBtI,IAApB,EAA0BwM,MAA1B;AACH,KAriCe;AAuiChBsF,IAAAA,IAAI,EAAE,UAAU9R,IAAV,EAAgBwM,MAAhB,EAAwB;AAC1B,UAAInE,CAAC,GAAG,KAAKyE,WAAL,CAAiB7H,KAAzB;AAAA,UACIqD,CAAC,GAAG,KAAKwE,WAAL,CAAiB5H,KADzB;AAGAmD,MAAAA,CAAC;;AAED,UAAKA,CAAC,GAAG,CAAJ,IAAS,KAAK0D,iBAAnB,EAAuC;AACnC1D,QAAAA,CAAC,GAAG,CAAJ;AACAC,QAAAA,CAAC;AACJ;;AAED,WAAKsI,QAAL,CAAcvI,CAAd,EAAiBC,CAAjB,EAAoBtI,IAApB,EAA0BwM,MAA1B;AACH,KAnjCe;AAqjChB/C,IAAAA,SAAS,EAAE,UAAU3H,CAAV,EAAa;AACpB;AACA,UAAIiQ,IAAI,GAAG;AACPC,QAAAA,MAAM,EAAE,EADD;AAEPC,QAAAA,QAAQ,EAAE,EAFH;AAGPC,QAAAA,GAAG,EAAE,EAHE;AAIPC,QAAAA,IAAI,EAAE,EAJC;AAKPxP,QAAAA,IAAI,EAAE,EALC;AAMPyP,QAAAA,EAAE,EAAE,EANG;AAOPC,QAAAA,KAAK,EAAE,EAPA;AAQPC,QAAAA,IAAI,EAAE;AARC,OAAX;AAUA,UAAIjU,CAAJ,CAZoB,CAcpB;;AACA,UAAK,OAAO,KAAKgI,OAAL,CAAamD,WAApB,IAAmC,QAAxC,EAAmD;AAC/C,aAAMnL,CAAN,IAAW,KAAKgI,OAAL,CAAamD,WAAxB,EAAsC;AAClC,cAAK,OAAO,KAAKnD,OAAL,CAAamD,WAAb,CAAyBnL,CAAzB,CAAP,IAAsC,QAA3C,EAAsD;AAClD,iBAAKgI,OAAL,CAAamD,WAAb,CAAyBnL,CAAzB,IAA8B,KAAKgI,OAAL,CAAamD,WAAb,CAAyBnL,CAAzB,EAA4BM,WAA5B,GAA0C4T,UAA1C,CAAqD,CAArD,CAA9B;AACH;AACJ;AACJ,OAND,MAMO;AACH,aAAKlM,OAAL,CAAamD,WAAb,GAA2B,EAA3B;AACH;;AAED,WAAMnL,CAAN,IAAW0T,IAAX,EAAkB;AACd,aAAK1L,OAAL,CAAamD,WAAb,CAAyBnL,CAAzB,IAA8B,KAAKgI,OAAL,CAAamD,WAAb,CAAyBnL,CAAzB,KAA+B0T,IAAI,CAAC1T,CAAD,CAAjE;AACH;;AAEDR,MAAAA,KAAK,CAACqB,QAAN,CAAehC,MAAf,EAAuB,SAAvB,EAAkC,IAAlC;AAEA,WAAK0Q,EAAL,CAAQ,SAAR,EAAmB,YAAY;AAC3B/P,QAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0B,SAA1B,EAAqC,IAArC;AACH,OAFD;AAGH,KAvlCe;AAylChBsV,IAAAA,IAAI,EAAE,UAAU1Q,CAAV,EAAa;AACf,UAAK,CAAC,KAAKsI,OAAX,EAAqB;AACjB;AACH;;AAED,UAAId,IAAI,GAAG,KAAKjD,OAAL,CAAaiD,IAAxB;AAAA,UAAgC;AAC5BmC,MAAAA,IAAI,GAAGnC,IAAI,GAAG,KAAKwD,WAAL,CAAiB7H,KAApB,GAA4B,KAAKoD,CADhD;AAAA,UAEIqD,IAAI,GAAGpC,IAAI,GAAG,KAAKwD,WAAL,CAAiB5H,KAApB,GAA4B,KAAKoD,CAFhD;AAAA,UAGIxJ,GAAG,GAAGjB,KAAK,CAACe,OAAN,EAHV;AAAA,UAII6T,QAAQ,GAAG,KAAKC,OAAL,IAAgB,CAJ/B;AAAA,UAKIC,YAAY,GAAG,KALnB;AAAA,UAMInI,GANJ;;AAQA,UAAK,KAAKnE,OAAL,CAAaoB,aAAb,IAA8B,KAAKsC,cAAxC,EAAyD;AACrDS,QAAAA,GAAG,GAAG,KAAKM,mBAAL,EAAN;;AAEA,aAAKC,UAAL,CAAgB3N,IAAI,CAACsD,KAAL,CAAW8J,GAAG,CAACnC,CAAf,CAAhB,EAAmCjL,IAAI,CAACsD,KAAL,CAAW8J,GAAG,CAAClC,CAAf,CAAnC;;AACA,aAAKyB,cAAL,GAAsB,KAAtB;AACH;;AAED,WAAK6I,eAAL,GAAuB9T,GAAG,GAAG2T,QAAN,GAAiB,GAAjB,GAAuBrV,IAAI,CAAC4P,GAAL,CAAS,KAAK4F,eAAL,GAAuBD,YAAhC,EAA8C,EAA9C,CAAvB,GAA2E,CAAlG;;AAEA,cAAS7Q,CAAC,CAAC+Q,OAAX;AACI,aAAK,KAAKxM,OAAL,CAAamD,WAAb,CAAyBwI,MAA9B;AACI,cAAK,KAAKlG,mBAAL,IAA4B,CAAC,KAAKC,iBAAvC,EAA2D;AACvDN,YAAAA,IAAI,IAAInC,IAAI,GAAG,CAAH,GAAO,KAAKoD,YAAxB;AACH,WAFD,MAEO;AACHhB,YAAAA,IAAI,IAAIpC,IAAI,GAAG,CAAH,GAAO,KAAKqD,aAAxB;AACH;;AACD;;AACJ,aAAK,KAAKtG,OAAL,CAAamD,WAAb,CAAyByI,QAA9B;AACI,cAAK,KAAKnG,mBAAL,IAA4B,CAAC,KAAKC,iBAAvC,EAA2D;AACvDN,YAAAA,IAAI,IAAInC,IAAI,GAAG,CAAH,GAAO,KAAKoD,YAAxB;AACH,WAFD,MAEO;AACHhB,YAAAA,IAAI,IAAIpC,IAAI,GAAG,CAAH,GAAO,KAAKqD,aAAxB;AACH;;AACD;;AACJ,aAAK,KAAKtG,OAAL,CAAamD,WAAb,CAAyB0I,GAA9B;AACIzG,UAAAA,IAAI,GAAGnC,IAAI,GAAG,KAAKgI,KAAL,CAAW/S,MAAX,GAAkB,CAArB,GAAyB,KAAKyN,UAAzC;AACAN,UAAAA,IAAI,GAAGpC,IAAI,GAAG,KAAKgI,KAAL,CAAW,CAAX,EAAc/S,MAAd,GAAqB,CAAxB,GAA4B,KAAK0N,UAA5C;AACA;;AACJ,aAAK,KAAK5F,OAAL,CAAamD,WAAb,CAAyB2I,IAA9B;AACI1G,UAAAA,IAAI,GAAG,CAAP;AACAC,UAAAA,IAAI,GAAG,CAAP;AACA;;AACJ,aAAK,KAAKrF,OAAL,CAAamD,WAAb,CAAyB7G,IAA9B;AACI8I,UAAAA,IAAI,IAAInC,IAAI,GAAG,CAAC,CAAJ,GAAQ,IAAI,KAAKsJ,eAAT,IAA0B,CAA9C;AACA;;AACJ,aAAK,KAAKvM,OAAL,CAAamD,WAAb,CAAyB4I,EAA9B;AACI1G,UAAAA,IAAI,IAAIpC,IAAI,GAAG,CAAH,GAAO,IAAI,KAAKsJ,eAAT,IAA0B,CAA7C;AACA;;AACJ,aAAK,KAAKvM,OAAL,CAAamD,WAAb,CAAyB6I,KAA9B;AACI5G,UAAAA,IAAI,IAAInC,IAAI,GAAG,CAAC,CAAJ,GAAQ,IAAI,KAAKsJ,eAAT,IAA0B,CAA9C;AACA;;AACJ,aAAK,KAAKvM,OAAL,CAAamD,WAAb,CAAyB8I,IAA9B;AACI5G,UAAAA,IAAI,IAAIpC,IAAI,GAAG,CAAH,GAAO,IAAI,KAAKsJ,eAAT,IAA0B,CAA7C;AACA;;AACJ;AACI;AApCR;;AAuCA,UAAKtJ,IAAL,EAAY;AACR,aAAKsH,QAAL,CAAcnF,IAAd,EAAoBC,IAApB;AACA;AACH;;AAED,UAAKD,IAAI,GAAG,CAAZ,EAAgB;AACZA,QAAAA,IAAI,GAAG,CAAP;AACA,aAAKmH,eAAL,GAAuB,CAAvB;AACH,OAHD,MAGO,IAAKnH,IAAI,GAAG,KAAKO,UAAjB,EAA8B;AACjCP,QAAAA,IAAI,GAAG,KAAKO,UAAZ;AACA,aAAK4G,eAAL,GAAuB,CAAvB;AACH;;AAED,UAAKlH,IAAI,GAAG,CAAZ,EAAgB;AACZA,QAAAA,IAAI,GAAG,CAAP;AACA,aAAKkH,eAAL,GAAuB,CAAvB;AACH,OAHD,MAGO,IAAKlH,IAAI,GAAG,KAAKO,UAAjB,EAA8B;AACjCP,QAAAA,IAAI,GAAG,KAAKO,UAAZ;AACA,aAAK2G,eAAL,GAAuB,CAAvB;AACH;;AAED,WAAKhK,QAAL,CAAc6C,IAAd,EAAoBC,IAApB,EAA0B,CAA1B;AAEA,WAAKgH,OAAL,GAAe5T,GAAf;AACH,KA9qCe;AAgrChB0P,IAAAA,QAAQ,EAAE,UAAUsE,KAAV,EAAiBC,KAAjB,EAAwBvS,QAAxB,EAAkCwS,QAAlC,EAA4C;AAClD,UAAI9F,IAAI,GAAG,IAAX;AAAA,UACIjG,MAAM,GAAG,KAAKoB,CADlB;AAAA,UAEInB,MAAM,GAAG,KAAKoB,CAFlB;AAAA,UAGIuC,SAAS,GAAGhN,KAAK,CAACe,OAAN,EAHhB;AAAA,UAIIqU,QAAQ,GAAGpI,SAAS,GAAGrK,QAJ3B;;AAMA,eAAS0S,IAAT,GAAiB;AACb,YAAIpU,GAAG,GAAGjB,KAAK,CAACe,OAAN,EAAV;AAAA,YACI6M,IADJ;AAAA,YACUC,IADV;AAAA,YAEIc,MAFJ;;AAIA,YAAK1N,GAAG,IAAImU,QAAZ,EAAuB;AACnB/F,UAAAA,IAAI,CAAClC,WAAL,GAAmB,KAAnB;;AACAkC,UAAAA,IAAI,CAACnC,UAAL,CAAgB+H,KAAhB,EAAuBC,KAAvB;;AAEA,cAAK,CAAC7F,IAAI,CAACjD,aAAL,CAAmBiD,IAAI,CAAC7G,OAAL,CAAagB,UAAhC,CAAN,EAAoD;AAChD6F,YAAAA,IAAI,CAACrD,UAAL,CAAgB,WAAhB;AACH;;AAED;AACH;;AAED/K,QAAAA,GAAG,GAAG,CAAEA,GAAG,GAAG+L,SAAR,IAAsBrK,QAA5B;AACAgM,QAAAA,MAAM,GAAGwG,QAAQ,CAAClU,GAAD,CAAjB;AACA2M,QAAAA,IAAI,GAAG,CAAEqH,KAAK,GAAG7L,MAAV,IAAqBuF,MAArB,GAA8BvF,MAArC;AACAyE,QAAAA,IAAI,GAAG,CAAEqH,KAAK,GAAG7L,MAAV,IAAqBsF,MAArB,GAA8BtF,MAArC;;AACAgG,QAAAA,IAAI,CAACnC,UAAL,CAAgBU,IAAhB,EAAsBC,IAAtB;;AAEA,YAAKwB,IAAI,CAAClC,WAAV,EAAwB;AACpB3N,UAAAA,GAAG,CAAC6V,IAAD,CAAH;AACH;AACJ;;AAED,WAAKlI,WAAL,GAAmB,IAAnB;AACAkI,MAAAA,IAAI;AACP,KAptCe;AAqtChBC,IAAAA,WAAW,EAAE,UAAUrR,CAAV,EAAa;AACtB,cAASA,CAAC,CAAC1C,IAAX;AACI,aAAK,YAAL;AACA,aAAK,aAAL;AACA,aAAK,eAAL;AACA,aAAK,WAAL;AACI,eAAK8K,MAAL,CAAYpI,CAAZ;;AACA;;AACJ,aAAK,WAAL;AACA,aAAK,aAAL;AACA,aAAK,eAAL;AACA,aAAK,WAAL;AACI,eAAKuJ,KAAL,CAAWvJ,CAAX;;AACA;;AACJ,aAAK,UAAL;AACA,aAAK,WAAL;AACA,aAAK,aAAL;AACA,aAAK,SAAL;AACA,aAAK,aAAL;AACA,aAAK,eAAL;AACA,aAAK,iBAAL;AACA,aAAK,aAAL;AACI,eAAKoK,IAAL,CAAUpK,CAAV;;AACA;;AACJ,aAAK,mBAAL;AACA,aAAK,QAAL;AACI,eAAKmL,OAAL;;AACA;;AACJ,aAAK,eAAL;AACA,aAAK,qBAAL;AACA,aAAK,gBAAL;AACA,aAAK,iBAAL;AACI,eAAKnD,cAAL,CAAoBhI,CAApB;;AACA;;AACJ,aAAK,OAAL;AACA,aAAK,gBAAL;AACA,aAAK,YAAL;AACI,eAAKuO,MAAL,CAAYvO,CAAZ;;AACA;;AACJ,aAAK,SAAL;AACI,eAAK0Q,IAAL,CAAU1Q,CAAV;;AACA;;AACJ,aAAK,OAAL;AACI,cAAK,KAAKsI,OAAL,IAAgB,CAACtI,CAAC,CAACqE,YAAxB,EAAuC;AACnCrE,YAAAA,CAAC,CAACyF,cAAF;AACAzF,YAAAA,CAAC,CAACsR,eAAF;AACH;;AACD;AA9CR;AAgDH;AAtwCe,GAApB;;AAwwCA,WAAS5D,sBAAT,CAAiC6D,SAAjC,EAA4CjE,WAA5C,EAAyDhQ,IAAzD,EAA+D;AAC3D,QAAIkU,SAAS,GAAGnW,QAAQ,CAACa,aAAT,CAAuB,KAAvB,CAAhB;AAAA,QACIuR,SAAS,GAAGpS,QAAQ,CAACa,aAAT,CAAuB,KAAvB,CADhB;;AAGA,QAAKoB,IAAI,KAAK,IAAd,EAAqB;AACjBkU,MAAAA,SAAS,CAACrV,KAAV,CAAgBsV,OAAhB,GAA0B,gCAA1B;AACAhE,MAAAA,SAAS,CAACtR,KAAV,CAAgBsV,OAAhB,GAA0B,sLAA1B;AACH;;AAEDhE,IAAAA,SAAS,CAACrN,SAAV,GAAsB,kBAAtB;;AAEA,QAAKmR,SAAS,IAAI,GAAlB,EAAwB;AACpB,UAAKjU,IAAI,KAAK,IAAd,EAAqB;AACjBkU,QAAAA,SAAS,CAACrV,KAAV,CAAgBsV,OAAhB,IAA2B,yCAA3B;AACAhE,QAAAA,SAAS,CAACtR,KAAV,CAAgBuT,MAAhB,GAAyB,MAAzB;AACH;;AACD8B,MAAAA,SAAS,CAACpR,SAAV,GAAsB,4BAAtB;AACH,KAND,MAMO;AACH,UAAK9C,IAAI,KAAK,IAAd,EAAqB;AACjBkU,QAAAA,SAAS,CAACrV,KAAV,CAAgBsV,OAAhB,IAA2B,yCAA3B;AACAhE,QAAAA,SAAS,CAACtR,KAAV,CAAgBsT,KAAhB,GAAwB,MAAxB;AACH;;AACD+B,MAAAA,SAAS,CAACpR,SAAV,GAAsB,0BAAtB;AACH;;AAEDoR,IAAAA,SAAS,CAACrV,KAAV,CAAgBsV,OAAhB,IAA2B,kBAA3B;;AAEA,QAAK,CAACnE,WAAN,EAAoB;AAChBkE,MAAAA,SAAS,CAACrV,KAAV,CAAgBuV,aAAhB,GAAgC,MAAhC;AACH;;AAEDF,IAAAA,SAAS,CAACvD,WAAV,CAAsBR,SAAtB;AAEA,WAAO+D,SAAP;AACH;;AAED,WAASpD,SAAT,CAAoB1J,QAApB,EAA8BH,OAA9B,EAAuC;AACnC,SAAKC,OAAL,GAAe,OAAOD,OAAO,CAAClH,EAAf,IAAqB,QAArB,GAAgChC,QAAQ,CAACoJ,aAAT,CAAuBF,OAAO,CAAClH,EAA/B,CAAhC,GAAqEkH,OAAO,CAAClH,EAA5F;AACA,SAAKsU,YAAL,GAAoB,KAAKnN,OAAL,CAAarI,KAAjC;AACA,SAAKsR,SAAL,GAAiB,KAAKjJ,OAAL,CAAaG,QAAb,CAAsB,CAAtB,CAAjB;AACA,SAAKiN,cAAL,GAAsB,KAAKnE,SAAL,CAAetR,KAArC;AACA,SAAKuI,QAAL,GAAgBA,QAAhB;AAEA,SAAKH,OAAL,GAAe;AACXyJ,MAAAA,OAAO,EAAE,IADE;AAEXE,MAAAA,OAAO,EAAE,IAFE;AAGXZ,MAAAA,WAAW,EAAE,KAHF;AAIXM,MAAAA,MAAM,EAAE,IAJG;AAKXD,MAAAA,iBAAiB,EAAE,KALR;AAMXE,MAAAA,MAAM,EAAE,KANG;AAOXC,MAAAA,IAAI,EAAE,KAPK;AAQX+D,MAAAA,WAAW,EAAE,CARF;AASXC,MAAAA,WAAW,EAAE;AATF,KAAf;;AAYA,SAAM,IAAIvV,CAAV,IAAegI,OAAf,EAAyB;AACrB,WAAKA,OAAL,CAAahI,CAAb,IAAkBgI,OAAO,CAAChI,CAAD,CAAzB;AACH;;AAED,SAAKwV,UAAL,GAAkB,CAAlB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,OAAL,GAAe,CAAf;AACA,SAAKC,OAAL,GAAe,CAAf;;AAEA,QAAK,KAAK3N,OAAL,CAAa+I,WAAlB,EAAgC;AAC5B,UAAK,CAAC,KAAK/I,OAAL,CAAaU,YAAnB,EAAkC;AAC9BlJ,QAAAA,KAAK,CAACqB,QAAN,CAAe,KAAKqQ,SAApB,EAA+B,YAA/B,EAA6C,IAA7C;AACA1R,QAAAA,KAAK,CAACqB,QAAN,CAAehC,MAAf,EAAuB,UAAvB,EAAmC,IAAnC;AACH;;AACD,UAAK,CAAC,KAAKmJ,OAAL,CAAaS,cAAnB,EAAoC;AAChCjJ,QAAAA,KAAK,CAACqB,QAAN,CAAe,KAAKqQ,SAApB,EAA+B1R,KAAK,CAAC6B,kBAAN,CAAyB,aAAzB,CAA/B,EAAwE,IAAxE;AACA7B,QAAAA,KAAK,CAACqB,QAAN,CAAehC,MAAf,EAAuBW,KAAK,CAAC6B,kBAAN,CAAyB,WAAzB,CAAvB,EAA8D,IAA9D;AACH;;AACD,UAAK,CAAC,KAAK2G,OAAL,CAAaW,YAAnB,EAAkC;AAC9BnJ,QAAAA,KAAK,CAACqB,QAAN,CAAe,KAAKqQ,SAApB,EAA+B,WAA/B,EAA4C,IAA5C;AACA1R,QAAAA,KAAK,CAACqB,QAAN,CAAehC,MAAf,EAAuB,SAAvB,EAAkC,IAAlC;AACH;AACJ;;AAED,QAAK,KAAKmJ,OAAL,CAAauJ,IAAlB,EAAyB;AACrB,WAAK6D,YAAL,CAAkB5V,KAAK,CAACI,KAAN,CAAYG,SAA9B,IAA2C,KAAKoI,QAAL,CAAcqB,UAAzD;AACA,UAAIgH,YAAY,GAAGhR,KAAK,CAACI,KAAN,CAAYyD,kBAA/B;;AACA,UAAG,CAACmN,YAAJ,EAAkB;AACd;AACH;;AACD,WAAK4E,YAAL,CAAkB5E,YAAlB,IAAkChR,KAAK,CAACqD,YAAN,GAAqB,UAArB,GAAkC,KAApE,CANqB,CAOrB;;AACA,UAAI4N,IAAI,GAAG,IAAX;;AACA,UAAGjR,KAAK,CAACqD,YAAT,EAAuB;AACnB7D,QAAAA,GAAG,CAAC,YAAW;AACX,cAAGyR,IAAI,CAAC2E,YAAL,CAAkB5E,YAAlB,MAAoC,UAAvC,EAAmD;AAC/CC,YAAAA,IAAI,CAAC2E,YAAL,CAAkB5E,YAAlB,IAAkC,IAAlC;AACH;AACJ,SAJE,CAAH;AAKH;;AACD,WAAK4E,YAAL,CAAkBQ,OAAlB,GAA4B,GAA5B;AACH;AACJ;;AAED/D,EAAAA,SAAS,CAACpH,SAAV,GAAsB;AAClBqK,IAAAA,WAAW,EAAE,UAAUrR,CAAV,EAAa;AACtB,cAASA,CAAC,CAAC1C,IAAX;AACI,aAAK,YAAL;AACA,aAAK,aAAL;AACA,aAAK,eAAL;AACA,aAAK,WAAL;AACI,eAAK8K,MAAL,CAAYpI,CAAZ;;AACA;;AACJ,aAAK,WAAL;AACA,aAAK,aAAL;AACA,aAAK,eAAL;AACA,aAAK,WAAL;AACI,eAAKuJ,KAAL,CAAWvJ,CAAX;;AACA;;AACJ,aAAK,UAAL;AACA,aAAK,WAAL;AACA,aAAK,aAAL;AACA,aAAK,SAAL;AACA,aAAK,aAAL;AACA,aAAK,eAAL;AACA,aAAK,iBAAL;AACA,aAAK,aAAL;AACI,eAAKoK,IAAL,CAAUpK,CAAV;;AACA;AAtBR;AAwBH,KA1BiB;AA4BlB4H,IAAAA,OAAO,EAAE,YAAY;AACjB,UAAK,KAAKrD,OAAL,CAAawJ,cAAlB,EAAmC;AAC/BlG,QAAAA,YAAY,CAAC,KAAKuK,WAAN,CAAZ;AACA,aAAKA,WAAL,GAAmB,IAAnB;AACH;;AACD,UAAK,KAAK7N,OAAL,CAAa+I,WAAlB,EAAgC;AAC5BvR,QAAAA,KAAK,CAAC2B,WAAN,CAAkB,KAAK+P,SAAvB,EAAkC,YAAlC,EAAgD,IAAhD;AACA1R,QAAAA,KAAK,CAAC2B,WAAN,CAAkB,KAAK+P,SAAvB,EAAkC1R,KAAK,CAAC6B,kBAAN,CAAyB,aAAzB,CAAlC,EAA2E,IAA3E;AACA7B,QAAAA,KAAK,CAAC2B,WAAN,CAAkB,KAAK+P,SAAvB,EAAkC,WAAlC,EAA+C,IAA/C;AAEA1R,QAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0B,WAA1B,EAAuC,IAAvC;AACAW,QAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0BW,KAAK,CAAC6B,kBAAN,CAAyB,aAAzB,CAA1B,EAAmE,IAAnE;AACA7B,QAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0B,WAA1B,EAAuC,IAAvC;AAEAW,QAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0B,UAA1B,EAAsC,IAAtC;AACAW,QAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0BW,KAAK,CAAC6B,kBAAN,CAAyB,WAAzB,CAA1B,EAAiE,IAAjE;AACA7B,QAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0B,SAA1B,EAAqC,IAArC;AACH;;AAED,UAAK,KAAKmJ,OAAL,CAAaoJ,iBAAlB,EAAsC;AAClC,aAAKnJ,OAAL,CAAa6N,UAAb,CAAwBC,WAAxB,CAAoC,KAAK9N,OAAzC;AACH;AACJ,KAlDiB;AAoDlB4D,IAAAA,MAAM,EAAE,UAAUpI,CAAV,EAAa;AACjB,UAAIwI,KAAK,GAAGxI,CAAC,CAACyI,OAAF,GAAYzI,CAAC,CAACyI,OAAF,CAAU,CAAV,CAAZ,GAA2BzI,CAAvC;AAEAA,MAAAA,CAAC,CAACyF,cAAF;AACAzF,MAAAA,CAAC,CAACsR,eAAF;AAEA,WAAKrE,cAAL;AAEA,WAAK1E,SAAL,GAAiB,IAAjB;AACA,WAAKI,KAAL,GAAa,KAAb;AACA,WAAK4J,UAAL,GAAkB/J,KAAK,CAACrF,KAAxB;AACA,WAAKqP,UAAL,GAAkBhK,KAAK,CAACpF,KAAxB;AAEA,WAAK2F,SAAL,GAAkBhN,KAAK,CAACe,OAAN,EAAlB;;AAEA,UAAK,CAAC,KAAKyH,OAAL,CAAaU,YAAnB,EAAkC;AAC9BlJ,QAAAA,KAAK,CAACqB,QAAN,CAAehC,MAAf,EAAuB,WAAvB,EAAoC,IAApC;AACH;;AACD,UAAK,CAAC,KAAKmJ,OAAL,CAAaS,cAAnB,EAAoC;AAChCjJ,QAAAA,KAAK,CAACqB,QAAN,CAAehC,MAAf,EAAuBW,KAAK,CAAC6B,kBAAN,CAAyB,aAAzB,CAAvB,EAAgE,IAAhE;AACH;;AACD,UAAK,CAAC,KAAK2G,OAAL,CAAaW,YAAnB,EAAkC;AAC9BnJ,QAAAA,KAAK,CAACqB,QAAN,CAAehC,MAAf,EAAuB,WAAvB,EAAoC,IAApC;AACH;;AAED,WAAKsJ,QAAL,CAAcqD,UAAd,CAAyB,mBAAzB;AACH,KA9EiB;AAgFlBwB,IAAAA,KAAK,EAAE,UAAUvJ,CAAV,EAAa;AAChB,UAAIwI,KAAK,GAAGxI,CAAC,CAACyI,OAAF,GAAYzI,CAAC,CAACyI,OAAF,CAAU,CAAV,CAAZ,GAA2BzI,CAAvC;AAAA,UACIwJ,MADJ;AAAA,UACYC,MADZ;AAAA,UAEIE,IAFJ;AAAA,UAEUC,IAFV;AAAA,UAGIF,SAAS,GAAG3N,KAAK,CAACe,OAAN,EAHhB;;AAKA,UAAK,CAAC,KAAK6L,KAAX,EAAmB;AACf,aAAKjE,QAAL,CAAcqD,UAAd,CAAyB,aAAzB;AACH;;AAED,WAAKY,KAAL,GAAa,IAAb;AAEAa,MAAAA,MAAM,GAAGhB,KAAK,CAACrF,KAAN,GAAc,KAAKoP,UAA5B;AACA,WAAKA,UAAL,GAAkB/J,KAAK,CAACrF,KAAxB;AAEAsG,MAAAA,MAAM,GAAGjB,KAAK,CAACpF,KAAN,GAAc,KAAKoP,UAA5B;AACA,WAAKA,UAAL,GAAkBhK,KAAK,CAACpF,KAAxB;AAEAuG,MAAAA,IAAI,GAAG,KAAKpD,CAAL,GAASiD,MAAhB;AACAI,MAAAA,IAAI,GAAG,KAAKpD,CAAL,GAASiD,MAAhB;;AAEA,WAAKgJ,IAAL,CAAU9I,IAAV,EAAgBC,IAAhB,EArBgB,CAuBxB;;;AAEQ5J,MAAAA,CAAC,CAACyF,cAAF;AACAzF,MAAAA,CAAC,CAACsR,eAAF;AACH,KA3GiB;AA6GlBlH,IAAAA,IAAI,EAAE,UAAUpK,CAAV,EAAa;AACf,UAAK,CAAC,KAAKuI,SAAX,EAAuB;AACnB;AACH;;AAED,WAAKA,SAAL,GAAiB,KAAjB;AAEAvI,MAAAA,CAAC,CAACyF,cAAF;AACAzF,MAAAA,CAAC,CAACsR,eAAF;AAEAvV,MAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0B,WAA1B,EAAuC,IAAvC;AACAW,MAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0BW,KAAK,CAAC6B,kBAAN,CAAyB,aAAzB,CAA1B,EAAmE,IAAnE;AACA7B,MAAAA,KAAK,CAAC2B,WAAN,CAAkBtC,MAAlB,EAA0B,WAA1B,EAAuC,IAAvC;;AAEA,UAAK,KAAKsJ,QAAL,CAAcH,OAAd,CAAsBiD,IAA3B,EAAkC;AAC9B,YAAIA,IAAI,GAAG,KAAK9C,QAAL,CAAcqG,YAAd,CAA2B,KAAKrG,QAAL,CAAc6B,CAAzC,EAA4C,KAAK7B,QAAL,CAAc8B,CAA1D,CAAX;;AAEA,YAAItI,IAAI,GAAG,KAAKqG,OAAL,CAAa0G,SAAb,IAA0B3P,IAAI,CAACwP,GAAL,CAC7BxP,IAAI,CAACwP,GAAL,CACIxP,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAAS,KAAKkG,QAAL,CAAc6B,CAAd,GAAkBiB,IAAI,CAACjB,CAAhC,CAAT,EAA6C,IAA7C,CADJ,EAEIjL,IAAI,CAAC4P,GAAL,CAAS5P,IAAI,CAACkD,GAAL,CAAS,KAAKkG,QAAL,CAAc8B,CAAd,GAAkBgB,IAAI,CAAChB,CAAhC,CAAT,EAA6C,IAA7C,CAFJ,CAD6B,EAI1B,GAJ0B,CAArC;;AAMA,YAAK,KAAK9B,QAAL,CAAc6B,CAAd,IAAmBiB,IAAI,CAACjB,CAAxB,IAA6B,KAAK7B,QAAL,CAAc8B,CAAd,IAAmBgB,IAAI,CAAChB,CAA1D,EAA8D;AAC1D,eAAK9B,QAAL,CAAc+B,UAAd,GAA2B,CAA3B;AACA,eAAK/B,QAAL,CAAcgC,UAAd,GAA2B,CAA3B;AACA,eAAKhC,QAAL,CAAcsG,WAAd,GAA4BxD,IAA5B;AACA,eAAK9C,QAAL,CAAcoC,QAAd,CAAuBU,IAAI,CAACjB,CAA5B,EAA+BiB,IAAI,CAAChB,CAApC,EAAuCtI,IAAvC,EAA6C,KAAKwG,QAAL,CAAcH,OAAd,CAAsBiB,YAAnE;AACH;AACJ;;AAED,UAAK,KAAKmD,KAAV,EAAkB;AACd,aAAKjE,QAAL,CAAcqD,UAAd,CAAyB,WAAzB;AACH;AACJ,KA/IiB;AAiJlBkF,IAAAA,cAAc,EAAE,UAAU/O,IAAV,EAAgB;AAC5BA,MAAAA,IAAI,GAAGA,IAAI,IAAI,CAAf;AACA,UAAI6O,YAAY,GAAGhR,KAAK,CAACI,KAAN,CAAYyD,kBAA/B;;AACA,UAAG,CAACmN,YAAJ,EAAkB;AACd;AACH;;AAED,WAAK6E,cAAL,CAAoB7E,YAApB,IAAoC7O,IAAI,GAAG,IAA3C;;AAEA,UAAK,CAACA,IAAD,IAASnC,KAAK,CAACqD,YAApB,EAAmC;AAC/B,aAAKwS,cAAL,CAAoB7E,YAApB,IAAoC,UAApC,CAD+B,CAE/B;;AACA,YAAIC,IAAI,GAAG,IAAX;AACAzR,QAAAA,GAAG,CAAC,YAAW;AACX,cAAGyR,IAAI,CAAC4E,cAAL,CAAoB7E,YAApB,MAAsC,UAAzC,EAAqD;AACjDC,YAAAA,IAAI,CAAC4E,cAAL,CAAoB7E,YAApB,IAAoC,IAApC;AACH;AACJ,SAJE,CAAH;AAKH;AACJ,KApKiB;AAsKlBpN,IAAAA,wBAAwB,EAAE,UAAU+K,MAAV,EAAkB;AACxC,WAAKkH,cAAL,CAAoB7V,KAAK,CAACI,KAAN,CAAYwD,wBAAhC,IAA4D+K,MAA5D;AACH,KAxKiB;AA0KlB7D,IAAAA,OAAO,EAAE,YAAY;AACjB,WAAKoG,cAAL;;AAEA,UAAK,KAAK1I,OAAL,CAAayJ,OAAb,IAAwB,CAAC,KAAKzJ,OAAL,CAAa2J,OAA3C,EAAqD;AACjD,aAAK0D,cAAL,CAAoBc,OAApB,GAA8B,KAAKhO,QAAL,CAAcsF,mBAAd,GAAoC,OAApC,GAA8C,MAA5E;AACH,OAFD,MAEO,IAAK,KAAKzF,OAAL,CAAa2J,OAAb,IAAwB,CAAC,KAAK3J,OAAL,CAAayJ,OAA3C,EAAqD;AACxD,aAAK4D,cAAL,CAAoBc,OAApB,GAA8B,KAAKhO,QAAL,CAAcuF,iBAAd,GAAkC,OAAlC,GAA4C,MAA1E;AACH,OAFM,MAEA;AACH,aAAK2H,cAAL,CAAoBc,OAApB,GAA8B,KAAKhO,QAAL,CAAcsF,mBAAd,IAAqC,KAAKtF,QAAL,CAAcuF,iBAAnD,GAAuE,OAAvE,GAAiF,MAA/G;AACH;;AAED,UAAK,KAAKvF,QAAL,CAAcsF,mBAAd,IAAqC,KAAKtF,QAAL,CAAcuF,iBAAxD,EAA4E;AACxElO,QAAAA,KAAK,CAACsE,QAAN,CAAe,KAAKmE,OAApB,EAA6B,uBAA7B;AACAzI,QAAAA,KAAK,CAAC2E,WAAN,CAAkB,KAAK8D,OAAvB,EAAgC,sBAAhC;;AAEA,YAAK,KAAKD,OAAL,CAAaoJ,iBAAb,IAAkC,KAAKpJ,OAAL,CAAaiJ,WAApD,EAAkE;AAC9D,cAAK,KAAKjJ,OAAL,CAAayJ,OAAlB,EAA4B;AACxB,iBAAKxJ,OAAL,CAAarI,KAAb,CAAmBoU,KAAnB,GAA2B,KAA3B;AACH,WAFD,MAEO;AACH,iBAAK/L,OAAL,CAAarI,KAAb,CAAmBwW,MAAnB,GAA4B,KAA5B;AACH;AACJ;AACJ,OAXD,MAWO;AACH5W,QAAAA,KAAK,CAAC2E,WAAN,CAAkB,KAAK8D,OAAvB,EAAgC,uBAAhC;AACAzI,QAAAA,KAAK,CAACsE,QAAN,CAAe,KAAKmE,OAApB,EAA6B,sBAA7B;;AAEA,YAAK,KAAKD,OAAL,CAAaoJ,iBAAb,IAAkC,KAAKpJ,OAAL,CAAaiJ,WAApD,EAAkE;AAC9D,cAAK,KAAKjJ,OAAL,CAAayJ,OAAlB,EAA4B;AACxB,iBAAKxJ,OAAL,CAAarI,KAAb,CAAmBoU,KAAnB,GAA2B,KAA3B;AACH,WAFD,MAEO;AACH,iBAAK/L,OAAL,CAAarI,KAAb,CAAmBwW,MAAnB,GAA4B,KAA5B;AACH;AACJ;AACJ;;AAED,UAAIC,CAAC,GAAG,KAAKpO,OAAL,CAAa+G,YAArB,CAnCiB,CAmCmB;;AAEpC,UAAK,KAAKhH,OAAL,CAAayJ,OAAlB,EAA4B;AACxB,aAAKpD,YAAL,GAAoB,KAAKpG,OAAL,CAAagH,WAAjC;;AACA,YAAK,KAAKjH,OAAL,CAAaqJ,MAAlB,EAA2B;AACvB,eAAKiF,cAAL,GAAsBvX,IAAI,CAACwP,GAAL,CAASxP,IAAI,CAACsD,KAAL,CAAW,KAAKgM,YAAL,GAAoB,KAAKA,YAAzB,IAAyC,KAAKlG,QAAL,CAAcgH,aAAd,IAA+B,KAAKd,YAApC,IAAoD,CAA7F,CAAX,CAAT,EAAsH,CAAtH,CAAtB;AACA,eAAKgH,cAAL,CAAoBnC,KAApB,GAA4B,KAAKoD,cAAL,GAAsB,IAAlD;AACH,SAHD,MAGO;AACH,eAAKA,cAAL,GAAsB,KAAKpF,SAAL,CAAejC,WAArC;AACH;;AAED,aAAKyG,OAAL,GAAe,KAAKrH,YAAL,GAAoB,KAAKiI,cAAxC;;AAEA,YAAK,KAAKtO,OAAL,CAAasJ,MAAb,IAAuB,MAA5B,EAAqC;AACjC,eAAKiF,YAAL,GAAoB,CAAC,KAAKD,cAAN,GAAuB,CAA3C;AACA,eAAKE,YAAL,GAAoB,KAAKnI,YAAL,GAAoB,CAAxC;AACH,SAHD,MAGO;AACH,eAAKkI,YAAL,GAAoB,CAApB;AACA,eAAKC,YAAL,GAAoB,KAAKd,OAAzB;AACH;;AAED,aAAKF,UAAL,GAAkB,KAAKxN,OAAL,CAAasN,WAAb,IAA6B,KAAKnN,QAAL,CAAcwF,UAAd,IAA6B,KAAK+H,OAAL,GAAe,KAAKvN,QAAL,CAAcwF,UAAzG;AACH;;AAED,UAAK,KAAK3F,OAAL,CAAa2J,OAAlB,EAA4B;AACxB,aAAKrD,aAAL,GAAqB,KAAKrG,OAAL,CAAaiH,YAAlC;;AACA,YAAK,KAAKlH,OAAL,CAAaqJ,MAAlB,EAA2B;AACvB,eAAKoF,eAAL,GAAuB1X,IAAI,CAACwP,GAAL,CAASxP,IAAI,CAACsD,KAAL,CAAW,KAAKiM,aAAL,GAAqB,KAAKA,aAA1B,IAA2C,KAAKnG,QAAL,CAAckH,cAAd,IAAgC,KAAKf,aAArC,IAAsD,CAAjG,CAAX,CAAT,EAA0H,CAA1H,CAAvB;AACA,eAAK+G,cAAL,CAAoBlC,MAApB,GAA6B,KAAKsD,eAAL,GAAuB,IAApD;AACH,SAHD,MAGO;AACH,eAAKA,eAAL,GAAuB,KAAKvF,SAAL,CAAehC,YAAtC;AACH;;AAED,aAAKyG,OAAL,GAAe,KAAKrH,aAAL,GAAqB,KAAKmI,eAAzC;;AAEA,YAAK,KAAKzO,OAAL,CAAasJ,MAAb,IAAuB,MAA5B,EAAqC;AACjC,eAAKoF,YAAL,GAAoB,CAAC,KAAKD,eAAN,GAAwB,CAA5C;AACA,eAAKE,YAAL,GAAoB,KAAKrI,aAAL,GAAqB,CAAzC;AACH,SAHD,MAGO;AACH,eAAKoI,YAAL,GAAoB,CAApB;AACA,eAAKC,YAAL,GAAoB,KAAKhB,OAAzB;AACH;;AAED,aAAKA,OAAL,GAAe,KAAKrH,aAAL,GAAqB,KAAKmI,eAAzC;AACA,aAAKhB,UAAL,GAAkB,KAAKzN,OAAL,CAAauN,WAAb,IAA6B,KAAKpN,QAAL,CAAcyF,UAAd,IAA6B,KAAK+H,OAAL,GAAe,KAAKxN,QAAL,CAAcyF,UAAzG;AACH;;AAED,WAAK+C,cAAL;AACH,KA7PiB;AA+PlBA,IAAAA,cAAc,EAAE,YAAY;AACxB,UAAI3G,CAAC,GAAG,KAAKhC,OAAL,CAAayJ,OAAb,IAAwB1S,IAAI,CAACsD,KAAL,CAAW,KAAKmT,UAAL,GAAkB,KAAKrN,QAAL,CAAc6B,CAA3C,CAAxB,IAAyE,CAAjF;AAAA,UACIC,CAAC,GAAG,KAAKjC,OAAL,CAAa2J,OAAb,IAAwB5S,IAAI,CAACsD,KAAL,CAAW,KAAKoT,UAAL,GAAkB,KAAKtN,QAAL,CAAc8B,CAA3C,CAAxB,IAAyE,CADjF;;AAGA,UAAK,CAAC,KAAKjC,OAAL,CAAa4O,gBAAnB,EAAsC;AAClC,YAAK5M,CAAC,GAAG,KAAKuM,YAAd,EAA6B;AACzB,cAAK,KAAKvO,OAAL,CAAasJ,MAAb,IAAuB,OAA5B,EAAsC;AAClC,iBAAK4B,KAAL,GAAanU,IAAI,CAACwP,GAAL,CAAS,KAAK+H,cAAL,GAAsBtM,CAA/B,EAAkC,CAAlC,CAAb;AACA,iBAAKqL,cAAL,CAAoBnC,KAApB,GAA4B,KAAKA,KAAL,GAAa,IAAzC;AACH;;AACDlJ,UAAAA,CAAC,GAAG,KAAKuM,YAAT;AACH,SAND,MAMO,IAAKvM,CAAC,GAAG,KAAKwM,YAAd,EAA6B;AAChC,cAAK,KAAKxO,OAAL,CAAasJ,MAAb,IAAuB,OAA5B,EAAsC;AAClC,iBAAK4B,KAAL,GAAanU,IAAI,CAACwP,GAAL,CAAS,KAAK+H,cAAL,IAAuBtM,CAAC,GAAG,KAAK0L,OAAhC,CAAT,EAAmD,CAAnD,CAAb;AACA,iBAAKL,cAAL,CAAoBnC,KAApB,GAA4B,KAAKA,KAAL,GAAa,IAAzC;AACAlJ,YAAAA,CAAC,GAAG,KAAK0L,OAAL,GAAe,KAAKY,cAApB,GAAqC,KAAKpD,KAA9C;AACH,WAJD,MAIO;AACHlJ,YAAAA,CAAC,GAAG,KAAKwM,YAAT;AACH;AACJ,SARM,MAQA,IAAK,KAAKxO,OAAL,CAAasJ,MAAb,IAAuB,OAAvB,IAAkC,KAAK4B,KAAL,IAAc,KAAKoD,cAA1D,EAA2E;AAC9E,eAAKpD,KAAL,GAAa,KAAKoD,cAAlB;AACA,eAAKjB,cAAL,CAAoBnC,KAApB,GAA4B,KAAKA,KAAL,GAAa,IAAzC;AACH;;AAED,YAAKjJ,CAAC,GAAG,KAAKyM,YAAd,EAA6B;AACzB,cAAK,KAAK1O,OAAL,CAAasJ,MAAb,IAAuB,OAA5B,EAAsC;AAClC,iBAAK6B,MAAL,GAAcpU,IAAI,CAACwP,GAAL,CAAS,KAAKkI,eAAL,GAAuBxM,CAAC,GAAG,CAApC,EAAuC,CAAvC,CAAd;AACA,iBAAKoL,cAAL,CAAoBlC,MAApB,GAA6B,KAAKA,MAAL,GAAc,IAA3C;AACH;;AACDlJ,UAAAA,CAAC,GAAG,KAAKyM,YAAT;AACH,SAND,MAMO,IAAKzM,CAAC,GAAG,KAAK0M,YAAd,EAA6B;AAChC,cAAK,KAAK3O,OAAL,CAAasJ,MAAb,IAAuB,OAA5B,EAAsC;AAClC,iBAAK6B,MAAL,GAAcpU,IAAI,CAACwP,GAAL,CAAS,KAAKkI,eAAL,GAAuB,CAACxM,CAAC,GAAG,KAAK0L,OAAV,IAAqB,CAArD,EAAwD,CAAxD,CAAd;AACA,iBAAKN,cAAL,CAAoBlC,MAApB,GAA6B,KAAKA,MAAL,GAAc,IAA3C;AACAlJ,YAAAA,CAAC,GAAG,KAAK0L,OAAL,GAAe,KAAKc,eAApB,GAAsC,KAAKtD,MAA/C;AACH,WAJD,MAIO;AACHlJ,YAAAA,CAAC,GAAG,KAAK0M,YAAT;AACH;AACJ,SARM,MAQA,IAAK,KAAK3O,OAAL,CAAasJ,MAAb,IAAuB,OAAvB,IAAkC,KAAK6B,MAAL,IAAe,KAAKsD,eAA3D,EAA6E;AAChF,eAAKtD,MAAL,GAAc,KAAKsD,eAAnB;AACA,eAAKpB,cAAL,CAAoBlC,MAApB,GAA6B,KAAKA,MAAL,GAAc,IAA3C;AACH;AACJ;;AAED,WAAKnJ,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;;AAEA,UAAK,KAAK9B,QAAL,CAAcH,OAAd,CAAsBqB,YAA3B,EAA0C;AACtC,aAAKgM,cAAL,CAAoB7V,KAAK,CAACI,KAAN,CAAYG,SAAhC,IAA6C,eAAeiK,CAAf,GAAmB,KAAnB,GAA2BC,CAA3B,GAA+B,KAA/B,GAAuC,KAAK9B,QAAL,CAAcqB,UAAlG;AACH,OAFD,MAEO;AACH,aAAK6L,cAAL,CAAoB/Q,IAApB,GAA2B0F,CAAC,GAAG,IAA/B;AACA,aAAKqL,cAAL,CAAoB7Q,GAApB,GAA0ByF,CAAC,GAAG,IAA9B;AACH;AACJ,KApTiB;AAsTlBiM,IAAAA,IAAI,EAAE,UAAUlM,CAAV,EAAaC,CAAb,EAAgB;AAClB,UAAKD,CAAC,GAAG,CAAT,EAAa;AACTA,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFD,MAEO,IAAKA,CAAC,GAAG,KAAK0L,OAAd,EAAwB;AAC3B1L,QAAAA,CAAC,GAAG,KAAK0L,OAAT;AACH;;AAED,UAAKzL,CAAC,GAAG,CAAT,EAAa;AACTA,QAAAA,CAAC,GAAG,CAAJ;AACH,OAFD,MAEO,IAAKA,CAAC,GAAG,KAAK0L,OAAd,EAAwB;AAC3B1L,QAAAA,CAAC,GAAG,KAAK0L,OAAT;AACH;;AAED3L,MAAAA,CAAC,GAAG,KAAKhC,OAAL,CAAayJ,OAAb,GAAuB1S,IAAI,CAACsD,KAAL,CAAW2H,CAAC,GAAG,KAAKwL,UAApB,CAAvB,GAAyD,KAAKrN,QAAL,CAAc6B,CAA3E;AACAC,MAAAA,CAAC,GAAG,KAAKjC,OAAL,CAAa2J,OAAb,GAAuB5S,IAAI,CAACsD,KAAL,CAAW4H,CAAC,GAAG,KAAKwL,UAApB,CAAvB,GAAyD,KAAKtN,QAAL,CAAc8B,CAA3E;AAEA,WAAK9B,QAAL,CAAcoC,QAAd,CAAuBP,CAAvB,EAA0BC,CAA1B;AACH,KAvUiB;AAyUlBsH,IAAAA,IAAI,EAAE,UAAUsF,GAAV,EAAeC,IAAf,EAAqB;AACvB,UAAKA,IAAI,IAAI,CAAC,KAAKC,OAAnB,EAA6B;AACzB;AACH;;AAEDzL,MAAAA,YAAY,CAAC,KAAKuK,WAAN,CAAZ;AACA,WAAKA,WAAL,GAAmB,IAAnB;AAEA,UAAIlU,IAAI,GAAGkV,GAAG,GAAG,GAAH,GAAS,GAAvB;AAAA,UACIG,KAAK,GAAGH,GAAG,GAAG,CAAH,GAAO,GADtB;AAGAA,MAAAA,GAAG,GAAGA,GAAG,GAAG,GAAH,GAAS,GAAlB;AAEA,WAAKzB,YAAL,CAAkB5V,KAAK,CAACI,KAAN,CAAYyD,kBAA9B,IAAoD1B,IAAI,GAAG,IAA3D;AAEA,WAAKkU,WAAL,GAAmBtW,UAAU,CAAE,UAAUsX,GAAV,EAAe;AAC1C,aAAKzB,YAAL,CAAkBQ,OAAlB,GAA4BiB,GAA5B;AACA,aAAKE,OAAL,GAAe,CAACF,GAAhB;AACH,OAH6B,CAG3BI,IAH2B,CAGtB,IAHsB,EAGhBJ,GAHgB,CAAD,EAGTG,KAHS,CAA7B;AAIH;AA5ViB,GAAtB;AA+VAjP,EAAAA,OAAO,CAACvI,KAAR,GAAgBA,KAAhB;;AAEA,MAAK,OAAO0X,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACC,OAA5C,EAAsD;AAClDD,IAAAA,MAAM,CAACC,OAAP,GAAiBpP,OAAjB;AACH,GAFD,MAEO,IAAK,OAAOqP,MAAP,IAAiB,UAAjB,IAA+BA,MAAM,CAACC,GAA3C,EAAiD;AACpDD,IAAAA,MAAM,CAAE,YAAY;AAAE,aAAOrP,OAAP;AAAiB,KAAjC,CAAN,CADoD,CAGpD;AACA;;AACA,QAAG,OAAOlJ,MAAP,KAAkB,WAArB,EAAiC;AAC7BA,MAAAA,MAAM,CAACkJ,OAAP,GAAiBA,OAAjB;AACH;AACJ,GARM,MAQA;AACHlJ,IAAAA,MAAM,CAACkJ,OAAP,GAAiBA,OAAjB;AACH;AAEA,CAnlED,EAmlEGlJ,MAnlEH,EAmlEWC,QAnlEX,EAmlEqBC,IAnlErB;AAslEA;;;;;;;;;AAOA,CAAC,UAAUF,MAAV,EAAkBC,QAAlB,EAA4B;AACzBD,EAAAA,MAAM,CAACyY,iBAAP,GAA4B,YAAW;AAEnC;AACA,QAAI,CAACzY,MAAM,CAACkJ,OAAZ,EAAqB;AACjB;AACAlJ,MAAAA,MAAM,CAACkJ,OAAP,GAAiBmP,MAAM,CAACC,OAAxB;AACH,KANkC,CAQnC;;;AACA,QAAII,UAAU,GAAc,eAA5B;AACA,QAAIC,cAAc,GAAU,MAAMD,UAAlC;AAEA,QAAIE,MAAM,GAAkB,QAA5B;AACA,QAAIC,UAAU,GAAc,MAAMD,MAAlC;AAEA,QAAIE,OAAO,GAAiB,YAA5B;AACA,QAAIC,WAAW,GAAa,MAAMD,OAAlC;AACA,QAAIE,kBAAkB,GAAMD,WAAW,GAAGF,UAA1C;AAEA,QAAII,KAAK,GAAmB,UAA5B;AACA,QAAIC,SAAS,GAAe,MAAMD,KAAlC;AACA,QAAIE,gBAAgB,GAAQD,SAAS,GAAGL,UAAxC;AAEA,QAAIO,cAAc,GAAU,WAA5B;AACA,QAAIC,kBAAkB,GAAM,MAAMD,cAAlC;AAEA,QAAIE,UAAU,GAAc,cAA5B;AACA,QAAIC,cAAc,GAAU,MAAMD,UAAlC;AAEA,QAAIE,UAAU,GAAc,eAA5B;AACA,QAAIC,sBAAsB,GAAE,2BAA5B;AAEA;;;;;AAIAvQ,IAAAA,OAAO,CAAC0C,SAAR,CAAkB8N,OAAlB,GAA4B,YAAY;AACpC,WAAKtQ,OAAL,CAAa/G,gBAAb,CAA8B,OAA9B,EAAuC,IAAvC;AACA,WAAK+G,OAAL,CAAa/G,gBAAb,CAA8B,YAA9B,EAA4C,IAA5C;AACA,WAAK+G,OAAL,CAAa/G,gBAAb,CAA8B,gBAA9B,EAAgD,IAAhD;AACH,KAJD;AAMA;;;;;;AAIA6G,IAAAA,OAAO,CAAC0C,SAAR,CAAkB+N,QAAlB,GAA6B,YAAY;AACrC,WAAKvQ,OAAL,CAAa7G,mBAAb,CAAiC,OAAjC,EAA0C,IAA1C;AACA,WAAK6G,OAAL,CAAa7G,mBAAb,CAAiC,YAAjC,EAA+C,IAA/C;AACA,WAAK6G,OAAL,CAAa7G,mBAAb,CAAiC,gBAAjC,EAAmD,IAAnD;AACH,KAJD;AAMA;;;;;AAGA,aAASqX,WAAT,CAAqBC,OAArB,EAA6B;AACzB,UAAIC,OAAO,GAAGC,QAAQ,CAACC,OAAT,CAAiBH,OAAjB,EAA0Bd,WAA1B,CAAd;;AACA,UAAGe,OAAO,IAAI,IAAd,EAAmB;AACf,eAAOG,QAAQ,CAAChI,gBAAgB,CAAC6H,OAAD,CAAhB,CAA0B,gBAA1B,CAAD,CAAR,GAAwDG,QAAQ,CAAChI,gBAAgB,CAAC6H,OAAD,CAAhB,CAA0B,aAA1B,CAAD,CAAvE;AACH;;AACD,aAAO,CAAP;AACH;;AAED,aAASI,gBAAT,GAA2B;AACvB,UAAItI,IAAI,GAAG,IAAX;AACAA,MAAAA,IAAI,CAACzI,OAAL,GAAe,IAAf;;AAEAyI,MAAAA,IAAI,CAACuI,IAAL,GAAY,UAAShR,OAAT,EAAkBiR,cAAlB,EAAiC;AACzCxI,QAAAA,IAAI,CAACzI,OAAL,GAAeA,OAAf;AACAyI,QAAAA,IAAI,CAACwI,cAAL,GAAsBA,cAAtB;;AAEA,YAAGna,QAAQ,CAACoa,UAAT,KAAwB,UAA3B,EAAsC;AAClCC,UAAAA,qBAAqB;AACrBC,UAAAA,YAAY,CAACC,MAAb,CAAoBC,kBAApB;AACH,SAPwC,CAQzC;;;AACAza,QAAAA,MAAM,CAACqC,gBAAP,CAAwB,MAAxB,EAAgC,YAAU;AACtCiY,UAAAA,qBAAqB;AACrBC,UAAAA,YAAY,CAACC,MAAb,CAAoBC,kBAApB;AACH,SAHD;AAKA,eAAO7I,IAAP;AACH,OAfD;AAiBA;;;;;AAGA,eAAS0I,qBAAT,GAAgC;AAC5B,YAAGP,QAAQ,CAACpV,QAAT,CAAkB1E,QAAQ,CAACya,IAA3B,EAAiClB,UAAjC,CAAH,EAAgD;AAC5CmB,UAAAA,sBAAsB,CAACC,eAAD,CAAtB;AACH,SAFD,MAGI;AACAD,UAAAA,sBAAsB,CAACE,eAAD,CAAtB;AACH;AACJ;AAED;;;;;;;;AAMA,eAASA,eAAT,CAAyBhB,OAAzB,EAAiC;AAC7B;AACA,YAAGE,QAAQ,CAACpV,QAAT,CAAkBkV,OAAlB,EAA2B,aAA3B,CAAH,EAA8C,OAFjB,CAI7B;;AACAE,QAAAA,QAAQ,CAACe,GAAT,CAAajB,OAAb,EAAsB;AAAC,sBAAY;AAAb,SAAtB;AAEA,YAAIkB,qBAAqB,GAAGnJ,IAAI,CAACzI,OAAL,CAAa4R,qBAAzC;AACA,YAAIC,IAAI,GAAGD,qBAAqB,CAACE,WAAtB,EAAX;AACA,YAAInB,OAAO,GAAGC,QAAQ,CAACC,OAAT,CAAiBH,OAAjB,EAA0Bd,WAA1B,CAAd,CAT6B,CASyB;;AACtD,YAAImC,UAAU,GAAGH,qBAAqB,CAACG,UAAtB,CAAiCrB,OAAjC,CAAjB;AACA,YAAIsB,aAAJ;AACA,YAAIC,QAAQ,GAAGxB,WAAW,CAACE,OAAD,CAA1B,CAZ6B,CAc7B;;AACA,YAAGoB,UAAU,IAAI,IAAjB,EAAsB;AAClBC,UAAAA,aAAa,GAAGJ,qBAAqB,CAACM,YAAtB,CAAmCxB,OAAnC,CAAhB;AACH,SAFD,MAGI;AACAsB,UAAAA,aAAa,GAAGtB,OAAO,CAACwB,YAAxB;;AACA,cAAGzJ,IAAI,CAACzI,OAAL,CAAamS,gBAAhB,EAAiC;AAC7BH,YAAAA,aAAa,GAAGI,CAAC,CAAChC,cAAD,EAAiBM,OAAjB,CAAD,CAA2B,CAA3B,EAA8BwB,YAA9C;AACH;AACJ;;AAED,YAAIA,YAAY,GAAGtB,QAAQ,CAACyB,eAAT,EAAnB;AACA,YAAIC,0BAA0B,GAAGN,aAAa,GAAGC,QAAjD;AACA,YAAIM,4BAA4B,GAAGL,YAAY,GAAGD,QAAlD,CA3B6B,CA6B7B;;AACA,YAAKK,0BAA0B,GAAGJ,YAAlC,EAAgD;AAC5C;AACA,cAAGH,UAAU,IAAI,IAAjB,EAAsB;AAClBH,YAAAA,qBAAqB,CAACY,MAAtB,CAA6B9B,OAA7B,EAAsC6B,4BAAtC;AACH,WAFD,CAGC;AAHD,eAII;AACA,kBAAG9J,IAAI,CAACzI,OAAL,CAAamS,gBAAhB,EAAiC;AAC7BvB,gBAAAA,QAAQ,CAAC6B,SAAT,CAAmBL,CAAC,CAAChC,cAAD,EAAiBM,OAAjB,CAAD,CAA2B,CAA3B,CAAnB,EAAkDmB,IAAI,CAAC1R,QAAvD;AACAyQ,gBAAAA,QAAQ,CAAC6B,SAAT,CAAmBL,CAAC,CAAChC,cAAD,EAAiBM,OAAjB,CAAD,CAA2B,CAA3B,CAAnB,EAAkDmB,IAAI,CAACE,UAAvD;AACH,eAHD,MAGK;AACDnB,gBAAAA,QAAQ,CAAC6B,SAAT,CAAmB/B,OAAnB,EAA4BmB,IAAI,CAAC1R,QAAjC;AACAyQ,gBAAAA,QAAQ,CAAC6B,SAAT,CAAmB/B,OAAnB,EAA4BmB,IAAI,CAACE,UAAjC;AACH;;AACDH,cAAAA,qBAAqB,CAACc,MAAtB,CAA6BhC,OAA7B,EAAsC6B,4BAAtC,EAAoE9J,IAAI,CAACwI,cAAzE;AACH;AACJ,SAhBD,CAkBA;AAlBA,aAmBI;AACAW,YAAAA,qBAAqB,CAAChJ,MAAtB,CAA6B8H,OAA7B;AACH,WAnD4B,CAqD7B;;;AACAE,QAAAA,QAAQ,CAACe,GAAT,CAAajB,OAAb,EAAsB;AAAC,sBAAY;AAAb,SAAtB;AACH;AAED;;;;;;AAIA,eAASc,sBAAT,CAAgCla,QAAhC,EAAyC;AACrC8a,QAAAA,CAAC,CAACxC,WAAD,CAAD,CAAe+C,OAAf,CAAuB,UAAShC,OAAT,EAAiB;AACpC,cAAIiC,MAAM,GAAGR,CAAC,CAACrC,SAAD,EAAYY,OAAZ,CAAd;;AAEA,cAAGiC,MAAM,CAAC1a,MAAV,EAAiB;AACb0a,YAAAA,MAAM,CAACD,OAAP,CAAe,UAASE,KAAT,EAAe;AAC1Bvb,cAAAA,QAAQ,CAACub,KAAD,CAAR;AACH,aAFD;AAGH,WAJD,MAIK;AACDvb,YAAAA,QAAQ,CAACqZ,OAAD,CAAR;AACH;AACJ,SAVD;AAWH;AAED;;;;;AAGA,eAASc,eAAT,CAAyBf,OAAzB,EAAiC;AAC7B,YAAIkB,qBAAqB,GAAGnJ,IAAI,CAACzI,OAAL,CAAa4R,qBAAzC;;AACA,YAAGhB,QAAQ,CAACpV,QAAT,CAAmBoV,QAAQ,CAACC,OAAT,CAAiBH,OAAjB,EAA0Bd,WAA1B,CAAnB,EAA2DU,sBAA3D,CAAH,EAAsF;AAClFsB,UAAAA,qBAAqB,CAAChJ,MAAtB,CAA6B8H,OAA7B;AACH;AACJ,OA1HsB,CA4HvB;;;AACAjI,MAAAA,IAAI,CAAC0I,qBAAL,GAA6BA,qBAA7B;AACA1I,MAAAA,IAAI,CAACiJ,eAAL,GAAuBA,eAAvB;AACH;AAED;;;;;;;;;;;AASA,QAAIU,CAAC,GAAG,IAAR;AACA,QAAIU,iBAAiB,GAAG,IAAxB;AACA,QAAIC,cAAc,GAAG;AACjBC,MAAAA,SAAS,EAAE,IADM;AAEjBC,MAAAA,gBAAgB,EAAE,EAFD;AAGjBC,MAAAA,WAAW,EAAE,IAHI;AAIjBC,MAAAA,WAAW,EAAE,KAJI;AAMjB;AACAlC,MAAAA,cAAc,EAAE;AACZrO,QAAAA,UAAU,EAAE,IADA;AAEZG,QAAAA,UAAU,EAAE,IAFA;AAGZqQ,QAAAA,cAAc,EAAE,KAHJ;AAIZ5J,QAAAA,cAAc,EAAE,KAJJ;AAKZ7I,QAAAA,YAAY,EAAE,IALF;AAMZqI,QAAAA,qBAAqB,EAAE;AANX,OAPC;AAgBjBgI,MAAAA,IAAI,EAAE,UAAShR,OAAT,EAAiB;AACnBoS,QAAAA,CAAC,GAAGxB,QAAQ,CAACwB,CAAb;AACAU,QAAAA,iBAAiB,GAAG9S,OAApB;AAEA,YAAIqT,OAAO,GAAK,kBAAkBxc,MAAnB,IAA+BkE,SAAS,CAACuY,gBAAV,GAA6B,CAA5D,IAAmEvY,SAAS,CAACwY,cAA5F,CAJmB,CAMnB;;AACAR,QAAAA,cAAc,CAAC9B,cAAf,CAA8BlS,KAA9B,GAAsCsU,OAAtC,CAPmB,CAO4B;;AAE/CN,QAAAA,cAAc,CAACI,WAAf,GAA6B,IAA7B,CATmB,CAWnB;;AACAJ,QAAAA,cAAc,CAAC9B,cAAf,GAAgCL,QAAQ,CAAC4C,UAAT,CAAoBT,cAAc,CAAC9B,cAAnC,EAAmDjR,OAAO,CAACyT,qBAA3D,CAAhC;AAEA,eAAO,IAAI1C,gBAAJ,GAAuBC,IAAvB,CAA4BhR,OAA5B,EAAqC+S,cAAc,CAAC9B,cAApD,CAAP;AACH,OA/BgB;AAiCjB;AACAyC,MAAAA,WAAW,EAAE,UAASC,KAAT,EAAe;AACxB,YAAI5B,UAAU,GAAGK,CAAC,CAAC5C,cAAD,EAAiB4C,CAAC,CAACvC,kBAAD,CAAD,CAAsB,CAAtB,CAAjB,CAAlB;AACAkC,QAAAA,UAAU,CAACY,OAAX,CAAmB,UAASiB,IAAT,EAAc;AAC7B,cAAIC,eAAe,GAAGD,IAAI,CAACE,kBAA3B;;AACA,cAAGD,eAAe,IAAI,IAAtB,EAA2B;AACvB,gBAAGF,KAAH,EAAS;AACLE,cAAAA,eAAe,CAACtD,OAAhB;AACH,aAFD,MAGI;AACAsD,cAAAA,eAAe,CAACrD,QAAhB;AACH;AACJ;AACJ,SAVD;AAWH,OA/CgB;AAiDjB;AACAuD,MAAAA,UAAU,EAAE,UAASpb,MAAT,EAAiB6J,MAAjB,EAAwB;AAChC,YAAG,CAACuQ,cAAc,CAACI,WAAhB,IAA+B,CAACxa,MAAnC,EAA0C;AACtC;AACH;;AACD,YAAIoZ,UAAU,GAAGnB,QAAQ,CAACC,OAAT,CAAiBlY,MAAjB,EAAyB6W,cAAzB,KAA6C4C,CAAC,CAAC5C,cAAD,EAAiB7W,MAAjB,CAAD,IAA6ByZ,CAAC,CAAC5C,cAAD,EAAiB7W,MAAjB,CAAD,CAA0B,CAA1B,CAA3F;AACA,YAAIqb,MAAM,GAAGxR,MAAM,GAAG,QAAH,GAAc,SAAjC;;AAEA,YAAGuP,UAAH,EAAc;AACVA,UAAAA,UAAU,CAAC+B,kBAAX,CAA8BE,MAA9B;AACH;AACJ,OA5DgB;;AA8DjB;;;;;AAKAC,MAAAA,OAAO,EAAE,YAAU;AACflB,QAAAA,cAAc,CAACW,WAAf,CAA2B,KAA3B;AACH,OArEgB;AAuEjB;AACAQ,MAAAA,WAAW,EAAE,YAAU;AACnBnB,QAAAA,cAAc,CAACkB,OAAf;AACH,OA1EgB;AA4EjB;AACAE,MAAAA,SAAS,EAAE,YAAU;AACjBpB,QAAAA,cAAc,CAACW,WAAf,CAA2B,IAA3B;AACH,OA/EgB;;AAiFjB;;;;;;AAMAhB,MAAAA,MAAM,EAAE,UAAShC,OAAT,EAAkBwB,YAAlB,EAAgCjB,cAAhC,EAAgD;AACpD,YAAIc,UAAU,GAAGK,CAAC,CAAC5C,cAAD,EAAiBkB,OAAjB,CAAlB;AAEAqB,QAAAA,UAAU,CAACY,OAAX,CAAmB,UAASiB,IAAT,EAAe;AAC9BhD,UAAAA,QAAQ,CAACe,GAAT,CAAaiC,IAAb,EAAmB;AAAC,sBAAU1B,YAAY,GAAG;AAA1B,WAAnB;AAEA,cAAI2B,eAAe,GAAGD,IAAI,CAACE,kBAA3B;;AACA,cAAID,eAAe,IAAI,IAAvB,EAA6B;AACzBd,YAAAA,cAAc,CAACE,gBAAf,CAAgCN,OAAhC,CAAwC,UAASyB,QAAT,EAAkB;AACtDA,cAAAA,QAAQ,CAAC/Q,OAAT;AACH,aAFD;AAGH;;AAEDwQ,UAAAA,eAAe,GAAG,IAAI9T,OAAJ,CAAY6T,IAAZ,EAAkB3C,cAAlB,CAAlB;AACA8B,UAAAA,cAAc,CAACE,gBAAf,CAAgChX,IAAhC,CAAqC4X,eAArC;;AAEA,cAAG,CAACjD,QAAQ,CAACpV,QAAT,CAAkBoV,QAAQ,CAACC,OAAT,CAAiBH,OAAjB,EAA0Bd,WAA1B,CAAlB,EAA0DH,MAA1D,CAAJ,EAAsE;AAClE;AACAoE,YAAAA,eAAe,CAACrD,QAAhB;AACH;;AAEDoD,UAAAA,IAAI,CAACE,kBAAL,GAA0BD,eAA1B;AACH,SAnBD;AAoBH,OA9GgB;;AAgHjB;;;;;;;;AAQAQ,MAAAA,UAAU,EAAE,UAAStb,IAAT,EAAegZ,UAAf,EAA2B;AACnC,YAAI5R,QAAQ,GAAG4R,UAAU,CAAC+B,kBAA1B,CADmC,CAGnC;;AACA,YAAI,CAAC3T,QAAL,EAAe;AACX,iBAAO,IAAP;AACH,SANkC,CAQnC;AACA;;;AAEA,YAAIpH,IAAI,KAAK,KAAb,EAAmB;AACf,iBAAOoH,QAAQ,CAAC8B,CAAT,IAAc,CAAd,IAAmB,CAAC2O,QAAQ,CAAC0D,YAAT,CAAsBvC,UAAtB,CAA3B;AACH,SAFD,MAEO,IAAIhZ,IAAI,KAAK,QAAb,EAAuB;AAE1B;AACA,cAAIwb,gBAAgB,GAAGxB,cAAc,CAACG,WAAf,KAA+B/S,QAAQ,CAAC8B,CAA/D;AACA8Q,UAAAA,cAAc,CAACG,WAAf,GAA6B/S,QAAQ,CAAC8B,CAAtC,CAJ0B,CAM1B;;AACA,cAAI5F,MAAM,GAAGkY,gBAAgB,GAAG,CAAH,GAAO,CAApC;AAEA,iBAAOlY,MAAM,IAAI,IAAI8D,QAAQ,CAAC8B,CAAjB,CAAN,GAA4B2O,QAAQ,CAAC0D,YAAT,CAAsBvC,UAAtB,CAA5B,GAAgEA,UAAU,CAAC/K,YAA3E,IAA2F+K,UAAU,CAACG,YAA7G;AACH;AACJ,OAhJgB;;AAkJjB;;;;;;;;AAQAH,MAAAA,UAAU,EAAE,UAASyC,aAAT,EAAuB;AAC/B;AACA,YAAIpC,CAAC,CAAClC,kBAAD,EAAqBsE,aAArB,CAAD,CAAqCtc,MAAzC,EAAiD;AAC7C,iBAAOka,CAAC,CAAC5C,cAAD,EAAiB4C,CAAC,CAACpC,gBAAD,EAAmBwE,aAAnB,CAAD,CAAmC,CAAnC,CAAjB,CAAD,CAA0D,CAA1D,CAAP;AACH;;AACD,eAAOpC,CAAC,CAAC5C,cAAD,EAAiBgF,aAAjB,CAAD,CAAiC,CAAjC,CAAP;AACH,OAhKgB;;AAkKjB;;;;;;;;AAQAtC,MAAAA,YAAY,EAAE,UAASxB,OAAT,EAAkB;AAC5B,eAAO0B,CAAC,CAAC,cAAD,EAAiBA,CAAC,CAAC5C,cAAD,EAAiBkB,OAAjB,CAAD,CAA2B,CAA3B,CAAjB,CAAD,CAAkD,CAAlD,EAAqDwB,YAA5D;AACH,OA5KgB;;AA8KjB;;;;;AAKAtJ,MAAAA,MAAM,EAAE,UAAS8H,OAAT,EAAkB;AACtB,YAAGA,OAAO,IAAI,IAAd,EAAoB;AAEpB,YAAIqB,UAAU,GAAGK,CAAC,CAAC5C,cAAD,EAAiBkB,OAAjB,CAAD,CAA2B,CAA3B,CAAjB;;AACA,YAAIqB,UAAU,IAAI,IAAlB,EAAwB;AACpB,cAAI8B,eAAe,GAAG9B,UAAU,CAAC+B,kBAAjC;;AACA,cAAGD,eAAe,IAAI,IAAtB,EAA2B;AACvBA,YAAAA,eAAe,CAACxQ,OAAhB;AACH;;AAED0O,UAAAA,UAAU,CAAC+B,kBAAX,GAAgC,IAAhC,CANoB,CAQpB;;AACAlD,UAAAA,QAAQ,CAAC6D,MAAT,CAAgBrC,CAAC,CAAC,cAAD,EAAiB1B,OAAjB,CAAD,CAA2B,CAA3B,CAAhB;AACAE,UAAAA,QAAQ,CAAC6D,MAAT,CAAgBrC,CAAC,CAAC5C,cAAD,EAAiBkB,OAAjB,CAAD,CAA2B,CAA3B,CAAhB;AACH;AACJ,OAnMgB;;AAqMjB;;;;;;;AAOA8B,MAAAA,MAAM,EAAE,UAAS9B,OAAT,EAAkBwB,YAAlB,EAAgC;AACpC;AACA;AACA;AACA5O,QAAAA,YAAY,CAACyP,cAAc,CAACC,SAAhB,CAAZ;AACAD,QAAAA,cAAc,CAACC,SAAf,GAA2Bzb,UAAU,CAAC,YAAU;AAC5Cwb,UAAAA,cAAc,CAACE,gBAAf,CAAgCN,OAAhC,CAAwC,UAASyB,QAAT,EAAkB;AACtDA,YAAAA,QAAQ,CAAC9R,OAAT,GADsD,CAGtD;AACA;;AACA8O,YAAAA,YAAY,CAACsD,YAAb,CAA0B9D,QAAQ,CAACnJ,KAAT,CAAe2K,CAAC,CAACvC,kBAAD,CAAD,CAAsB,CAAtB,CAAf,IAA2C,CAArE;AACH,WAND;AAOH,SARoC,EAQlC,GARkC,CAArC,CALoC,CAepC;;AACAe,QAAAA,QAAQ,CAACe,GAAT,CAAaS,CAAC,CAAC5C,cAAD,EAAiBkB,OAAjB,CAAD,CAA2B,CAA3B,CAAb,EAA4C;AAAC,oBAAUwB,YAAY,GAAG;AAA1B,SAA5C;;AAEA,YAAGY,iBAAiB,CAACX,gBAArB,EAAsC;AAClCvB,UAAAA,QAAQ,CAACe,GAAT,CAAaS,CAAC,CAAC5C,cAAD,EAAiBkB,OAAjB,CAAD,CAA2B,CAA3B,EAA8B5C,UAA3C,EAAuD;AAAC,sBAAUoE,YAAY,GAAG;AAA1B,WAAvD;AACH;AACJ,OAjOgB;;AAmOjB;;;;;;;AAOAJ,MAAAA,WAAW,EAAE,YAAW;AACpB,YAAIC,UAAU,GAAGjb,QAAQ,CAACa,aAAT,CAAuB,KAAvB,CAAjB;AACAoa,QAAAA,UAAU,CAAClW,SAAX,GAAuB0T,UAAvB;AAEA,YAAIpP,QAAQ,GAAGrJ,QAAQ,CAACa,aAAT,CAAuB,KAAvB,CAAf;AACAwI,QAAAA,QAAQ,CAACtE,SAAT,GAAqB,aAArB;AAEA,eAAO;AACHkW,UAAAA,UAAU,EAAEA,UADT;AAEH5R,UAAAA,QAAQ,EAAEA;AAFP,SAAP;AAIH;AArPgB,KAArB;AAwPA,WAAO;AACH4S,MAAAA,cAAc,EAAEA;AADb,KAAP;AAGH,GAtc0B,EAA3B;AAucH,CAxcD,EAwcGlc,MAxcH,EAwcWC,QAxcX","sourcesContent":["/*!\n* Scrolloverflow 2.0.6 module for fullPage.js >= 3\n* https://github.com/alvarotrigo/fullPage.js\n*/\n/**\n* Customized version of iScroll.js 0.1.3\n* It fixes bugs affecting its integration with fullpage.js\n* @license\n*/\n/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */\n(function (window, document, Math) {\nvar rAF = window.requestAnimationFrame  ||\n    window.webkitRequestAnimationFrame  ||\n    window.mozRequestAnimationFrame     ||\n    window.oRequestAnimationFrame       ||\n    window.msRequestAnimationFrame      ||\n    function (callback) { window.setTimeout(callback, 1000 / 60); };\n\nvar utils = (function () {\n    var me = {};\n\n    var _elementStyle = document.createElement('div').style;\n    var _vendor = (function () {\n        var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n            transform,\n            i = 0,\n            l = vendors.length;\n\n        for ( ; i < l; i++ ) {\n            transform = vendors[i] + 'ransform';\n            if ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);\n        }\n\n        return false;\n    })();\n\n    function _prefixStyle (style) {\n        if ( _vendor === false ) return false;\n        if ( _vendor === '' ) return style;\n        return _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n    }\n\n    me.getTime = Date.now || function getTime () { return new Date().getTime(); };\n\n    me.extend = function (target, obj) {\n        for ( var i in obj ) {\n            target[i] = obj[i];\n        }\n    };\n\n    me.addEvent = function (el, type, fn, capture) {\n        el.addEventListener(type, fn, !!capture);\n    };\n\n    me.removeEvent = function (el, type, fn, capture) {\n        el.removeEventListener(type, fn, !!capture);\n    };\n\n    me.prefixPointerEvent = function (pointerEvent) {\n        return window.MSPointerEvent ?\n            'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8):\n            pointerEvent;\n    };\n\n    me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n        var distance = current - start,\n            speed = Math.abs(distance) / time,\n            destination,\n            duration;\n\n        deceleration = deceleration === undefined ? 0.0006 : deceleration;\n\n        destination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );\n        duration = speed / deceleration;\n\n        if ( destination < lowerMargin ) {\n            destination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;\n            distance = Math.abs(destination - current);\n            duration = distance / speed;\n        } else if ( destination > 0 ) {\n            destination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;\n            distance = Math.abs(current) + destination;\n            duration = distance / speed;\n        }\n\n        return {\n            destination: Math.round(destination),\n            duration: duration\n        };\n    };\n\n    var _transform = _prefixStyle('transform');\n\n    me.extend(me, {\n        hasTransform: _transform !== false,\n        hasPerspective: _prefixStyle('perspective') in _elementStyle,\n        hasTouch: 'ontouchstart' in window,\n        hasPointer: !!(window.PointerEvent || window.MSPointerEvent), // IE10 is prefixed\n        hasTransition: _prefixStyle('transition') in _elementStyle\n    });\n\n    /*\n    This should find all Android browsers lower than build 535.19 (both stock browser and webview)\n    - galaxy S2 is ok\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S3 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S4 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S5 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n   - galaxy S6 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n  */\n    me.isBadAndroid = (function() {\n        var appVersion = window.navigator.appVersion;\n        // Android browser is not a chrome browser.\n        if (/Android/.test(appVersion) && !(/Chrome\\/\\d/.test(appVersion))) {\n            var safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n            if(safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n                return parseFloat(safariVersion[1]) < 535.19;\n            } else {\n                return true;\n            }\n        } else {\n            return false;\n        }\n    })();\n\n    me.extend(me.style = {}, {\n        transform: _transform,\n        transitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n        transitionDuration: _prefixStyle('transitionDuration'),\n        transitionDelay: _prefixStyle('transitionDelay'),\n        transformOrigin: _prefixStyle('transformOrigin')\n    });\n\n    me.hasClass = function (e, c) {\n        var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n        return re.test(e.className);\n    };\n\n    me.addClass = function (e, c) {\n        if ( me.hasClass(e, c) ) {\n            return;\n        }\n\n        var newclass = e.className.split(' ');\n        newclass.push(c);\n        e.className = newclass.join(' ');\n    };\n\n    me.removeClass = function (e, c) {\n        if ( !me.hasClass(e, c) ) {\n            return;\n        }\n\n        var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n        e.className = e.className.replace(re, ' ');\n    };\n\n    me.offset = function (el) {\n        var left = -el.offsetLeft,\n            top = -el.offsetTop;\n\n        // jshint -W084\n        while (el = el.offsetParent) {\n            left -= el.offsetLeft;\n            top -= el.offsetTop;\n        }\n        // jshint +W084\n\n        return {\n            left: left,\n            top: top\n        };\n    };\n\n    me.preventDefaultException = function (el, exceptions) {\n        for ( var i in exceptions ) {\n            if ( exceptions[i].test(el[i]) ) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    me.extend(me.eventType = {}, {\n        touchstart: 1,\n        touchmove: 1,\n        touchend: 1,\n\n        mousedown: 2,\n        mousemove: 2,\n        mouseup: 2,\n\n        pointerdown: 3,\n        pointermove: 3,\n        pointerup: 3,\n\n        MSPointerDown: 3,\n        MSPointerMove: 3,\n        MSPointerUp: 3\n    });\n\n    me.extend(me.ease = {}, {\n        quadratic: {\n            style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n            fn: function (k) {\n                return k * ( 2 - k );\n            }\n        },\n        circular: {\n            style: 'cubic-bezier(0.1, 0.57, 0.1, 1)',   // Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n            fn: function (k) {\n                return Math.sqrt( 1 - ( --k * k ) );\n            }\n        },\n        back: {\n            style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n            fn: function (k) {\n                var b = 4;\n                return ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;\n            }\n        },\n        bounce: {\n            style: '',\n            fn: function (k) {\n                if ( ( k /= 1 ) < ( 1 / 2.75 ) ) {\n                    return 7.5625 * k * k;\n                } else if ( k < ( 2 / 2.75 ) ) {\n                    return 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n                } else if ( k < ( 2.5 / 2.75 ) ) {\n                    return 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n                } else {\n                    return 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n                }\n            }\n        },\n        elastic: {\n            style: '',\n            fn: function (k) {\n                var f = 0.22,\n                    e = 0.4;\n\n                if ( k === 0 ) { return 0; }\n                if ( k == 1 ) { return 1; }\n\n                return ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );\n            }\n        }\n    });\n\n    me.tap = function (e, eventName) {\n        var ev = document.createEvent('Event');\n        ev.initEvent(eventName, true, true);\n        ev.pageX = e.pageX;\n        ev.pageY = e.pageY;\n        e.target.dispatchEvent(ev);\n    };\n\n    me.click = function (e) {\n        var target = e.target,\n            ev;\n\n        if ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {\n            // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n            // initMouseEvent is deprecated.\n            ev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\n            ev.initEvent('click', true, true);\n            ev.view = e.view || window;\n            ev.detail = 1;\n            ev.screenX = target.screenX || 0;\n            ev.screenY = target.screenY || 0;\n            ev.clientX = target.clientX || 0;\n            ev.clientY = target.clientY || 0;\n            ev.ctrlKey = !!e.ctrlKey;\n            ev.altKey = !!e.altKey;\n            ev.shiftKey = !!e.shiftKey;\n            ev.metaKey = !!e.metaKey;\n            ev.button = 0;\n            ev.relatedTarget = null;\n            ev._constructed = true;\n            target.dispatchEvent(ev);\n        }\n    };\n\n    return me;\n})();\nfunction IScroll (el, options) {\n    this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n    this.scroller = this.wrapper.children[0];\n    this.scrollerStyle = this.scroller.style;       // cache style for better performance\n\n    this.options = {\n\n        resizeScrollbars: true,\n\n        mouseWheelSpeed: 20,\n\n        snapThreshold: 0.334,\n\n// INSERT POINT: OPTIONS\n        disablePointer : !utils.hasPointer,\n        disableTouch : utils.hasPointer || !utils.hasTouch,\n        disableMouse : utils.hasPointer || utils.hasTouch,\n        startX: 0,\n        startY: 0,\n        scrollY: true,\n        directionLockThreshold: 5,\n        momentum: true,\n\n        bounce: true,\n        bounceTime: 600,\n        bounceEasing: '',\n\n        preventDefault: true,\n        preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/ },\n\n        HWCompositing: true,\n        useTransition: true,\n        useTransform: true,\n        bindToWrapper: typeof window.onmousedown === \"undefined\"\n    };\n\n    for ( var i in options ) {\n        this.options[i] = options[i];\n    }\n\n    // Normalize options\n    this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n\n    this.options.useTransition = utils.hasTransition && this.options.useTransition;\n    this.options.useTransform = utils.hasTransform && this.options.useTransform;\n\n    this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n    // If you want eventPassthrough I have to lock one of the axes\n    this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n    this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;\n\n    // With eventPassthrough we also need lockDirection mechanism\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n    this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n\n    this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n    if ( this.options.tap === true ) {\n        this.options.tap = 'tap';\n    }\n\n    // https://github.com/cubiq/iscroll/issues/1029\n    if (!this.options.useTransition && !this.options.useTransform) {\n        if(!(/relative|absolute/i).test(this.scrollerStyle.position)) {\n            this.scrollerStyle.position = \"relative\";\n        }\n    }\n\n    if ( this.options.shrinkScrollbars == 'scale' ) {\n        this.options.useTransition = false;\n    }\n\n    this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;\n\n// INSERT POINT: NORMALIZATION\n\n    // Some defaults\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this._events = {};\n\n// INSERT POINT: DEFAULTS\n\n    this._init();\n    this.refresh();\n\n    this.scrollTo(this.options.startX, this.options.startY);\n    this.enable();\n}\n\nIScroll.prototype = {\n    version: '5.2.0',\n\n    _init: function () {\n        this._initEvents();\n\n        if ( this.options.scrollbars || this.options.indicators ) {\n            this._initIndicators();\n        }\n\n        if ( this.options.mouseWheel ) {\n            this._initWheel();\n        }\n\n        if ( this.options.snap ) {\n            this._initSnap();\n        }\n\n        if ( this.options.keyBindings ) {\n            this._initKeys();\n        }\n\n// INSERT POINT: _init\n\n    },\n\n    destroy: function () {\n        this._initEvents(true);\n        clearTimeout(this.resizeTimeout);\n        this.resizeTimeout = null;\n        this._execEvent('destroy');\n    },\n\n    _transitionEnd: function (e) {\n        if ( e.target != this.scroller || !this.isInTransition ) {\n            return;\n        }\n\n        this._transitionTime();\n        if ( !this.resetPosition(this.options.bounceTime) ) {\n            this.isInTransition = false;\n            this._execEvent('scrollEnd');\n        }\n    },\n\n    _start: function (e) {\n        // React to left mouse button only\n        if ( utils.eventType[e.type] != 1 ) {\n          // for button property\n          // http://unixpapa.com/js/mouse.html\n          var button;\n        if (!e.which) {\n          /* IE case */\n          button = (e.button < 2) ? 0 :\n                   ((e.button == 4) ? 1 : 2);\n        } else {\n          /* All others */\n          button = e.button;\n        }\n            if ( button !== 0 ) {\n                return;\n            }\n        }\n\n        if ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {\n            return;\n        }\n\n        if ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n            e.preventDefault();\n        }\n\n        var point = e.touches ? e.touches[0] : e,\n            pos;\n\n        this.initiated  = utils.eventType[e.type];\n        this.moved      = false;\n        this.distX      = 0;\n        this.distY      = 0;\n        this.directionX = 0;\n        this.directionY = 0;\n        this.directionLocked = 0;\n\n        this.startTime = utils.getTime();\n\n        if ( this.options.useTransition && this.isInTransition ) {\n            this._transitionTime();\n            this.isInTransition = false;\n            pos = this.getComputedPosition();\n            this._translate(Math.round(pos.x), Math.round(pos.y));\n            this._execEvent('scrollEnd');\n        } else if ( !this.options.useTransition && this.isAnimating ) {\n            this.isAnimating = false;\n            this._execEvent('scrollEnd');\n        }\n\n        this.startX    = this.x;\n        this.startY    = this.y;\n        this.absStartX = this.x;\n        this.absStartY = this.y;\n        this.pointX    = point.pageX;\n        this.pointY    = point.pageY;\n\n        this._execEvent('beforeScrollStart');\n    },\n\n    _move: function (e) {\n        if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n            return;\n        }\n\n        if ( this.options.preventDefault ) {    // increases performance on Android? TODO: check!\n            e.preventDefault();\n        }\n\n        var point       = e.touches ? e.touches[0] : e,\n            deltaX      = point.pageX - this.pointX,\n            deltaY      = point.pageY - this.pointY,\n            timestamp   = utils.getTime(),\n            newX, newY,\n            absDistX, absDistY;\n\n        this.pointX     = point.pageX;\n        this.pointY     = point.pageY;\n\n        this.distX      += deltaX;\n        this.distY      += deltaY;\n        absDistX        = Math.abs(this.distX);\n        absDistY        = Math.abs(this.distY);\n\n        // We need to move at least 10 pixels for the scrolling to initiate\n        if ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {\n            return;\n        }\n\n        // If you are scrolling in one direction lock the other\n        if ( !this.directionLocked && !this.options.freeScroll ) {\n            if ( absDistX > absDistY + this.options.directionLockThreshold ) {\n                this.directionLocked = 'h';     // lock horizontally\n            } else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {\n                this.directionLocked = 'v';     // lock vertically\n            } else {\n                this.directionLocked = 'n';     // no lock\n            }\n        }\n\n        if ( this.directionLocked == 'h' ) {\n            if ( this.options.eventPassthrough == 'vertical' ) {\n                e.preventDefault();\n            } else if ( this.options.eventPassthrough == 'horizontal' ) {\n                this.initiated = false;\n                return;\n            }\n\n            deltaY = 0;\n        } else if ( this.directionLocked == 'v' ) {\n            if ( this.options.eventPassthrough == 'horizontal' ) {\n                e.preventDefault();\n            } else if ( this.options.eventPassthrough == 'vertical' ) {\n                this.initiated = false;\n                return;\n            }\n\n            deltaX = 0;\n        }\n\n        deltaX = this.hasHorizontalScroll ? deltaX : 0;\n        deltaY = this.hasVerticalScroll ? deltaY : 0;\n\n        newX = this.x + deltaX;\n        newY = this.y + deltaY;\n\n        // Slow down if outside of the boundaries\n        if ( newX > 0 || newX < this.maxScrollX ) {\n            newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n        }\n        if ( newY > 0 || newY < this.maxScrollY ) {\n            newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n        }\n\n        this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n        this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n        if ( !this.moved ) {\n            this._execEvent('scrollStart');\n        }\n\n        this.moved = true;\n\n        this._translate(newX, newY);\n\n/* REPLACE START: _move */\n\n        if ( timestamp - this.startTime > 300 ) {\n            this.startTime = timestamp;\n            this.startX = this.x;\n            this.startY = this.y;\n        }\n\n/* REPLACE END: _move */\n\n    },\n\n    _end: function (e) {\n        if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n            return;\n        }\n\n        if ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n            e.preventDefault();\n        }\n\n        var point = e.changedTouches ? e.changedTouches[0] : e,\n            momentumX,\n            momentumY,\n            duration = utils.getTime() - this.startTime,\n            newX = Math.round(this.x),\n            newY = Math.round(this.y),\n            distanceX = Math.abs(newX - this.startX),\n            distanceY = Math.abs(newY - this.startY),\n            time = 0,\n            easing = '';\n\n        this.isInTransition = 0;\n        this.initiated = 0;\n        this.endTime = utils.getTime();\n\n        // reset if we are outside of the boundaries\n        if ( this.resetPosition(this.options.bounceTime) ) {\n            return;\n        }\n\n        this.scrollTo(newX, newY);  // ensures that the last position is rounded\n\n        // we scrolled less than 10 pixels\n        if ( !this.moved ) {\n            if ( this.options.tap ) {\n                utils.tap(e, this.options.tap);\n            }\n\n            if ( this.options.click ) {\n                utils.click(e);\n            }\n\n            this._execEvent('scrollCancel');\n            return;\n        }\n\n        if ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {\n            this._execEvent('flick');\n            return;\n        }\n\n        // start momentum animation if needed\n        if ( this.options.momentum && duration < 300 ) {\n            momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };\n            momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };\n            newX = momentumX.destination;\n            newY = momentumY.destination;\n            time = Math.max(momentumX.duration, momentumY.duration);\n            this.isInTransition = 1;\n        }\n\n\n        if ( this.options.snap ) {\n            var snap = this._nearestSnap(newX, newY);\n            this.currentPage = snap;\n            time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(newX - snap.x), 1000),\n                        Math.min(Math.abs(newY - snap.y), 1000)\n                    ), 300);\n            newX = snap.x;\n            newY = snap.y;\n\n            this.directionX = 0;\n            this.directionY = 0;\n            easing = this.options.bounceEasing;\n        }\n\n// INSERT POINT: _end\n\n        if ( newX != this.x || newY != this.y ) {\n            // change easing function when scroller goes out of the boundaries\n            if ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {\n                easing = utils.ease.quadratic;\n            }\n\n            this.scrollTo(newX, newY, time, easing);\n            return;\n        }\n\n        this._execEvent('scrollEnd');\n    },\n\n    _resize: function () {\n        var that = this;\n\n        clearTimeout(this.resizeTimeout);\n\n        this.resizeTimeout = setTimeout(function () {\n            that.refresh();\n        }, this.options.resizePolling);\n    },\n\n    resetPosition: function (time) {\n        var x = this.x,\n            y = this.y;\n\n        time = time || 0;\n\n        if ( !this.hasHorizontalScroll || this.x > 0 ) {\n            x = 0;\n        } else if ( this.x < this.maxScrollX ) {\n            x = this.maxScrollX;\n        }\n\n        if ( !this.hasVerticalScroll || this.y > 0 ) {\n            y = 0;\n        } else if ( this.y < this.maxScrollY ) {\n            y = this.maxScrollY;\n        }\n\n        if ( x == this.x && y == this.y ) {\n            return false;\n        }\n\n        this.scrollTo(x, y, time, this.options.bounceEasing);\n\n        return true;\n    },\n\n    disable: function () {\n        this.enabled = false;\n    },\n\n    enable: function () {\n        this.enabled = true;\n    },\n\n    refresh: function () {\n        var rf = this.wrapper.offsetHeight;     // Force reflow\n\n        this.wrapperWidth   = this.wrapper.clientWidth;\n        this.wrapperHeight  = this.wrapper.clientHeight;\n\n/* REPLACE START: refresh */\n\n        this.scrollerWidth  = this.scroller.offsetWidth;\n        this.scrollerHeight = this.scroller.offsetHeight;\n\n        this.maxScrollX     = this.wrapperWidth - this.scrollerWidth;\n        this.maxScrollY     = this.wrapperHeight - this.scrollerHeight;\n\n/* REPLACE END: refresh */\n\n        this.hasHorizontalScroll    = this.options.scrollX && this.maxScrollX < 0;\n        this.hasVerticalScroll      = this.options.scrollY && this.maxScrollY < 0;\n\n        if ( !this.hasHorizontalScroll ) {\n            this.maxScrollX = 0;\n            this.scrollerWidth = this.wrapperWidth;\n        }\n\n        if ( !this.hasVerticalScroll ) {\n            this.maxScrollY = 0;\n            this.scrollerHeight = this.wrapperHeight;\n        }\n\n        this.endTime = 0;\n        this.directionX = 0;\n        this.directionY = 0;\n\n        this.wrapperOffset = utils.offset(this.wrapper);\n\n        this._execEvent('refresh');\n\n        this.resetPosition();\n\n// INSERT POINT: _refresh\n\n    },\n\n    on: function (type, fn) {\n        if ( !this._events[type] ) {\n            this._events[type] = [];\n        }\n\n        this._events[type].push(fn);\n    },\n\n    off: function (type, fn) {\n        if ( !this._events[type] ) {\n            return;\n        }\n\n        var index = this._events[type].indexOf(fn);\n\n        if ( index > -1 ) {\n            this._events[type].splice(index, 1);\n        }\n    },\n\n    _execEvent: function (type) {\n        if ( !this._events[type] ) {\n            return;\n        }\n\n        var i = 0,\n            l = this._events[type].length;\n\n        if ( !l ) {\n            return;\n        }\n\n        for ( ; i < l; i++ ) {\n            this._events[type][i].apply(this, [].slice.call(arguments, 1));\n        }\n    },\n\n    scrollBy: function (x, y, time, easing) {\n        x = this.x + x;\n        y = this.y + y;\n        time = time || 0;\n\n        this.scrollTo(x, y, time, easing);\n    },\n\n    scrollTo: function (x, y, time, easing) {\n        easing = easing || utils.ease.circular;\n\n        this.isInTransition = this.options.useTransition && time > 0;\n        var transitionType = this.options.useTransition && easing.style;\n        if ( !time || transitionType ) {\n                if(transitionType) {\n                    this._transitionTimingFunction(easing.style);\n                    this._transitionTime(time);\n                }\n            this._translate(x, y);\n        } else {\n            this._animate(x, y, time, easing.fn);\n        }\n    },\n\n    scrollToElement: function (el, time, offsetX, offsetY, easing) {\n        el = el.nodeType ? el : this.scroller.querySelector(el);\n\n        if ( !el ) {\n            return;\n        }\n\n        var pos = utils.offset(el);\n\n        pos.left -= this.wrapperOffset.left;\n        pos.top  -= this.wrapperOffset.top;\n\n        // if offsetX/Y are true we center the element to the screen\n        if ( offsetX === true ) {\n            offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n        }\n        if ( offsetY === true ) {\n            offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n        }\n\n        pos.left -= offsetX || 0;\n        pos.top  -= offsetY || 0;\n\n        pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n        pos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;\n\n        time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;\n\n        this.scrollTo(pos.left, pos.top, time, easing);\n    },\n\n    _transitionTime: function (time) {\n        if (!this.options.useTransition) {\n            return;\n        }\n        time = time || 0;\n        var durationProp = utils.style.transitionDuration;\n        if(!durationProp) {\n            return;\n        }\n\n        this.scrollerStyle[durationProp] = time + 'ms';\n\n        if ( !time && utils.isBadAndroid ) {\n            this.scrollerStyle[durationProp] = '0.0001ms';\n            // remove 0.0001ms\n            var self = this;\n            rAF(function() {\n                if(self.scrollerStyle[durationProp] === '0.0001ms') {\n                    self.scrollerStyle[durationProp] = '0s';\n                }\n            });\n        }\n\n\n        if ( this.indicators ) {\n            for ( var i = this.indicators.length; i--; ) {\n                this.indicators[i].transitionTime(time);\n            }\n        }\n\n\n// INSERT POINT: _transitionTime\n\n    },\n\n    _transitionTimingFunction: function (easing) {\n        this.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n\n        if ( this.indicators ) {\n            for ( var i = this.indicators.length; i--; ) {\n                this.indicators[i].transitionTimingFunction(easing);\n            }\n        }\n\n\n// INSERT POINT: _transitionTimingFunction\n\n    },\n\n    _translate: function (x, y) {\n        if ( this.options.useTransform ) {\n\n/* REPLACE START: _translate */\n\n            this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n\n/* REPLACE END: _translate */\n\n        } else {\n            x = Math.round(x);\n            y = Math.round(y);\n            this.scrollerStyle.left = x + 'px';\n            this.scrollerStyle.top = y + 'px';\n        }\n\n        this.x = x;\n        this.y = y;\n\n\n    if ( this.indicators ) {\n        for ( var i = this.indicators.length; i--; ) {\n            this.indicators[i].updatePosition();\n        }\n    }\n\n\n// INSERT POINT: _translate\n\n    },\n\n    _initEvents: function (remove) {\n        var eventType = remove ? utils.removeEvent : utils.addEvent,\n            target = this.options.bindToWrapper ? this.wrapper : window;\n\n        eventType(window, 'orientationchange', this);\n        eventType(window, 'resize', this);\n\n        if ( this.options.click ) {\n            eventType(this.wrapper, 'click', this, true);\n        }\n\n        if ( !this.options.disableMouse ) {\n            eventType(this.wrapper, 'mousedown', this);\n            eventType(target, 'mousemove', this);\n            eventType(target, 'mousecancel', this);\n            eventType(target, 'mouseup', this);\n        }\n\n        if ( utils.hasPointer && !this.options.disablePointer ) {\n            eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n            eventType(target, utils.prefixPointerEvent('pointermove'), this);\n            eventType(target, utils.prefixPointerEvent('pointercancel'), this);\n            eventType(target, utils.prefixPointerEvent('pointerup'), this);\n        }\n\n        if ( utils.hasTouch && !this.options.disableTouch ) {\n            eventType(this.wrapper, 'touchstart', this);\n            eventType(target, 'touchmove', this);\n            eventType(target, 'touchcancel', this);\n            eventType(target, 'touchend', this);\n        }\n\n        eventType(this.scroller, 'transitionend', this);\n        eventType(this.scroller, 'webkitTransitionEnd', this);\n        eventType(this.scroller, 'oTransitionEnd', this);\n        eventType(this.scroller, 'MSTransitionEnd', this);\n    },\n\n    getComputedPosition: function () {\n        var matrix = window.getComputedStyle(this.scroller, null),\n            x, y;\n\n        if ( this.options.useTransform ) {\n            matrix = matrix[utils.style.transform].split(')')[0].split(', ');\n            x = +(matrix[12] || matrix[4]);\n            y = +(matrix[13] || matrix[5]);\n        } else {\n            x = +matrix.left.replace(/[^-\\d.]/g, '');\n            y = +matrix.top.replace(/[^-\\d.]/g, '');\n        }\n\n        return { x: x, y: y };\n    },\n    _initIndicators: function () {\n        var interactive = this.options.interactiveScrollbars,\n            customStyle = typeof this.options.scrollbars != 'string',\n            indicators = [],\n            indicator;\n\n        var that = this;\n\n        this.indicators = [];\n\n        if ( this.options.scrollbars ) {\n            // Vertical scrollbar\n            if ( this.options.scrollY ) {\n                indicator = {\n                    el: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n                    interactive: interactive,\n                    defaultScrollbars: true,\n                    customStyle: customStyle,\n                    resize: this.options.resizeScrollbars,\n                    shrink: this.options.shrinkScrollbars,\n                    fade: this.options.fadeScrollbars,\n                    listenX: false\n                };\n\n                this.wrapper.appendChild(indicator.el);\n                indicators.push(indicator);\n            }\n\n            // Horizontal scrollbar\n            if ( this.options.scrollX ) {\n                indicator = {\n                    el: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n                    interactive: interactive,\n                    defaultScrollbars: true,\n                    customStyle: customStyle,\n                    resize: this.options.resizeScrollbars,\n                    shrink: this.options.shrinkScrollbars,\n                    fade: this.options.fadeScrollbars,\n                    listenY: false\n                };\n\n                this.wrapper.appendChild(indicator.el);\n                indicators.push(indicator);\n            }\n        }\n\n        if ( this.options.indicators ) {\n            // TODO: check concat compatibility\n            indicators = indicators.concat(this.options.indicators);\n        }\n\n        for ( var i = indicators.length; i--; ) {\n            this.indicators.push( new Indicator(this, indicators[i]) );\n        }\n\n        // TODO: check if we can use array.map (wide compatibility and performance issues)\n        function _indicatorsMap (fn) {\n            if (that.indicators) {\n                for ( var i = that.indicators.length; i--; ) {\n                    fn.call(that.indicators[i]);\n                }\n            }\n        }\n\n        if ( this.options.fadeScrollbars ) {\n            this.on('scrollEnd', function () {\n                _indicatorsMap(function () {\n                    this.fade();\n                });\n            });\n\n            this.on('scrollCancel', function () {\n                _indicatorsMap(function () {\n                    this.fade();\n                });\n            });\n\n            this.on('scrollStart', function () {\n                _indicatorsMap(function () {\n                    this.fade(1);\n                });\n            });\n\n            this.on('beforeScrollStart', function () {\n                _indicatorsMap(function () {\n                    this.fade(1, true);\n                });\n            });\n        }\n\n\n        this.on('refresh', function () {\n            _indicatorsMap(function () {\n                this.refresh();\n            });\n        });\n\n        this.on('destroy', function () {\n            _indicatorsMap(function () {\n                this.destroy();\n            });\n\n            delete this.indicators;\n        });\n    },\n\n    _initWheel: function () {\n        utils.addEvent(this.wrapper, 'wheel', this);\n        utils.addEvent(this.wrapper, 'mousewheel', this);\n        utils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n\n        this.on('destroy', function () {\n            clearTimeout(this.wheelTimeout);\n            this.wheelTimeout = null;\n            utils.removeEvent(this.wrapper, 'wheel', this);\n            utils.removeEvent(this.wrapper, 'mousewheel', this);\n            utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n        });\n    },\n\n    _wheel: function (e) {\n        if ( !this.enabled ) {\n            return;\n        }\n\n        // in IE we can not preventDefault() or otherwise it won't scroll to the prev/next section.\n        // I commented on it here back then: https://github.com/cubiq/iscroll/issues/980\n        // isIE taken from: https://stackoverflow.com/a/49986758/1081396\n        var isIE = window.navigator.userAgent.match(/(MSIE|Trident)/);\n        if(!isIE){\n            e.preventDefault();\n        }\n\n        var wheelDeltaX, wheelDeltaY,\n            newX, newY,\n            that = this;\n\n        if ( this.wheelTimeout === undefined ) {\n            that._execEvent('scrollStart');\n        }\n\n        // Execute the scrollEnd event after 400ms the wheel stopped scrolling\n        clearTimeout(this.wheelTimeout);\n        this.wheelTimeout = setTimeout(function () {\n            if(!that.options.snap) {\n                that._execEvent('scrollEnd');\n            }\n            that.wheelTimeout = undefined;\n        }, 400);\n\n        if ( 'deltaX' in e ) {\n            if (e.deltaMode === 1) {\n                wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n                wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n            } else {\n                wheelDeltaX = -e.deltaX;\n                wheelDeltaY = -e.deltaY;\n            }\n        } else if ( 'wheelDeltaX' in e ) {\n            wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n            wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n        } else if ( 'wheelDelta' in e ) {\n            wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n        } else if ( 'detail' in e ) {\n            wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n        } else {\n            return;\n        }\n\n        wheelDeltaX *= this.options.invertWheelDirection;\n        wheelDeltaY *= this.options.invertWheelDirection;\n\n        if ( !this.hasVerticalScroll ) {\n            wheelDeltaX = wheelDeltaY;\n            wheelDeltaY = 0;\n        }\n\n        if ( this.options.snap ) {\n            newX = this.currentPage.pageX;\n            newY = this.currentPage.pageY;\n\n            if ( wheelDeltaX > 0 ) {\n                newX--;\n            } else if ( wheelDeltaX < 0 ) {\n                newX++;\n            }\n\n            if ( wheelDeltaY > 0 ) {\n                newY--;\n            } else if ( wheelDeltaY < 0 ) {\n                newY++;\n            }\n\n            this.goToPage(newX, newY);\n\n            return;\n        }\n\n        newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n        newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n        this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n        this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n        if ( newX > 0 ) {\n            newX = 0;\n        } else if ( newX < this.maxScrollX ) {\n            newX = this.maxScrollX;\n        }\n\n        if ( newY > 0 ) {\n            newY = 0;\n        } else if ( newY < this.maxScrollY ) {\n            newY = this.maxScrollY;\n        }\n\n        this.scrollTo(newX, newY, 0);\n\n// INSERT POINT: _wheel\n    },\n\n    _initSnap: function () {\n        this.currentPage = {};\n\n        if ( typeof this.options.snap == 'string' ) {\n            this.options.snap = this.scroller.querySelectorAll(this.options.snap);\n        }\n\n        this.on('refresh', function () {\n            var i = 0, l,\n                m = 0, n,\n                cx, cy,\n                x = 0, y,\n                stepX = this.options.snapStepX || this.wrapperWidth,\n                stepY = this.options.snapStepY || this.wrapperHeight,\n                el;\n\n            this.pages = [];\n\n            if ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {\n                return;\n            }\n\n            if ( this.options.snap === true ) {\n                cx = Math.round( stepX / 2 );\n                cy = Math.round( stepY / 2 );\n\n                while ( x > -this.scrollerWidth ) {\n                    this.pages[i] = [];\n                    l = 0;\n                    y = 0;\n\n                    while ( y > -this.scrollerHeight ) {\n                        this.pages[i][l] = {\n                            x: Math.max(x, this.maxScrollX),\n                            y: Math.max(y, this.maxScrollY),\n                            width: stepX,\n                            height: stepY,\n                            cx: x - cx,\n                            cy: y - cy\n                        };\n\n                        y -= stepY;\n                        l++;\n                    }\n\n                    x -= stepX;\n                    i++;\n                }\n            } else {\n                el = this.options.snap;\n                l = el.length;\n                n = -1;\n\n                for ( ; i < l; i++ ) {\n                    if ( i === 0 || el[i].offsetLeft <= el[i-1].offsetLeft ) {\n                        m = 0;\n                        n++;\n                    }\n\n                    if ( !this.pages[m] ) {\n                        this.pages[m] = [];\n                    }\n\n                    x = Math.max(-el[i].offsetLeft, this.maxScrollX);\n                    y = Math.max(-el[i].offsetTop, this.maxScrollY);\n                    cx = x - Math.round(el[i].offsetWidth / 2);\n                    cy = y - Math.round(el[i].offsetHeight / 2);\n\n                    this.pages[m][n] = {\n                        x: x,\n                        y: y,\n                        width: el[i].offsetWidth,\n                        height: el[i].offsetHeight,\n                        cx: cx,\n                        cy: cy\n                    };\n\n                    if ( x > this.maxScrollX ) {\n                        m++;\n                    }\n                }\n            }\n\n            this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);\n\n            // Update snap threshold if needed\n            if ( this.options.snapThreshold % 1 === 0 ) {\n                this.snapThresholdX = this.options.snapThreshold;\n                this.snapThresholdY = this.options.snapThreshold;\n            } else {\n                this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n                this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n            }\n        });\n\n        this.on('flick', function () {\n            var time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(this.x - this.startX), 1000),\n                        Math.min(Math.abs(this.y - this.startY), 1000)\n                    ), 300);\n\n            this.goToPage(\n                this.currentPage.pageX + this.directionX,\n                this.currentPage.pageY + this.directionY,\n                time\n            );\n        });\n    },\n\n    _nearestSnap: function (x, y) {\n        if ( !this.pages.length ) {\n            return { x: 0, y: 0, pageX: 0, pageY: 0 };\n        }\n\n        var i = 0,\n            l = this.pages.length,\n            m = 0;\n\n        // Check if we exceeded the snap threshold\n        if ( Math.abs(x - this.absStartX) < this.snapThresholdX &&\n            Math.abs(y - this.absStartY) < this.snapThresholdY ) {\n            return this.currentPage;\n        }\n\n        if ( x > 0 ) {\n            x = 0;\n        } else if ( x < this.maxScrollX ) {\n            x = this.maxScrollX;\n        }\n\n        if ( y > 0 ) {\n            y = 0;\n        } else if ( y < this.maxScrollY ) {\n            y = this.maxScrollY;\n        }\n\n        for ( ; i < l; i++ ) {\n            if ( x >= this.pages[i][0].cx ) {\n                x = this.pages[i][0].x;\n                break;\n            }\n        }\n\n        l = this.pages[i].length;\n\n        for ( ; m < l; m++ ) {\n            if ( y >= this.pages[0][m].cy ) {\n                y = this.pages[0][m].y;\n                break;\n            }\n        }\n\n        if ( i == this.currentPage.pageX ) {\n            i += this.directionX;\n\n            if ( i < 0 ) {\n                i = 0;\n            } else if ( i >= this.pages.length ) {\n                i = this.pages.length - 1;\n            }\n\n            x = this.pages[i][0].x;\n        }\n\n        if ( m == this.currentPage.pageY ) {\n            m += this.directionY;\n\n            if ( m < 0 ) {\n                m = 0;\n            } else if ( m >= this.pages[0].length ) {\n                m = this.pages[0].length - 1;\n            }\n\n            y = this.pages[0][m].y;\n        }\n\n        return {\n            x: x,\n            y: y,\n            pageX: i,\n            pageY: m\n        };\n    },\n\n    goToPage: function (x, y, time, easing) {\n        easing = easing || this.options.bounceEasing;\n\n        if ( x >= this.pages.length ) {\n            x = this.pages.length - 1;\n        } else if ( x < 0 ) {\n            x = 0;\n        }\n\n        if ( y >= this.pages[x].length ) {\n            y = this.pages[x].length - 1;\n        } else if ( y < 0 ) {\n            y = 0;\n        }\n\n        var posX = this.pages[x][y].x,\n            posY = this.pages[x][y].y;\n\n        time = time === undefined ? this.options.snapSpeed || Math.max(\n            Math.max(\n                Math.min(Math.abs(posX - this.x), 1000),\n                Math.min(Math.abs(posY - this.y), 1000)\n            ), 300) : time;\n\n        this.currentPage = {\n            x: posX,\n            y: posY,\n            pageX: x,\n            pageY: y\n        };\n\n        this.scrollTo(posX, posY, time, easing);\n    },\n\n    next: function (time, easing) {\n        var x = this.currentPage.pageX,\n            y = this.currentPage.pageY;\n\n        x++;\n\n        if ( x >= this.pages.length && this.hasVerticalScroll ) {\n            x = 0;\n            y++;\n        }\n\n        this.goToPage(x, y, time, easing);\n    },\n\n    prev: function (time, easing) {\n        var x = this.currentPage.pageX,\n            y = this.currentPage.pageY;\n\n        x--;\n\n        if ( x < 0 && this.hasVerticalScroll ) {\n            x = 0;\n            y--;\n        }\n\n        this.goToPage(x, y, time, easing);\n    },\n\n    _initKeys: function (e) {\n        // default key bindings\n        var keys = {\n            pageUp: 33,\n            pageDown: 34,\n            end: 35,\n            home: 36,\n            left: 37,\n            up: 38,\n            right: 39,\n            down: 40\n        };\n        var i;\n\n        // if you give me characters I give you keycode\n        if ( typeof this.options.keyBindings == 'object' ) {\n            for ( i in this.options.keyBindings ) {\n                if ( typeof this.options.keyBindings[i] == 'string' ) {\n                    this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n                }\n            }\n        } else {\n            this.options.keyBindings = {};\n        }\n\n        for ( i in keys ) {\n            this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n        }\n\n        utils.addEvent(window, 'keydown', this);\n\n        this.on('destroy', function () {\n            utils.removeEvent(window, 'keydown', this);\n        });\n    },\n\n    _key: function (e) {\n        if ( !this.enabled ) {\n            return;\n        }\n\n        var snap = this.options.snap,   // we are using this alot, better to cache it\n            newX = snap ? this.currentPage.pageX : this.x,\n            newY = snap ? this.currentPage.pageY : this.y,\n            now = utils.getTime(),\n            prevTime = this.keyTime || 0,\n            acceleration = 0.250,\n            pos;\n\n        if ( this.options.useTransition && this.isInTransition ) {\n            pos = this.getComputedPosition();\n\n            this._translate(Math.round(pos.x), Math.round(pos.y));\n            this.isInTransition = false;\n        }\n\n        this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n        switch ( e.keyCode ) {\n            case this.options.keyBindings.pageUp:\n                if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n                    newX += snap ? 1 : this.wrapperWidth;\n                } else {\n                    newY += snap ? 1 : this.wrapperHeight;\n                }\n                break;\n            case this.options.keyBindings.pageDown:\n                if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n                    newX -= snap ? 1 : this.wrapperWidth;\n                } else {\n                    newY -= snap ? 1 : this.wrapperHeight;\n                }\n                break;\n            case this.options.keyBindings.end:\n                newX = snap ? this.pages.length-1 : this.maxScrollX;\n                newY = snap ? this.pages[0].length-1 : this.maxScrollY;\n                break;\n            case this.options.keyBindings.home:\n                newX = 0;\n                newY = 0;\n                break;\n            case this.options.keyBindings.left:\n                newX += snap ? -1 : 5 + this.keyAcceleration>>0;\n                break;\n            case this.options.keyBindings.up:\n                newY += snap ? 1 : 5 + this.keyAcceleration>>0;\n                break;\n            case this.options.keyBindings.right:\n                newX -= snap ? -1 : 5 + this.keyAcceleration>>0;\n                break;\n            case this.options.keyBindings.down:\n                newY -= snap ? 1 : 5 + this.keyAcceleration>>0;\n                break;\n            default:\n                return;\n        }\n\n        if ( snap ) {\n            this.goToPage(newX, newY);\n            return;\n        }\n\n        if ( newX > 0 ) {\n            newX = 0;\n            this.keyAcceleration = 0;\n        } else if ( newX < this.maxScrollX ) {\n            newX = this.maxScrollX;\n            this.keyAcceleration = 0;\n        }\n\n        if ( newY > 0 ) {\n            newY = 0;\n            this.keyAcceleration = 0;\n        } else if ( newY < this.maxScrollY ) {\n            newY = this.maxScrollY;\n            this.keyAcceleration = 0;\n        }\n\n        this.scrollTo(newX, newY, 0);\n\n        this.keyTime = now;\n    },\n\n    _animate: function (destX, destY, duration, easingFn) {\n        var that = this,\n            startX = this.x,\n            startY = this.y,\n            startTime = utils.getTime(),\n            destTime = startTime + duration;\n\n        function step () {\n            var now = utils.getTime(),\n                newX, newY,\n                easing;\n\n            if ( now >= destTime ) {\n                that.isAnimating = false;\n                that._translate(destX, destY);\n\n                if ( !that.resetPosition(that.options.bounceTime) ) {\n                    that._execEvent('scrollEnd');\n                }\n\n                return;\n            }\n\n            now = ( now - startTime ) / duration;\n            easing = easingFn(now);\n            newX = ( destX - startX ) * easing + startX;\n            newY = ( destY - startY ) * easing + startY;\n            that._translate(newX, newY);\n\n            if ( that.isAnimating ) {\n                rAF(step);\n            }\n        }\n\n        this.isAnimating = true;\n        step();\n    },\n    handleEvent: function (e) {\n        switch ( e.type ) {\n            case 'touchstart':\n            case 'pointerdown':\n            case 'MSPointerDown':\n            case 'mousedown':\n                this._start(e);\n                break;\n            case 'touchmove':\n            case 'pointermove':\n            case 'MSPointerMove':\n            case 'mousemove':\n                this._move(e);\n                break;\n            case 'touchend':\n            case 'pointerup':\n            case 'MSPointerUp':\n            case 'mouseup':\n            case 'touchcancel':\n            case 'pointercancel':\n            case 'MSPointerCancel':\n            case 'mousecancel':\n                this._end(e);\n                break;\n            case 'orientationchange':\n            case 'resize':\n                this._resize();\n                break;\n            case 'transitionend':\n            case 'webkitTransitionEnd':\n            case 'oTransitionEnd':\n            case 'MSTransitionEnd':\n                this._transitionEnd(e);\n                break;\n            case 'wheel':\n            case 'DOMMouseScroll':\n            case 'mousewheel':\n                this._wheel(e);\n                break;\n            case 'keydown':\n                this._key(e);\n                break;\n            case 'click':\n                if ( this.enabled && !e._constructed ) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n        }\n    }\n};\nfunction createDefaultScrollbar (direction, interactive, type) {\n    var scrollbar = document.createElement('div'),\n        indicator = document.createElement('div');\n\n    if ( type === true ) {\n        scrollbar.style.cssText = 'position:absolute;z-index:9999';\n        indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n    }\n\n    indicator.className = 'iScrollIndicator';\n\n    if ( direction == 'h' ) {\n        if ( type === true ) {\n            scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n            indicator.style.height = '100%';\n        }\n        scrollbar.className = 'iScrollHorizontalScrollbar';\n    } else {\n        if ( type === true ) {\n            scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n            indicator.style.width = '100%';\n        }\n        scrollbar.className = 'iScrollVerticalScrollbar';\n    }\n\n    scrollbar.style.cssText += ';overflow:hidden';\n\n    if ( !interactive ) {\n        scrollbar.style.pointerEvents = 'none';\n    }\n\n    scrollbar.appendChild(indicator);\n\n    return scrollbar;\n}\n\nfunction Indicator (scroller, options) {\n    this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n    this.wrapperStyle = this.wrapper.style;\n    this.indicator = this.wrapper.children[0];\n    this.indicatorStyle = this.indicator.style;\n    this.scroller = scroller;\n\n    this.options = {\n        listenX: true,\n        listenY: true,\n        interactive: false,\n        resize: true,\n        defaultScrollbars: false,\n        shrink: false,\n        fade: false,\n        speedRatioX: 0,\n        speedRatioY: 0\n    };\n\n    for ( var i in options ) {\n        this.options[i] = options[i];\n    }\n\n    this.sizeRatioX = 1;\n    this.sizeRatioY = 1;\n    this.maxPosX = 0;\n    this.maxPosY = 0;\n\n    if ( this.options.interactive ) {\n        if ( !this.options.disableTouch ) {\n            utils.addEvent(this.indicator, 'touchstart', this);\n            utils.addEvent(window, 'touchend', this);\n        }\n        if ( !this.options.disablePointer ) {\n            utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n            utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n        }\n        if ( !this.options.disableMouse ) {\n            utils.addEvent(this.indicator, 'mousedown', this);\n            utils.addEvent(window, 'mouseup', this);\n        }\n    }\n\n    if ( this.options.fade ) {\n        this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n        var durationProp = utils.style.transitionDuration;\n        if(!durationProp) {\n            return;\n        }\n        this.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms';\n        // remove 0.0001ms\n        var self = this;\n        if(utils.isBadAndroid) {\n            rAF(function() {\n                if(self.wrapperStyle[durationProp] === '0.0001ms') {\n                    self.wrapperStyle[durationProp] = '0s';\n                }\n            });\n        }\n        this.wrapperStyle.opacity = '0';\n    }\n}\n\nIndicator.prototype = {\n    handleEvent: function (e) {\n        switch ( e.type ) {\n            case 'touchstart':\n            case 'pointerdown':\n            case 'MSPointerDown':\n            case 'mousedown':\n                this._start(e);\n                break;\n            case 'touchmove':\n            case 'pointermove':\n            case 'MSPointerMove':\n            case 'mousemove':\n                this._move(e);\n                break;\n            case 'touchend':\n            case 'pointerup':\n            case 'MSPointerUp':\n            case 'mouseup':\n            case 'touchcancel':\n            case 'pointercancel':\n            case 'MSPointerCancel':\n            case 'mousecancel':\n                this._end(e);\n                break;\n        }\n    },\n\n    destroy: function () {\n        if ( this.options.fadeScrollbars ) {\n            clearTimeout(this.fadeTimeout);\n            this.fadeTimeout = null;\n        }\n        if ( this.options.interactive ) {\n            utils.removeEvent(this.indicator, 'touchstart', this);\n            utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n            utils.removeEvent(this.indicator, 'mousedown', this);\n\n            utils.removeEvent(window, 'touchmove', this);\n            utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n            utils.removeEvent(window, 'mousemove', this);\n\n            utils.removeEvent(window, 'touchend', this);\n            utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n            utils.removeEvent(window, 'mouseup', this);\n        }\n\n        if ( this.options.defaultScrollbars ) {\n            this.wrapper.parentNode.removeChild(this.wrapper);\n        }\n    },\n\n    _start: function (e) {\n        var point = e.touches ? e.touches[0] : e;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.transitionTime();\n\n        this.initiated = true;\n        this.moved = false;\n        this.lastPointX = point.pageX;\n        this.lastPointY = point.pageY;\n\n        this.startTime  = utils.getTime();\n\n        if ( !this.options.disableTouch ) {\n            utils.addEvent(window, 'touchmove', this);\n        }\n        if ( !this.options.disablePointer ) {\n            utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n        }\n        if ( !this.options.disableMouse ) {\n            utils.addEvent(window, 'mousemove', this);\n        }\n\n        this.scroller._execEvent('beforeScrollStart');\n    },\n\n    _move: function (e) {\n        var point = e.touches ? e.touches[0] : e,\n            deltaX, deltaY,\n            newX, newY,\n            timestamp = utils.getTime();\n\n        if ( !this.moved ) {\n            this.scroller._execEvent('scrollStart');\n        }\n\n        this.moved = true;\n\n        deltaX = point.pageX - this.lastPointX;\n        this.lastPointX = point.pageX;\n\n        deltaY = point.pageY - this.lastPointY;\n        this.lastPointY = point.pageY;\n\n        newX = this.x + deltaX;\n        newY = this.y + deltaY;\n\n        this._pos(newX, newY);\n\n// INSERT POINT: indicator._move\n\n        e.preventDefault();\n        e.stopPropagation();\n    },\n\n    _end: function (e) {\n        if ( !this.initiated ) {\n            return;\n        }\n\n        this.initiated = false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        utils.removeEvent(window, 'touchmove', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n        utils.removeEvent(window, 'mousemove', this);\n\n        if ( this.scroller.options.snap ) {\n            var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n            var time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(this.scroller.x - snap.x), 1000),\n                        Math.min(Math.abs(this.scroller.y - snap.y), 1000)\n                    ), 300);\n\n            if ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {\n                this.scroller.directionX = 0;\n                this.scroller.directionY = 0;\n                this.scroller.currentPage = snap;\n                this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n            }\n        }\n\n        if ( this.moved ) {\n            this.scroller._execEvent('scrollEnd');\n        }\n    },\n\n    transitionTime: function (time) {\n        time = time || 0;\n        var durationProp = utils.style.transitionDuration;\n        if(!durationProp) {\n            return;\n        }\n\n        this.indicatorStyle[durationProp] = time + 'ms';\n\n        if ( !time && utils.isBadAndroid ) {\n            this.indicatorStyle[durationProp] = '0.0001ms';\n            // remove 0.0001ms\n            var self = this;\n            rAF(function() {\n                if(self.indicatorStyle[durationProp] === '0.0001ms') {\n                    self.indicatorStyle[durationProp] = '0s';\n                }\n            });\n        }\n    },\n\n    transitionTimingFunction: function (easing) {\n        this.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n    },\n\n    refresh: function () {\n        this.transitionTime();\n\n        if ( this.options.listenX && !this.options.listenY ) {\n            this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n        } else if ( this.options.listenY && !this.options.listenX ) {\n            this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n        } else {\n            this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n        }\n\n        if ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {\n            utils.addClass(this.wrapper, 'iScrollBothScrollbars');\n            utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n            if ( this.options.defaultScrollbars && this.options.customStyle ) {\n                if ( this.options.listenX ) {\n                    this.wrapper.style.right = '8px';\n                } else {\n                    this.wrapper.style.bottom = '8px';\n                }\n            }\n        } else {\n            utils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n            utils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n            if ( this.options.defaultScrollbars && this.options.customStyle ) {\n                if ( this.options.listenX ) {\n                    this.wrapper.style.right = '2px';\n                } else {\n                    this.wrapper.style.bottom = '2px';\n                }\n            }\n        }\n\n        var r = this.wrapper.offsetHeight;  // force refresh\n\n        if ( this.options.listenX ) {\n            this.wrapperWidth = this.wrapper.clientWidth;\n            if ( this.options.resize ) {\n                this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n                this.indicatorStyle.width = this.indicatorWidth + 'px';\n            } else {\n                this.indicatorWidth = this.indicator.clientWidth;\n            }\n\n            this.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n            if ( this.options.shrink == 'clip' ) {\n                this.minBoundaryX = -this.indicatorWidth + 8;\n                this.maxBoundaryX = this.wrapperWidth - 8;\n            } else {\n                this.minBoundaryX = 0;\n                this.maxBoundaryX = this.maxPosX;\n            }\n\n            this.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n        }\n\n        if ( this.options.listenY ) {\n            this.wrapperHeight = this.wrapper.clientHeight;\n            if ( this.options.resize ) {\n                this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n                this.indicatorStyle.height = this.indicatorHeight + 'px';\n            } else {\n                this.indicatorHeight = this.indicator.clientHeight;\n            }\n\n            this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n            if ( this.options.shrink == 'clip' ) {\n                this.minBoundaryY = -this.indicatorHeight + 8;\n                this.maxBoundaryY = this.wrapperHeight - 8;\n            } else {\n                this.minBoundaryY = 0;\n                this.maxBoundaryY = this.maxPosY;\n            }\n\n            this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n            this.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n        }\n\n        this.updatePosition();\n    },\n\n    updatePosition: function () {\n        var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n            y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n        if ( !this.options.ignoreBoundaries ) {\n            if ( x < this.minBoundaryX ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.width = Math.max(this.indicatorWidth + x, 8);\n                    this.indicatorStyle.width = this.width + 'px';\n                }\n                x = this.minBoundaryX;\n            } else if ( x > this.maxBoundaryX ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n                    this.indicatorStyle.width = this.width + 'px';\n                    x = this.maxPosX + this.indicatorWidth - this.width;\n                } else {\n                    x = this.maxBoundaryX;\n                }\n            } else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {\n                this.width = this.indicatorWidth;\n                this.indicatorStyle.width = this.width + 'px';\n            }\n\n            if ( y < this.minBoundaryY ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.height = Math.max(this.indicatorHeight + y * 3, 8);\n                    this.indicatorStyle.height = this.height + 'px';\n                }\n                y = this.minBoundaryY;\n            } else if ( y > this.maxBoundaryY ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n                    this.indicatorStyle.height = this.height + 'px';\n                    y = this.maxPosY + this.indicatorHeight - this.height;\n                } else {\n                    y = this.maxBoundaryY;\n                }\n            } else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {\n                this.height = this.indicatorHeight;\n                this.indicatorStyle.height = this.height + 'px';\n            }\n        }\n\n        this.x = x;\n        this.y = y;\n\n        if ( this.scroller.options.useTransform ) {\n            this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n        } else {\n            this.indicatorStyle.left = x + 'px';\n            this.indicatorStyle.top = y + 'px';\n        }\n    },\n\n    _pos: function (x, y) {\n        if ( x < 0 ) {\n            x = 0;\n        } else if ( x > this.maxPosX ) {\n            x = this.maxPosX;\n        }\n\n        if ( y < 0 ) {\n            y = 0;\n        } else if ( y > this.maxPosY ) {\n            y = this.maxPosY;\n        }\n\n        x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n        y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n\n        this.scroller.scrollTo(x, y);\n    },\n\n    fade: function (val, hold) {\n        if ( hold && !this.visible ) {\n            return;\n        }\n\n        clearTimeout(this.fadeTimeout);\n        this.fadeTimeout = null;\n\n        var time = val ? 250 : 500,\n            delay = val ? 0 : 300;\n\n        val = val ? '1' : '0';\n\n        this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n\n        this.fadeTimeout = setTimeout((function (val) {\n            this.wrapperStyle.opacity = val;\n            this.visible = +val;\n        }).bind(this, val), delay);\n    }\n};\n\nIScroll.utils = utils;\n\nif ( typeof module != 'undefined' && module.exports ) {\n    module.exports = IScroll;\n} else if ( typeof define == 'function' && define.amd ) {\n    define( function () { return IScroll; } );\n\n    //making sure scrollOverflow works when using Require.js\n    //in the browser\n    if(typeof window !== 'undefined'){\n        window.IScroll = IScroll;\n    }\n} else {\n    window.IScroll = IScroll;\n}\n\n})(window, document, Math);\n\n\n/*!\n* Scrolloverflow 2.0.6 module for fullPage.js >= 3\n* https://github.com/alvarotrigo/fullPage.js\n* @license MIT licensed\n*\n* Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo\n*/\n(function (window, document) {\n    window.fp_scrolloverflow = (function() {\n\n        // check if IScroll is available in global scope\n        if (!window.IScroll) {\n            // otherwise create local one from module.exports\n            window.IScroll = module.exports;\n        }\n\n        // keeping central set of classnames and selectors\n        var SCROLLABLE =            'fp-scrollable';\n        var SCROLLABLE_SEL =        '.' + SCROLLABLE;\n\n        var ACTIVE =                'active';\n        var ACTIVE_SEL =            '.' + ACTIVE;\n\n        var SECTION =               'fp-section';\n        var SECTION_SEL =           '.' + SECTION;\n        var SECTION_ACTIVE_SEL =    SECTION_SEL + ACTIVE_SEL;\n\n        var SLIDE =                 'fp-slide';\n        var SLIDE_SEL =             '.' + SLIDE;\n        var SLIDE_ACTIVE_SEL =      SLIDE_SEL + ACTIVE_SEL;\n\n        var SLIDES_WRAPPER =        'fp-slides';\n        var SLIDES_WRAPPER_SEL =    '.' + SLIDES_WRAPPER;\n\n        var TABLE_CELL =            'fp-tableCell';\n        var TABLE_CELL_SEL =        '.' + TABLE_CELL;\n\n        var RESPONSIVE =            'fp-responsive';\n        var AUTO_HEIGHT_RESPONSIVE= 'fp-auto-height-responsive';\n\n        /*\n        * Turns iScroll `mousewheel` option off dynamically\n        * https://github.com/cubiq/iscroll/issues/1036\n        */\n        IScroll.prototype.wheelOn = function () {\n            this.wrapper.addEventListener('wheel', this);\n            this.wrapper.addEventListener('mousewheel', this);\n            this.wrapper.addEventListener('DOMMouseScroll', this);\n        };\n\n        /*\n        * Turns iScroll `mousewheel` option on dynamically\n        * https://github.com/cubiq/iscroll/issues/1036\n        */\n        IScroll.prototype.wheelOff = function () {\n            this.wrapper.removeEventListener('wheel', this);\n            this.wrapper.removeEventListener('mousewheel', this);\n            this.wrapper.removeEventListener('DOMMouseScroll', this);\n        };\n\n        /**\n        * Returns an integer representing the padding dimensions in px.\n        */\n        function getPaddings(element){\n            var section = fp_utils.closest(element, SECTION_SEL);\n            if(section != null){\n                return parseInt(getComputedStyle(section)['padding-bottom']) + parseInt(getComputedStyle(section)['padding-top']);\n            }\n            return 0;\n        }\n\n        function scrollBarHandler(){\n            var self = this;\n            self.options = null;\n\n            self.init = function(options, iscrollOptions){\n                self.options = options;\n                self.iscrollOptions = iscrollOptions;\n\n                if(document.readyState === 'complete'){\n                    createScrollBarForAll();\n                    fullpage_api.shared.afterRenderActions();\n                }\n                //after DOM and images are loaded\n                window.addEventListener('load', function(){\n                    createScrollBarForAll();\n                    fullpage_api.shared.afterRenderActions();\n                });\n\n                return self;\n            };\n\n            /**\n            * Creates the scrollbar for the sections and slides in the site\n            */\n            function createScrollBarForAll(){\n                if(fp_utils.hasClass(document.body, RESPONSIVE)){\n                    forEachSectionAndSlide(removeScrollBar);\n                }\n                else{\n                    forEachSectionAndSlide(createScrollBar);\n                }\n            }\n\n            /**\n            * Checks if the element needs scrollbar and if the user wants to apply it.\n            * If so it creates it.\n            *\n            * @param {Object} element   jQuery object of the section or slide\n            */\n            function createScrollBar(element){\n                //User doesn't want scrollbar here? Sayonara baby!\n                if(fp_utils.hasClass(element, 'fp-noscroll')) return;\n\n                //necessary to make `scrollHeight` work under Opera 12\n                fp_utils.css(element, {'overflow': 'hidden'});\n\n                var scrollOverflowHandler = self.options.scrollOverflowHandler;\n                var wrap = scrollOverflowHandler.wrapContent();\n                var section = fp_utils.closest(element, SECTION_SEL); //in case element is a slide\n                var scrollable = scrollOverflowHandler.scrollable(element);\n                var contentHeight;\n                var paddings = getPaddings(section);\n\n                //if there was scroll, the contentHeight will be the one in the scrollable section\n                if(scrollable != null){\n                    contentHeight = scrollOverflowHandler.scrollHeight(element);\n                }\n                else{\n                    contentHeight = element.scrollHeight;\n                    if(self.options.verticalCentered){\n                        contentHeight = $(TABLE_CELL_SEL, element)[0].scrollHeight;\n                    }\n                }\n\n                var scrollHeight = fp_utils.getWindowHeight();\n                var contentHeightWidthPaddings = contentHeight + paddings;\n                var scrollHeightWidthoutPaddings = scrollHeight - paddings;\n                \n                //needs scroll?\n                if ( contentHeightWidthPaddings > scrollHeight) {\n                    //did we already have an scrollbar ? Updating it\n                    if(scrollable != null){\n                        scrollOverflowHandler.update(element, scrollHeightWidthoutPaddings);\n                    }\n                     //creating the scrolling\n                    else{\n                        if(self.options.verticalCentered){\n                            fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scroller);\n                            fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scrollable);\n                        }else{\n                            fp_utils.wrapInner(element, wrap.scroller);\n                            fp_utils.wrapInner(element, wrap.scrollable);\n                        }\n                        scrollOverflowHandler.create(element, scrollHeightWidthoutPaddings, self.iscrollOptions);\n                    }\n                }\n\n                //removing the scrolling when it is not necessary anymore\n                else{\n                    scrollOverflowHandler.remove(element);\n                }\n\n                //undo\n                fp_utils.css(element, {'overflow': ''});\n            }\n\n            /**\n            * Applies a callback function to each section in the site\n            * or the slides within them\n            */\n            function forEachSectionAndSlide(callback){\n                $(SECTION_SEL).forEach(function(section){\n                    var slides = $(SLIDE_SEL, section);\n\n                    if(slides.length){\n                        slides.forEach(function(slide){\n                            callback(slide);\n                        });\n                    }else{\n                        callback(section);\n                    }\n                });\n            }\n\n            /**\n            * Removes scrollOverflow for sections using the class `fp-auto-height-responsive`\n            */\n            function removeScrollBar(element){\n                var scrollOverflowHandler = self.options.scrollOverflowHandler;\n                if(fp_utils.hasClass( fp_utils.closest(element, SECTION_SEL), AUTO_HEIGHT_RESPONSIVE)){\n                    scrollOverflowHandler.remove(element);\n                }\n            }\n\n            //public functions\n            self.createScrollBarForAll = createScrollBarForAll;\n            self.createScrollBar = createScrollBar;\n        }\n\n        /**\n         * An object to handle overflow scrolling.\n         * This uses jquery.slimScroll to accomplish overflow scrolling.\n         * It is possible to pass in an alternate scrollOverflowHandler\n         * to the fullpage.js option that implements the same functions\n         * as this handler.\n         *\n         * @type {Object}\n         */\n        var $ = null;\n        var g_fullpageOptions = null;\n        var iscrollHandler = {\n            refreshId: null,\n            iScrollInstances: [],\n            lastScrollY: null,\n            hasBeenInit: false,\n\n            // Default options for iScroll.js used when using scrollOverflow\n            iscrollOptions: {\n                scrollbars: true,\n                mouseWheel: true,\n                hideScrollbars: false,\n                fadeScrollbars: false,\n                disableMouse: true,\n                interactiveScrollbars: true\n            },\n\n            init: function(options){\n                $ = fp_utils.$;\n                g_fullpageOptions = options;\n\n                var isTouch = (('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0) || (navigator.maxTouchPoints));\n\n                //fixing bug in iScroll with links: https://github.com/cubiq/iscroll/issues/783\n                iscrollHandler.iscrollOptions.click = isTouch; // see #2035\n\n                iscrollHandler.hasBeenInit = true;\n\n                //extending iScroll options with the user custom ones\n                iscrollHandler.iscrollOptions = fp_utils.deepExtend(iscrollHandler.iscrollOptions, options.scrollOverflowOptions);\n\n                return new scrollBarHandler().init(options, iscrollHandler.iscrollOptions);\n            },\n\n            // Enables or disables the mouse wheel for the active section or all slides in it\n            toggleWheel: function(value){\n                var scrollable = $(SCROLLABLE_SEL, $(SECTION_ACTIVE_SEL)[0]);\n                scrollable.forEach(function(item){\n                    var iScrollInstance = item.fp_iscrollInstance;\n                    if(iScrollInstance != null){\n                        if(value){\n                            iScrollInstance.wheelOn();\n                        }\n                        else{\n                            iScrollInstance.wheelOff();\n                        }\n                    }\n                });\n            },\n\n            // Enables or disables the whole iScroll feature based on the given parameter.\n            setIscroll: function(target, enable){\n                if(!iscrollHandler.hasBeenInit || !target){\n                    return;\n                }\n                var scrollable = fp_utils.closest(target, SCROLLABLE_SEL) || ($(SCROLLABLE_SEL, target) && $(SCROLLABLE_SEL, target)[0]);\n                var action = enable ? 'enable' : 'disable';\n                \n                if(scrollable){\n                    scrollable.fp_iscrollInstance[action]();\n                }\n            },\n\n            /**\n            * Turns off iScroll for the destination section.\n            * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would\n            * scroll the destination section/slide before the sections animations ends.\n            */\n            onLeave: function(){\n                iscrollHandler.toggleWheel(false);\n            },\n\n            // Turns off iScroll for the leaving section\n            beforeLeave: function(){\n                iscrollHandler.onLeave()\n            },\n\n            // Turns on iScroll on section load\n            afterLoad: function(){\n                iscrollHandler.toggleWheel(true);\n            },\n\n            /**\n             * Called when overflow scrolling is needed for a section.\n             *\n             * @param  {Object} element      jQuery object containing current section\n             * @param  {Number} scrollHeight Current window height in pixels\n             */\n            create: function(element, scrollHeight, iscrollOptions) {\n                var scrollable = $(SCROLLABLE_SEL, element);\n\n                scrollable.forEach(function(item) {\n                    fp_utils.css(item, {'height': scrollHeight + 'px'});\n\n                    var iScrollInstance = item.fp_iscrollInstance;\n                    if (iScrollInstance != null) {\n                        iscrollHandler.iScrollInstances.forEach(function(instance){\n                            instance.destroy();\n                        });\n                    }\n\n                    iScrollInstance = new IScroll(item, iscrollOptions);\n                    iscrollHandler.iScrollInstances.push(iScrollInstance);\n\n                    if(!fp_utils.hasClass(fp_utils.closest(element, SECTION_SEL), ACTIVE)){\n                        //off by default until the section gets active\n                        iScrollInstance.wheelOff();\n                    }\n\n                    item.fp_iscrollInstance = iScrollInstance;\n                });\n            },\n\n            /**\n             * Return a boolean depending on whether the scrollable element is a\n             * the end or at the start of the scrolling depending on the given type.\n             *\n             * @param  {String}  type       Either 'top' or 'bottom'\n             * @param  {Object}  scrollable jQuery object for the scrollable element\n             * @return {Boolean}\n             */\n            isScrolled: function(type, scrollable) {\n                var scroller = scrollable.fp_iscrollInstance;\n\n                //no scroller?\n                if (!scroller) {\n                    return true;\n                }\n\n                // two times reporting the same Y position ? \n                // that means we are on the top or on the bottom of the scroller\n                \n                if (type === 'top'){\n                    return scroller.y >= 0 && !fp_utils.getScrollTop(scrollable);\n                } else if (type === 'bottom') {\n\n                    // Checking the same position twice? We are at the very bottom (at least on Desktop)\n                    var isDoubleChecking = iscrollHandler.lastScrollY === scroller.y;\n                    iscrollHandler.lastScrollY = scroller.y;\n    \n                    // An offset of 1px is required for IE / Edge to work\n                    var offset = isDoubleChecking ? 1 : 0;\n                    \n                    return offset + (0 - scroller.y) + fp_utils.getScrollTop(scrollable) + scrollable.offsetHeight >= scrollable.scrollHeight;\n                }\n            },\n\n            /**\n             * Returns the scrollable element for the given section.\n             * If there are landscape slides, will only return a scrollable element\n             * if it is in the active slide.\n             *\n             * @param  {Object}  activeSection jQuery object containing current section\n             * @return {Boolean}\n             */\n            scrollable: function(activeSection){\n                // if there are landscape slides, we check if the scrolling bar is in the current one or not\n                if ($(SLIDES_WRAPPER_SEL, activeSection).length) {\n                    return $(SCROLLABLE_SEL, $(SLIDE_ACTIVE_SEL, activeSection)[0] )[0];\n                }\n                return $(SCROLLABLE_SEL, activeSection)[0];\n            },\n\n            /**\n             * Returns the scroll height of the wrapped content.\n             * If this is larger than the window height minus section padding,\n             * overflow scrolling is needed.\n             *\n             * @param  {Object} element jQuery object containing current section\n             * @return {Number}\n             */\n            scrollHeight: function(element) {\n                return $('.fp-scroller', $(SCROLLABLE_SEL, element)[0] )[0].scrollHeight;\n            },\n\n            /**\n             * Called when overflow scrolling is no longer needed for a section.\n             *\n             * @param  {Object} element      jQuery object containing current section\n             */\n            remove: function(element) {\n                if(element == null) return;\n\n                var scrollable = $(SCROLLABLE_SEL, element)[0];\n                if (scrollable != null) {\n                    var iScrollInstance = scrollable.fp_iscrollInstance;\n                    if(iScrollInstance != null){\n                        iScrollInstance.destroy();\n                    }\n\n                    scrollable.fp_iscrollInstance = null;\n\n                    //unwrapping...\n                    fp_utils.unwrap($('.fp-scroller', element)[0]);\n                    fp_utils.unwrap($(SCROLLABLE_SEL, element)[0]);\n                }\n            },\n\n            /**\n             * Called when overflow scrolling has already been setup but the\n             * window height has potentially changed.\n             *\n             * @param  {Object} element      jQuery object containing current section\n             * @param  {Number} scrollHeight Current window height in pixels\n             */\n            update: function(element, scrollHeight) {\n                //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a\n                //short period of time.\n                //it also comes on handy because iScroll requires the use of timeout when using `refresh`.\n                clearTimeout(iscrollHandler.refreshId);\n                iscrollHandler.refreshId = setTimeout(function(){\n                    iscrollHandler.iScrollInstances.forEach(function(instance){\n                        instance.refresh();\n\n                        //ugly hack that we are forced to use due to the timeout delay\n                        //otherwise done on the fullpage.js reBuild function\n                        fullpage_api.silentMoveTo(fp_utils.index($(SECTION_ACTIVE_SEL)[0]) + 1);\n                    });\n                }, 150);\n\n                //updating the wrappers height\n                fp_utils.css($(SCROLLABLE_SEL, element)[0], {'height': scrollHeight + 'px'});\n\n                if(g_fullpageOptions.verticalCentered){\n                    fp_utils.css($(SCROLLABLE_SEL, element)[0].parentNode, {'height': scrollHeight + 'px'});\n                }\n            },\n\n            /**\n             * Called to get any additional elements needed to wrap the section\n             * content in order to facilitate overflow scrolling.\n             *\n             * @return {String|Object} Can be a string containing HTML,\n             *                         a DOM element, or jQuery object.\n             */\n            wrapContent: function() {\n                var scrollable = document.createElement('div');\n                scrollable.className = SCROLLABLE;\n\n                var scroller = document.createElement('div');\n                scroller.className = 'fp-scroller';\n\n                return {\n                    scrollable: scrollable,\n                    scroller: scroller\n                };\n            }\n        };\n\n        return {\n            iscrollHandler: iscrollHandler\n        };\n    })();\n})(window, document);\n"]},"metadata":{},"sourceType":"script"}